var hl=Object.defineProperty;var bl=(r,d,t)=>d in r?hl(r,d,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[d]=t;var Ge=(r,d,t)=>(bl(r,typeof d!="symbol"?d+"":d,t),t);import{I,r as U,o as y,c as S,X as e,Q as n,u,a as $,av as ve,aw as he,ax as Je,i as T,A as W,a4 as pe,R as Z,P as E,V as w,W as N,S as Ue,U as z,Y as te,J as re,K as ee,n as gl,b as le,M as yl,F as A,a8 as H,ag as Re,z as de,$ as be,e as Qe,w as Ze,ay as J,E as Ke,H as Vl,D as $l,ar as wl}from"./@vue-fa59abb2.js";import{E as oe,a as G,b as kl,u as ie,c as _e,C as el,d as ge,e as xl,f as K,g as El,h as Ie,i as Cl,j as Pl,k as ll,l as ol,m as tl,n as al,o as nl,p as sl,w as ye,q as rl,r as dl,s as Ul,t as Se,v as Rl,x as Ve,y as Te,z as Oe,A as qe,B as Ae,D as $e,F as Ne,G as Fe,H as Il,I as Sl,J as Tl,K as Ol,L as ql,M as Al,N as Nl}from"./element-plus-0efb83dc.js";import{B as ze,Q as il,R as ul,S as cl,T as Fl,U as zl,a as Be,V as Bl,W as pl,o as _l,X as Ll,Y as Dl,c as Ml,Z as jl,A as fl,_ as Xe,P as Hl,$ as Wl,a0 as Gl,a1 as Kl}from"./@element-plus-d053c1a3.js";import{n as ae,m as X}from"./@vueuse-159cba4b.js";import{a as Xl}from"./axios-21b846bc.js";import{j as Yl}from"./lodash-es-21c98b27.js";import{F as Jl}from"./file-saver-469be3e2.js";import{c as Ql}from"./vite-plugin-mock-3ea673a4.js";import"./@sxzz-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-f21ac596.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-593301b5.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-72671fae.js";import"./mockjs-07179472.js";import"./path-to-regexp-31db6522.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();const Le=r=>(ve("data-v-e5f31a23"),r=r(),he(),r),Zl={class:"add-but"},eo={class:"node-select"},lo=Le(()=>$("span",null,"审批人",-1)),oo=Le(()=>$("span",null,"抄送人",-1)),to=Le(()=>$("span",null,"互斥分支",-1)),ao=I({__name:"index",emits:["addNode"],setup(r,{emit:d}){const t=U(),o=()=>{var s;d("addNode","approval"),(s=t.value)==null||s.hide()},l=()=>{var s;d("addNode","cc"),(s=t.value)==null||s.hide()},i=()=>{var s;d("addNode","exclusive"),(s=t.value)==null||s.hide()};return(s,b)=>{const h=oe,v=G,C=kl;return y(),S("div",Zl,[e(C,{placement:"bottom-start",ref_key:"nodePopoverRef",ref:t,trigger:"click",title:"添加节点",width:235},{reference:n(()=>[e(v,{icon:u(ze),type:"primary",style:{"z-index":"1"},circle:""},null,8,["icon"])]),default:n(()=>[$("div",eo,[$("div",{onClick:o},[e(h,{color:"#ff943e"},{default:n(()=>[e(u(il))]),_:1}),lo]),$("div",{onClick:l},[e(h,{color:"#3296fa"},{default:n(()=>[e(u(ul))]),_:1}),oo]),$("div",{onClick:i},[e(h,null,{default:n(()=>[e(u(cl))]),_:1}),to])])]),_:1},512)])}}});const O=(r,d)=>{const t=r.__vccOpts||r;for(const[o,l]of d)t[o]=l;return t},ml=O(ao,[["__scopeId","data-v-e5f31a23"]]),no={class:"node-box"},so={class:"head"},ro={key:2},io=I({__name:"index",props:{icon:{},node:{},color:{},readOnly:{type:Boolean,default:!1},close:{type:Boolean,default:!0},arrow:{type:Boolean,default:!0},errorInfo:{default:()=>({showError:!1,message:""})}},emits:["update:node"],setup(r,{emit:d}){const t=r;Je(_=>({f13798a2:v.value,"78d01a3e":h.value,f023673c:_.color}));const o={list:Bl,stamp:il,share:cl,promotion:ul},{node:l}=ae(t,d),i=U(!1),s=U(),b=ie(),h=T(()=>_e[b.value||"default"]+205+"px"),v=T(()=>_e[b.value||"default"]+60+"px"),{addNode:C,delNode:x,openPenal:P}=W("nodeHooks"),R=()=>{t.readOnly||P(l.value)},p=()=>{t.readOnly||(i.value=!0,gl(()=>{var _;(_=s.value)==null||_.focus()}))},a=()=>{i.value&&(i.value=!1)};return(_,m)=>{const c=oe,f=xl,g=K,k=G,F=El,Y=Ie;return y(),S("div",no,[e(Y,{shadow:"always",onClick:m[5]||(m[5]=B=>R()),class:ee(["node",{"error-node":t.errorInfo.showError}])},{header:n(()=>[$("div",so,[i.value?(y(),S("div",{key:0,onClick:m[2]||(m[2]=pe(()=>{},["stop"]))},[Z(e(u(ge),{ref_key:"inputRef",ref:s,onBlur:a,maxlength:"30",modelValue:u(l).name,"onUpdate:modelValue":m[1]||(m[1]=B=>u(l).name=B)},null,8,["modelValue"]),[[u(el),a]])])):(y(),E(g,{key:1,tag:"b",truncated:"",onClick:pe(p,["stop"])},{default:n(()=>[w(N(u(l).name)+" ",1),e(c,null,{default:n(()=>[e(u(Fl))]),_:1})]),_:1},8,["onClick"])),_.icon?(y(),S("span",ro,[e(c,{size:30,color:"node-icon"},{default:n(()=>[(y(),E(Ue(o[_.icon.toLowerCase()])))]),_:1})])):z("",!0)])]),default:n(()=>[e(f,{placement:"top-start"},{content:n(()=>[w(N(t.errorInfo.message),1)]),default:n(()=>[Z(e(c,{class:"warn-icon",size:20},{default:n(()=>[e(u(zl),{onClick:m[0]||(m[0]=pe(()=>{},["stop"]))})]),_:1},512),[[te,t.errorInfo.showError]])]),_:1}),$("div",{onClick:m[4]||(m[4]=pe(()=>{},["stop"]))},[e(F,{title:"您确定要删除该节点吗？",width:"200","hide-after":0,placement:"right-start",onConfirm:m[3]||(m[3]=B=>u(x)(u(l)))},{reference:n(()=>[Z(e(k,{class:"node-close",plain:"",circle:"",icon:u(Be),size:"small",type:"danger"},null,8,["icon"]),[[te,_.close&&!_.readOnly]])]),_:1})]),re(_.$slots,"default",{},void 0,!0)]),_:3},8,["class"]),e(ml,{onAddNode:m[6]||(m[6]=B=>u(C)(B,u(l)))})])}}});const we=O(io,[["__scopeId","data-v-280b57f7"]]),uo=I({__name:"content",props:{node:{}},setup(r){const d=r,t=U("");return le(()=>{t.value=d.node.name}),(o,l)=>{const i=K;return y(),E(i,null,{default:n(()=>[w(N(t.value||o.node.name),1)]),_:1})}}}),co={class:"start-box"},po=I({__name:"index",props:{node:{}},setup(r){return(d,t)=>(y(),S("div",co,[e(we,{icon:"List",arrow:!1,close:!1,color:"#8c7cf3",node:d.node},{default:n(()=>[e(uo,{node:d.node},null,8,["node"])]),_:1},8,["node"])]))}});const _o=O(po,[["__scopeId","data-v-0a059602"]]),fo={baseURL:"/api",timeout:8e3};class mo{constructor(d){Ge(this,"service");this.service=Xl.create(d),this.service.interceptors.request.use(t=>t,t=>Promise.reject(t)),this.service.interceptors.response.use(t=>{const{data:o}=t;return o},t=>{const{response:o,message:l}=t,i=o==null?void 0:o.data,s=i?i.message:l;return Cl.error(s||"未知错误"),Promise.reject((o==null?void 0:o.data)||t)})}get(d,t,o={}){return this.service.get(d,{params:t,...o})}post(d,t){return this.service.post(d,t)}put(d,t){return this.service.put(d,t)}delete(d,t){return this.service.delete(d,t)}patch(d,t){return this.service.patch(d,t)}head(d){return this.service.head(d)}options(d){return this.service.options(d)}request(d){return this.service.request(d)}download(d,t){return this.service.post(d,t,{responseType:"blob"})}}const ue=new mo(fo),vo=r=>ue.get("/user/info",{username:r}),fe=r=>{const d=r?{userIds:r}:{};return ue.post("/user/list",d)},ho=r=>ue.get("/role/info",{id:r}),Ce=r=>{const d=r?{roleIds:r}:{};return ue.post("/role/list",d)},bo=I({__name:"content",props:{node:{}},setup(r){const d=r,t=U(""),{fields:o}=W("nodeHooks");return le(()=>{var i,s;const l=d.node;if(l.assigneeType==="choice")t.value=`发起人自选（${l.choice?"多选":"单选"}）`;else if(l.assigneeType==="self")t.value="发起人自己";else if(l.assigneeType==="leader")t.value=l.leader===1?"直属上级":`${l.leader}级上级`;else if(l.assigneeType==="formUser"){const b=((i=o.value.find(h=>h.id===l.formUser))==null?void 0:i.title)||l.formUser||"?";t.value=`表单内（${b}）人员`}else if(l.assigneeType==="formRole"){const b=((s=o.value.find(h=>h.id===l.formRole))==null?void 0:s.title)||l.formRole||"?";t.value=`表单内（${b}）角色`}else l.assigneeType==="user"?l.users.length>0?fe(l.users).then(b=>{b.success&&(t.value=b.data.map(h=>h.name).join("、"))}):t.value="未指定人员":l.assigneeType==="role"?l.roles.length>0?Ce(l.roles).then(b=>{b.success&&(t.value=b.data.map(h=>h.name).join("、"))}):t.value="未指定角色":t.value=d.node.name}),(l,i)=>{const s=K;return y(),E(s,null,{default:n(()=>[w(N(t.value||l.node.name),1)]),_:1})}}}),go=I({__name:"index",props:{node:{}},setup(r,{expose:d}){const t=r,o=U({showError:!1,message:""});return d({validate:()=>(o.value={showError:!1,message:""},t.node.assigneeType==="user"?t.node.users.length===0&&(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定人员`}):t.node.assigneeType==="role"?t.node.roles.length===0&&(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定角色`}):t.node.assigneeType==="formUser"?t.node.formRole||(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定表单内人员`}):t.node.assigneeType==="formRole"?t.node.formRole||(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定表单内角色`}):t.node.assigneeType==="leader"&&(t.node.leader||(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定多级上级`})),o.value)}),(i,s)=>(y(),E(we,{icon:"Stamp",color:"linear-gradient(89.96deg, #FA6F32 .05%, #FB9337 79.83%)","error-info":o.value,node:i.node},{default:n(()=>[e(bo,{node:i.node},null,8,["node"])]),_:1},8,["error-info","node"]))}}),yo=I({__name:"content",props:{node:{}},setup(r){const d=r,t=U("");return le(()=>{const o=d.node;o.users.length>0?fe(o.users).then(l=>{l.success&&(t.value=l.data.map(i=>i.name).join("、"))}):t.value="未指定人员"}),(o,l)=>{const i=K;return y(),E(i,null,{default:n(()=>[w(N(t.value||o.node.name),1)]),_:1})}}}),Vo=I({__name:"index",props:{node:{}},setup(r,{expose:d}){const t=r,o=U({showError:!1,message:""});return d({validate:()=>(o.value={showError:!1,message:""},t.node.users.length===0&&(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定抄送人`}),o.value)}),(i,s)=>(y(),E(we,yl({icon:"Promotion"},i.$attrs,{color:"#3296FA","error-info":o.value,node:i.node}),{default:n(()=>[e(yo,{node:i.node},null,8,["node"])]),_:1},16,["error-info","node"]))}}),$o=I({__name:"content",props:{node:{}},setup(r){const d=r,t=U(e("span",null,null));return le(()=>{if(d.node.def)return t.value=e("span",null,[w("不满足条件时，进入默认条件")]);if(d.node.conditions.conditions.length>0||d.node.conditions.groups.length>0){const o=d.node.conditions.conditions.length+d.node.conditions.groups.length;t.value=e("span",null,[`已设置（${o}）个条件`])}else t.value=e("span",null,[w("未设置条件")])}),(o,l)=>{const i=K;return y(),E(i,null,{default:n(()=>[e(u(t))]),_:1})}}}),wo={class:"condition-box"},ko=I({__name:"index",props:{node:{}},setup(r,{expose:d}){const t=r,o=U({showError:!1,message:""});return d({validate:()=>{if(o.value={showError:!1,message:""},!t.node.def)return t.node.conditions.conditions.length===0&&t.node.conditions.groups.length===0&&(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未设置条件`}),o.value}}),(i,s)=>(y(),S("div",wo,[e(we,{icon:"Share",readOnly:i.node.def,"error-info":o.value,node:i.node},{default:n(()=>[e($o,{node:i.node},null,8,["node"])]),_:1},8,["readOnly","error-info","node"])]))}});const xo=O(ko,[["__scopeId","data-v-1200ce3d"]]),ke=r=>(ve("data-v-1ca7350c"),r=r(),he(),r),Eo={class:"branch-node"},Co={class:"add-branch"},Po=ke(()=>$("div",{class:ee("top-right-border")},null,-1)),Uo=ke(()=>$("div",{class:ee("bottom-right-border")},null,-1)),Ro=ke(()=>$("div",{class:ee("top-left-border")},null,-1)),Io=ke(()=>$("div",{class:ee("bottom-left-border")},null,-1)),So=I({__name:"index",props:{node:{}},setup(r){const{addNode:d}=W("nodeHooks");return(t,o)=>(y(),S(A,null,[$("div",Eo,[$("div",Co,[re(t.$slots,"default",{},void 0,!0)]),(y(!0),S(A,null,H(t.node.children,(l,i)=>(y(),S("div",{key:l.id,class:"col-box"},[t.node.children.length===i+1?(y(),S(A,{key:0},[Po,Uo],64)):z("",!0),i===0?(y(),S(A,{key:1},[Ro,Io],64)):z("",!0),e(vl,{node:l},null,8,["node"])]))),128))]),e(ml,{onAddNode:o[0]||(o[0]=l=>u(d)(l,t.node)),class:"branch-but"})],64))}});const To=O(So,[["__scopeId","data-v-1ca7350c"]]),Oo=I({__name:"index",props:{node:{}},setup(r){const{addNode:d}=W("nodeHooks");return(t,o)=>{const l=G;return y(),E(To,{node:t.node},{default:n(()=>[e(l,{type:"primary",onClick:o[0]||(o[0]=i=>u(d)("condition",t.node)),plain:"",round:""},{default:n(()=>[w("添加条件")]),_:1})]),_:1},8,["node"])}}});const qo={},Ao={class:"node-box"};function No(r,d){const t=K;return y(),S("div",Ao,[e(t,{class:"end-node"},{default:n(()=>[w(" 结束 ")]),_:1})])}const Fo=O(qo,[["render",No],["__scopeId","data-v-74763bb4"]]),zo=I({name:"NodeTree"}),Bo=I({...zo,props:{node:{}},setup(r){const d={start:_o,approval:go,cc:Vo,condition:xo,exclusive:Oo,end:Fo},{addNodeRef:t}=W("nodeHooks");return(o,l)=>{const i=Re("NodeTree");return y(),S(A,null,[re(o.$slots,"default",{},void 0,!0),(y(),E(Ue(d[o.node.type]),{node:o.node,ref:s=>s&&u(t)(o.node.id,s)},null,8,["node"])),o.node.child?(y(),E(i,{key:0,node:o.node.child},null,8,["node"])):z("",!0)],64)}}});const vl=O(Bo,[["__scopeId","data-v-64d33364"]]),Lo=I({__name:"index",props:{block:{type:Boolean,default:!0},modelValue:{}},emits:["update:modelValue"],setup(r,{emit:d}){const o=X(r,"modelValue",d);return(l,i)=>{const s=Pl;return y(),E(s,{modelValue:u(o),"onUpdate:modelValue":i[0]||(i[0]=b=>de(o)?o.value=b:null),class:ee(["el-segmented",{"is-block":l.block}])},{default:n(()=>[re(l.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","class"])}}});const De=O(Lo,[["__scopeId","data-v-6406405a"]]),Do={class:"flex-center",style:{gap:"4px","grid-gap":"4px"}},Mo=I({__name:"UserTag",props:{username:{},type:{default:"info"},closable:{type:Boolean,default:!1}},emits:["close"],setup(r,{emit:d}){const t=r;let o=be({username:void 0,avatar:void 0,name:void 0});Qe(()=>{if(!t.username)throw new Error("username is required");vo(t.username).then(b=>{b.success&&(o.username=b.data.username,o.avatar=b.data.avatar,o.name=b.data.name)})}),T(()=>{const b="/api";return b.startsWith("http")?b:window.location.origin+b});const l=ie(),i=T(()=>_e[l.value||"default"]-12),s=()=>{d("close",t.username)};return(b,h)=>{const v=ll,C=ol;return y(),E(C,{round:"",closable:t.closable,type:b.type,effect:"light",onClose:s},{default:n(()=>[$("div",Do,[e(v,{size:i.value,src:u(o).avatar},{default:n(()=>[w(N((u(o).name||b.username).charAt(0)),1)]),_:1},8,["size","src"]),$("span",null,N(u(o).name||b.username),1)])]),_:1},8,["closable","type"])}}});const Me=O(Mo,[["__scopeId","data-v-11e894be"]]),jo={class:"flex flex-1 flex-items-center flex-justify-between"},Ho={class:"flex-center"},Wo=I({__name:"UserPicker",props:{modelValue:{},multiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(r,{expose:d,emit:t}){const o=r,l={label:"name",children:"children",isLeaf:"leaf",class:c=>C(c)},i=X(o,"modelValue",t),s=U([]),b=U([]),h=U(),v=U([]),C=c=>s.value.find(g=>g.id===c.id)?"is-active":"",x=c=>{if(c.type==="user")if(o.multiple){const f=s.value.findIndex(g=>g.id===c.id);f===-1?(s.value.push(c),s.value.sort((g,k)=>g.id.localeCompare(k.id))):s.value.splice(f,1)}else{const f=s.value.findIndex(g=>g.id===c.id);f===-1?s.value=[c]:s.value.splice(f,1)}},P=U(!1),R=be({name:null});Ze(()=>R.name,c=>{var f;(f=h.value)==null||f.filter(c)});const p=(c,f)=>c?f.name.includes(c):!0,a=()=>{P.value=!0},_=()=>{fe().then(f=>{f.success&&(b.value=f.data.map(g=>({id:g.username,name:g.name,type:"user",leaf:!0,avatar:g.avatar})))});let c=[];Array.isArray(i.value)?c.push(...i.value):i.value&&c.push(i.value),c.length>0?fe(c).then(f=>{f.success&&(s.value=f.data.map(g=>({id:g.username,name:g.name,avatar:g.avatar,type:"user",leaf:!0})),s.value.sort((g,k)=>g.id.localeCompare(k.id)))}):s.value=[]},m=()=>{o.multiple?i.value=s.value.map(c=>c.id):s.value.length>0?i.value=s.value[0].id:i.value=null,P.value=!1};return d({open:a}),(c,f)=>{const g=ge,k=ll,F=oe,Y=tl,B=al,M=Ie,L=G,j=nl;return y(),E(j,{modelValue:P.value,"onUpdate:modelValue":f[2]||(f[2]=q=>P.value=q),onOpen:_,"align-center":"",draggable:"",title:"选择用户",width:"30%"},{footer:n(()=>[e(L,{onClick:f[1]||(f[1]=q=>P.value=!1)},{default:n(()=>[w("取消")]),_:1}),e(L,{type:"primary",onClick:m},{default:n(()=>[w("确认")]),_:1})]),default:n(()=>[e(M,{shadow:"never",class:"org-card"},{header:n(()=>[e(g,{modelValue:R.name,"onUpdate:modelValue":f[0]||(f[0]=q=>R.name=q),placeholder:"输入关键字进行查询",style:{width:"100%"},"suffix-icon":"search",clearable:""},null,8,["modelValue"])]),default:n(()=>[e(B,{tag:"div",class:"org-tree"},{default:n(()=>[e(Y,{ref_key:"orgTreeRef",ref:h,"node-key":"id",data:b.value,"default-expanded-keys":v.value,props:l,"filter-node-method":p,onNodeClick:x},{default:n(({data:q})=>[$("div",jo,[$("div",Ho,[q.type==="user"?(y(),E(k,{key:0,size:25,src:q.avatar},{default:n(()=>[w(N(q.name.charAt(0)),1)]),_:2},1032,["src"])):(y(),E(F,{key:1,size:16},{default:n(()=>[e(u(pl))]),_:1})),w("  "+N(q.name),1)]),e(F,{class:"is-selected"},{default:n(()=>[e(u(_l))]),_:1})])]),_:1},8,["data","default-expanded-keys"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const je=O(Wo,[["__scopeId","data-v-54f06cf8"]]),Go={class:"user-wrapper"},Ko=I({__name:"UserSelector",props:{modelValue:{},placeholder:{default:"请选择用户"},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},style:{}},emits:["update:modelValue"],setup(r,{emit:d}){const t=r,o=X(t,"modelValue",d),l=T(()=>o.value?Array.isArray(o.value)?o.value:[o.value]:[]),i=U(),s=sl(),b=ie(),h=T(()=>s.value||t.disabled),v=()=>{var x;(x=i.value)==null||x.open()},C=x=>{o.value&&(t.multiple&&Array.isArray(o.value)?o.value.splice(o.value.indexOf(x),1):o.value=null)};return(x,P)=>{const R=oe,p=G,a=K;return y(),S(A,null,[e(je,{ref_key:"userPickerRef",ref:i,multiple:x.multiple,modelValue:u(o),"onUpdate:modelValue":P[0]||(P[0]=_=>de(o)?o.value=_:null)},null,8,["multiple","modelValue"]),$("div",Go,[e(p,{class:"user-but-item",size:u(b),disabled:h.value,onClick:v,circle:""},{default:n(()=>[e(R,null,{default:n(()=>[e(u(Ll))]),_:1})]),_:1},8,["size","disabled"]),(y(!0),S(A,null,H(l.value,_=>(y(),E(Me,{closable:!h.value,key:_,username:_,onClose:C},null,8,["closable","username"]))),128)),Z(e(a,{class:"placeholder"},{default:n(()=>[w(N(x.placeholder),1)]),_:1},512),[[te,!u(o)||u(o).length===0]])])],64)}}});const Xo=O(Ko,[["__scopeId","data-v-478c5cf7"]]),Yo=ye(Me),Jo=ye(je),me=rl(Xo,{userTag:Me,userPicker:je}),Qo=Object.freeze(Object.defineProperty({__proto__:null,UserPicker:Jo,UserSelector:me,UserTag:Yo,default:me},Symbol.toStringTag,{value:"Module"})),Zo={class:"flex-center",style:{gap:"4px","grid-gap":"4px"}},et=I({__name:"RoleTag",props:{id:{},type:{default:"info"},closable:{type:Boolean,default:!1}},emits:["close"],setup(r,{emit:d}){const t=r;let o=be({id:void 0,name:void 0});Qe(()=>{if(!t.id)throw new Error("username is required");ho(t.id).then(s=>{s.success&&(console.log(s),o.id=s.data.id,o.name=s.data.name)})}),T(()=>{const s="/api";return s.startsWith("http")?s:window.location.origin+s});const l=ie();T(()=>_e[l.value||"default"]-12);const i=()=>{d("close",t.id)};return(s,b)=>{const h=ol;return y(),E(h,{round:"",closable:t.closable,type:s.type,effect:"light",onClose:i},{default:n(()=>[$("div",Zo,[$("span",null,N(u(o).name||s.id),1)])]),_:1},8,["closable","type"])}}});const He=O(et,[["__scopeId","data-v-467ad35b"]]),lt={class:"flex flex-1 flex-items-center flex-justify-between"},ot={class:"flex-center"},tt=I({__name:"RolePicker",props:{modelValue:{},multiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(r,{expose:d,emit:t}){const o=r,l={label:"name",children:"children",isLeaf:"leaf",class:c=>C(c)},i=X(o,"modelValue",t),s=U([]),b=U([]),h=U(),v=U([]),C=c=>s.value.find(g=>g.id===c.id)?"is-active":"",x=c=>{if(o.multiple){const f=s.value.findIndex(g=>g.id===c.id);f===-1?(s.value.push(c),s.value.sort((g,k)=>g.id.localeCompare(k.id))):s.value.splice(f,1)}else{const f=s.value.findIndex(g=>g.id===c.id);f===-1?s.value=[c]:s.value.splice(f,1)}},P=U(!1),R=be({name:null});Ze(()=>R.name,c=>{var f;(f=h.value)==null||f.filter(c)});const p=(c,f)=>c?f.name.includes(c):!0,a=()=>{P.value=!0},_=()=>{Ce().then(f=>{f.success&&(b.value=f.data.map(g=>({id:g.id,name:g.name})))});let c=[];Array.isArray(i.value)?c.push(...i.value):i.value&&c.push(i.value),c.length>0?Ce(c).then(f=>{f.success&&(s.value=f.data.map(g=>({id:g.id,name:g.name})),s.value.sort((g,k)=>g.id.localeCompare(k.id)))}):s.value=[]},m=()=>{o.multiple?i.value=s.value.map(c=>c.id):s.value.length>0?i.value=s.value[0].id:i.value=null,P.value=!1};return d({open:a}),(c,f)=>{const g=ge,k=oe,F=tl,Y=al,B=Ie,M=G,L=nl;return y(),E(L,{modelValue:P.value,"onUpdate:modelValue":f[2]||(f[2]=j=>P.value=j),onOpen:_,"align-center":"",draggable:"",title:"选择角色",width:"30%"},{footer:n(()=>[e(M,{onClick:f[1]||(f[1]=j=>P.value=!1)},{default:n(()=>[w("取消")]),_:1}),e(M,{type:"primary",onClick:m},{default:n(()=>[w("确认")]),_:1})]),default:n(()=>[e(B,{shadow:"never",class:"org-card"},{header:n(()=>[e(g,{modelValue:R.name,"onUpdate:modelValue":f[0]||(f[0]=j=>R.name=j),placeholder:"输入关键字进行查询",style:{width:"100%"},"suffix-icon":"search",clearable:""},null,8,["modelValue"])]),default:n(()=>[e(Y,{tag:"div",class:"org-tree"},{default:n(()=>[e(F,{ref_key:"orgTreeRef",ref:h,"node-key":"id",data:b.value,"default-expanded-keys":v.value,props:l,"filter-node-method":p,onNodeClick:x},{default:n(({data:j})=>[$("div",lt,[$("div",ot,[e(k,{size:16},{default:n(()=>[e(u(pl))]),_:1}),w("  "+N(j.name),1)]),e(k,{class:"is-selected"},{default:n(()=>[e(u(_l))]),_:1})])]),_:1},8,["data","default-expanded-keys"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const We=O(tt,[["__scopeId","data-v-12a5ddcd"]]),at={class:"role-wrapper"},nt=I({__name:"RoleSelector",props:{modelValue:{},placeholder:{default:"请选择角色"},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},style:{}},emits:["update:modelValue"],setup(r,{emit:d}){const t=r,o=X(t,"modelValue",d),l=T(()=>o.value?Array.isArray(o.value)?o.value:[o.value]:[]),i=U(),s=sl(),b=ie(),h=T(()=>s.value||t.disabled),v=()=>{var x;(x=i.value)==null||x.open()},C=x=>{o.value&&(t.multiple&&Array.isArray(o.value)?o.value.splice(o.value.indexOf(x),1):o.value=null)};return(x,P)=>{const R=oe,p=G,a=K;return y(),S(A,null,[e(We,{ref_key:"RolePickerRef",ref:i,multiple:x.multiple,modelValue:u(o),"onUpdate:modelValue":P[0]||(P[0]=_=>de(o)?o.value=_:null)},null,8,["multiple","modelValue"]),$("div",at,[e(p,{class:"role-but-item",size:u(b),disabled:h.value,onClick:v,circle:""},{default:n(()=>[e(R,null,{default:n(()=>[e(u(Dl))]),_:1})]),_:1},8,["size","disabled"]),(y(!0),S(A,null,H(l.value,_=>(y(),E(He,{closable:!h.value,key:_,id:_,onClose:C},null,8,["closable","id"]))),128)),Z(e(a,{class:"placeholder"},{default:n(()=>[w(N(x.placeholder),1)]),_:1},512),[[te,!u(o)||u(o).length===0]])])],64)}}});const st=O(nt,[["__scopeId","data-v-05f71629"]]),rt=ye(He),dt=ye(We),Pe=rl(st,{roleTag:He,rolePicker:We}),it=Object.freeze(Object.defineProperty({__proto__:null,RolePicker:dt,RoleSelector:Pe,RoleTag:rt,default:Pe},Symbol.toStringTag,{value:"Module"})),ce=r=>(ve("data-v-974ab3f1"),r=r(),he(),r),ut={class:"flow-opt-item"},ct={class:"flow-opt-item__content"},pt=ce(()=>$("div",{class:"flow-opt-item__second"}," 同意描述、同意描述、同意描述、同意描述、同意描述、同意描述 ",-1)),_t={class:"flow-opt-item"},ft={class:"flow-opt-item__content"},mt=ce(()=>$("div",{class:"flow-opt-item__second"}," 拒绝描述、拒绝描述、拒绝描述、拒绝描述、拒绝描述、拒绝描述 ",-1)),vt={class:"flow-opt-item"},ht={class:"flow-opt-item__content"},bt=ce(()=>$("div",{class:"flow-opt-item__second"}," 转办描述、转办描述、转办描述、转办描述、转办描述、转办描述 ",-1)),gt={class:"flow-opt-item"},yt={class:"flow-opt-item__content"},Vt=ce(()=>$("div",{class:"flow-opt-item__second"}," 加签描述、加签描述、加签描述、加签描述、加签描述、加签描述 ",-1)),$t={class:"flow-opt-item"},wt={class:"flow-opt-item__content"},kt=ce(()=>$("div",{class:"flow-opt-item__second"}," 减签描述、减签描述、减签描述、减签描述、减签描述、减签描述 ",-1)),xt=I({__name:"ApprovalAttr",props:{node:{}},emits:["update:node"],setup(r,{emit:d}){const t=r,o=U("properties"),{node:l}=ae(t,d),{fields:i}=W("nodeHooks"),s=T({get(){return l.value.formProperties.every(p=>p.writeable)},set(p){l.value.formProperties.forEach(a=>a.writeable=p),p?(h.value=!1,v.value=!1):b.value=!1}}),b=T({get(){return l.value.formProperties.every(p=>p.required)},set(p){l.value.formProperties.forEach(a=>a.required=p),p&&(s.value=!0,h.value=!1,v.value=!1)}}),h=T({get(){return l.value.formProperties.every(p=>p.readable)},set(p){l.value.formProperties.forEach(a=>a.readable=p),p&&(s.value=!1,v.value=!1,b.value=!1)}}),v=T({get(){return l.value.formProperties.every(p=>p.hidden)},set(p){l.value.formProperties.forEach(a=>a.hidden=p),p&&(s.value=!1,b.value=!1,h.value=!1)}}),C=p=>{p.readable&&(p.writeable=!1,p.required=!1,p.hidden=!1)},x=p=>{p.required&&(p.writeable=!0,p.readable=!1,p.hidden=!1)},P=p=>{p.writeable?(p.readable=!1,p.hidden=!1):p.required=!1},R=p=>{p.hidden&&(p.readable=!1,p.writeable=!1,p.required=!1)};return le(()=>{const p=l.value.formProperties;l.value.formProperties=i.value.filter(a=>a.value!==void 0).map(a=>({id:a.id,name:a.title,readable:a.props.disabled||!1,writeable:!a.props.disabled||!1,hidden:a.props.hidden||!1,required:a.props.required&&!a.props.disabled||!1})),l.value.formProperties.forEach(a=>{const _=p.find(m=>m.id===a.id);_&&(a.readable=_.readable,a.writeable=_.writeable,a.hidden=_.hidden,a.required=_.required)})}),(p,a)=>{const _=dl,m=Ul,c=Se,f=Rl,g=K,k=Ve,F=Te,Y=Oe,B=qe,M=Ae,L=$e,j=Ne,q=oe,ne=Fe,se=Il;return y(),E(u(De),{modelValue:o.value,"onUpdate:modelValue":a[18]||(a[18]=V=>o.value=V),stretch:"",block:!1},{default:n(()=>[e(B,{label:"设置审批人",name:"properties"},{default:n(()=>[e(Y,{"label-position":"top","label-width":"90px"},{default:n(()=>[e(c,{prop:"assigneeType",label:"审批对象"},{default:n(()=>[e(m,{modelValue:u(l).assigneeType,"onUpdate:modelValue":a[0]||(a[0]=V=>u(l).assigneeType=V)},{default:n(()=>[e(_,{label:"user"},{default:n(()=>[w("指定人员")]),_:1}),e(_,{label:"role"},{default:n(()=>[w("指定角色")]),_:1}),e(_,{label:"choice"},{default:n(()=>[w("发起人自选")]),_:1}),e(_,{label:"self"},{default:n(()=>[w("发起人自己")]),_:1}),e(_,{label:"leader"},{default:n(()=>[w("多级上级")]),_:1}),e(_,{label:"formUser"},{default:n(()=>[w("表单内人员")]),_:1}),e(_,{label:"formRole"},{default:n(()=>[w("表单内角色")]),_:1})]),_:1},8,["modelValue"])]),_:1}),u(l).assigneeType==="user"?(y(),E(c,{key:0,prop:"users",label:"指定人员"},{default:n(()=>[e(u(me),{multiple:"",placeholder:"请选择人员",modelValue:u(l).users,"onUpdate:modelValue":a[1]||(a[1]=V=>u(l).users=V)},null,8,["modelValue"])]),_:1})):z("",!0),u(l).assigneeType==="choice"?(y(),E(c,{key:1,prop:"selfSelect",label:"发起人自选择"},{default:n(()=>[e(m,{modelValue:u(l).choice,"onUpdate:modelValue":a[2]||(a[2]=V=>u(l).choice=V)},{default:n(()=>[e(f,{label:!1},{default:n(()=>[w("单选")]),_:1}),e(f,{label:!0},{default:n(()=>[w("多选")]),_:1})]),_:1},8,["modelValue"])]),_:1})):z("",!0),u(l).assigneeType==="self"?(y(),E(c,{key:2,prop:"self",label:"发起人自己"},{default:n(()=>[e(g,null,{default:n(()=>[w(" 发起人自己作为审批人进行审批 ")]),_:1})]),_:1})):z("",!0),u(l).assigneeType==="leader"?(y(),E(c,{key:3,prop:"leader",label:"多级上级"},{default:n(()=>[e(F,{modelValue:u(l).leader,"onUpdate:modelValue":a[3]||(a[3]=V=>u(l).leader=V),placeholder:"请选择多级上级"},{default:n(()=>[e(k,{label:"直属上级",value:1}),e(k,{label:"2级上级",value:2}),e(k,{label:"3级上级",value:3}),e(k,{label:"4级上级",value:4}),e(k,{label:"5级上级",value:5}),e(k,{label:"6级上级",value:6}),e(k,{label:"7级上级",value:7}),e(k,{label:"8级上级",value:8}),e(k,{label:"9级上级",value:9}),e(k,{label:"10级上级",value:10}),e(k,{label:"11级上级",value:11})]),_:1},8,["modelValue"])]),_:1})):z("",!0),u(l).assigneeType==="role"?(y(),E(c,{key:4,prop:"roles",label:"指定角色"},{default:n(()=>[e(u(Pe),{multiple:"",placeholder:"请选择角色",modelValue:u(l).roles,"onUpdate:modelValue":a[4]||(a[4]=V=>u(l).roles=V)},null,8,["modelValue"])]),_:1})):z("",!0),u(l).assigneeType==="formUser"?(y(),E(c,{key:5,prop:"formUser",label:"表单内人员"},{default:n(()=>[e(F,{placeholder:"选择表单内人员",modelValue:u(l).formUser,"onUpdate:modelValue":a[5]||(a[5]=V=>u(l).formUser=V)},{default:n(()=>[(y(!0),S(A,null,H(u(i).filter(V=>V.name==="UserSelection"),V=>(y(),E(k,{key:V.id,label:V.title,value:V.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):z("",!0),u(l).assigneeType==="formRole"?(y(),E(c,{key:6,prop:"formRole",label:"表单内角色"},{default:n(()=>[e(F,{placeholder:"选择表单内角色",modelValue:u(l).formRole,"onUpdate:modelValue":a[6]||(a[6]=V=>u(l).formRole=V)},{default:n(()=>[(y(!0),S(A,null,H(u(i).filter(V=>V.name==="RoleSelection"),V=>(y(),E(k,{key:V.id,label:V.title,value:V.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):z("",!0),e(c,{prop:"method",label:"多人审批方式"},{default:n(()=>[e(m,{class:"flex-column",modelValue:u(l).multi,"onUpdate:modelValue":a[7]||(a[7]=V=>u(l).multi=V)},{default:n(()=>[e(_,{label:"sequential"},{default:n(()=>[w("依次审批（按顺序审批）")]),_:1}),e(_,{label:"joint"},{default:n(()=>[w("会签（需要所有审批人都通过才可通过）")]),_:1}),e(_,{label:"single"},{default:n(()=>[w("或签（其中一名审批人通过或驳回即可）")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(c,{prop:"nobody",label:"审批人为空"},{default:n(()=>[e(m,{modelValue:u(l).nobody,"onUpdate:modelValue":a[8]||(a[8]=V=>u(l).nobody=V)},{default:n(()=>[e(_,{label:"pass"},{default:n(()=>[w("自动通过")]),_:1}),e(_,{label:"reject"},{default:n(()=>[w("自动驳回")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(B,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(j,{data:u(l).formProperties,style:{width:"100%"}},{default:n(()=>[e(M,{prop:"name",label:"字段"}),e(M,{prop:"readable"},{header:n(()=>[e(L,{modelValue:h.value,"onUpdate:modelValue":a[9]||(a[9]=V=>h.value=V),label:"可读"},null,8,["modelValue"])]),default:n(({row:V})=>[e(L,{modelValue:V.readable,"onUpdate:modelValue":D=>V.readable=D,onChange:D=>C(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(M,{prop:"writeable"},{header:n(()=>[e(L,{modelValue:s.value,"onUpdate:modelValue":a[10]||(a[10]=V=>s.value=V),label:"可写"},null,8,["modelValue"])]),default:n(({row:V})=>[e(L,{modelValue:V.writeable,"onUpdate:modelValue":D=>V.writeable=D,onChange:D=>P(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(M,{prop:"required"},{header:n(()=>[e(L,{modelValue:b.value,"onUpdate:modelValue":a[11]||(a[11]=V=>b.value=V),label:"必填"},null,8,["modelValue"])]),default:n(({row:V})=>[e(L,{modelValue:V.required,"onUpdate:modelValue":D=>V.required=D,onChange:D=>x(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(M,{prop:"hidden"},{header:n(()=>[e(L,{modelValue:v.value,"onUpdate:modelValue":a[12]||(a[12]=V=>v.value=V),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:V})=>[e(L,{modelValue:V.hidden,"onUpdate:modelValue":D=>V.hidden=D,onChange:D=>R(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1}),e(B,{label:"操作权限",name:"operationPermissions"},{default:n(()=>[$("div",ut,[e(q,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(Ml))]),_:1}),$("div",ct,[e(g,{tag:"b"},{default:n(()=>[w(" 同意 ")]),_:1}),pt]),e(ne,{modelValue:u(l).operations.complete,"onUpdate:modelValue":a[13]||(a[13]=V=>u(l).operations.complete=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(se),$("div",_t,[e(q,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(Be))]),_:1}),$("div",ft,[e(g,{tag:"b"},{default:n(()=>[w(" 拒绝 ")]),_:1}),mt]),e(ne,{modelValue:u(l).operations.refuse,"onUpdate:modelValue":a[14]||(a[14]=V=>u(l).operations.refuse=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(se),$("div",vt,[e(q,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(jl))]),_:1}),$("div",ht,[e(g,{tag:"b"},{default:n(()=>[w(" 转办 ")]),_:1}),bt]),e(ne,{modelValue:u(l).operations.transfer,"onUpdate:modelValue":a[15]||(a[15]=V=>u(l).operations.transfer=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(se),$("div",gt,[e(q,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(ze))]),_:1}),$("div",yt,[e(g,{tag:"b"},{default:n(()=>[w(" 加签 ")]),_:1}),Vt]),e(ne,{modelValue:u(l).operations.addMulti,"onUpdate:modelValue":a[16]||(a[16]=V=>u(l).operations.addMulti=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(se),$("div",$t,[e(q,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(fl))]),_:1}),$("div",wt,[e(g,{tag:"b"},{default:n(()=>[w(" 减签 ")]),_:1}),kt]),e(ne,{modelValue:u(l).operations.minusMulti,"onUpdate:modelValue":a[17]||(a[17]=V=>u(l).operations.minusMulti=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(se)]),_:1})]),_:1},8,["modelValue"])}}});const Et=O(xt,[["__scopeId","data-v-974ab3f1"]]),Ct=I({__name:"CcAttr",props:{node:{}},emits:["update:node"],setup(r,{emit:d}){const t=r,o=U("properties"),{node:l}=ae(t,d),{fields:i}=W("nodeHooks"),s=T({get(){return l.value.formProperties.every(h=>h.readable)},set(h){l.value.formProperties.forEach(v=>v.readable=h),b.value=!h}}),b=T({get(){return l.value.formProperties.every(h=>h.hidden)},set(h){l.value.formProperties.forEach(v=>v.hidden=h),s.value=!h}});return le(()=>{const h=l.value.formProperties;l.value.formProperties=i.value.filter(v=>v.value!==void 0).map(v=>({id:v.id,name:v.title,readable:!0,writeable:!1,required:!1,hidden:v.props.hidden||!1})),l.value.formProperties.forEach(v=>{const C=h.find(x=>x.id===v.id);C&&(v.readable=C.readable,v.writeable=C.writeable,v.hidden=C.hidden,v.required=C.required)})}),(h,v)=>{const C=me,x=Se,P=Oe,R=qe,p=Ae,a=$e,_=Ne;return y(),E(u(De),{modelValue:o.value,"onUpdate:modelValue":v[3]||(v[3]=m=>o.value=m),stretch:"",block:!1},{default:n(()=>[e(R,{label:"设置抄送人",name:"properties"},{default:n(()=>[e(P,{"label-position":"top","label-width":"90px"},{default:n(()=>[e(x,{prop:"users",label:"抄送人"},{default:n(()=>[e(C,{multiple:"",placeholder:"请选择人员",modelValue:u(l).users,"onUpdate:modelValue":v[0]||(v[0]=m=>u(l).users=m)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(R,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(_,{data:u(l).formProperties,style:{width:"100%"}},{default:n(()=>[e(p,{prop:"name",label:"字段"}),e(p,{prop:"readable"},{header:n(()=>[e(a,{modelValue:s.value,"onUpdate:modelValue":v[1]||(v[1]=m=>s.value=m),label:"可读"},null,8,["modelValue"])]),default:n(({row:m})=>[e(a,{modelValue:m.readable,"onUpdate:modelValue":c=>m.readable=c,onChange:c=>m.hidden=!c},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(p,{prop:"hidden"},{header:n(()=>[e(a,{modelValue:b.value,"onUpdate:modelValue":v[2]||(v[2]=m=>b.value=m),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:m})=>[e(a,{modelValue:m.hidden,"onUpdate:modelValue":c=>m.hidden=c,onChange:c=>m.readable=!c},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])}}}),Pt=I({__name:"StartAttr",props:{node:{}},emits:["update:node"],setup(r,{emit:d}){const t=r,o=U("formPermissions"),{node:l}=ae(t,d),{fields:i}=W("nodeHooks"),s=T({get(){return l.value.formProperties.every(p=>p.writeable)},set(p){l.value.formProperties.forEach(a=>a.writeable=p),p?(h.value=!1,v.value=!1):b.value=!1}}),b=T({get(){return l.value.formProperties.every(p=>p.required)},set(p){l.value.formProperties.forEach(a=>a.required=p),p&&(s.value=!0,h.value=!1,v.value=!1)}}),h=T({get(){return l.value.formProperties.every(p=>p.readable)},set(p){l.value.formProperties.forEach(a=>a.readable=p),p&&(s.value=!1,v.value=!1,b.value=!1)}}),v=T({get(){return l.value.formProperties.every(p=>p.hidden)},set(p){l.value.formProperties.forEach(a=>a.hidden=p),p&&(s.value=!1,b.value=!1,h.value=!1)}}),C=p=>{p.hidden&&(p.readable=!1,p.writeable=!1,p.required=!1)},x=p=>{p.writeable?(p.readable=!1,p.hidden=!1):p.required=!1},P=p=>{p.readable&&(p.writeable=!1,p.required=!1,p.hidden=!1)},R=p=>{p.required&&(p.writeable=!0,p.readable=!1,p.hidden=!1)};return le(()=>{const p=l.value.formProperties;l.value.formProperties=i.value.filter(a=>a.value!==void 0).map(a=>({id:a.id,name:a.title,readable:a.props.disabled||!1,writeable:!a.props.disabled||!1,hidden:a.props.hidden||!1,required:a.props.required&&!a.props.disabled||!1})),l.value.formProperties.forEach(a=>{const _=p.find(m=>m.id===a.id);_&&(a.readable=_.readable,a.writeable=_.writeable,a.hidden=_.hidden,a.required=_.required)})}),(p,a)=>{const _=Ae,m=$e,c=Ne,f=qe;return y(),E(u(De),{modelValue:o.value,"onUpdate:modelValue":a[4]||(a[4]=g=>o.value=g),stretch:"",block:!1},{default:n(()=>[e(f,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(c,{data:u(l).formProperties,style:{width:"100%"}},{default:n(()=>[e(_,{prop:"name",label:"字段"}),e(_,{prop:"readable"},{header:n(()=>[e(m,{modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=g=>h.value=g),label:"可读"},null,8,["modelValue"])]),default:n(({row:g})=>[e(m,{modelValue:g.readable,"onUpdate:modelValue":k=>g.readable=k,onChange:k=>P(g)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(_,{prop:"writeable"},{header:n(()=>[e(m,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=g=>s.value=g),label:"可写"},null,8,["modelValue"])]),default:n(({row:g})=>[e(m,{modelValue:g.writeable,"onUpdate:modelValue":k=>g.writeable=k,onChange:k=>x(g)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(_,{prop:"required"},{header:n(()=>[e(m,{modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=g=>b.value=g),label:"必填"},null,8,["modelValue"])]),default:n(({row:g})=>[e(m,{modelValue:g.required,"onUpdate:modelValue":k=>g.required=k,onChange:k=>R(g)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(_,{prop:"hidden"},{header:n(()=>[e(m,{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=g=>v.value=g),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:g})=>[e(m,{modelValue:g.hidden,"onUpdate:modelValue":k=>g.hidden=k,onChange:k=>C(g)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1}),e(f,{label:"操作权限",name:"operationPermissions"},{default:n(()=>[w(" 待添加... ")]),_:1})]),_:1},8,["modelValue"])}}}),Ut=I({__name:"Trigger",props:{modelValue:{},options:{},filterRules:{}},emits:["update:modelValue"],setup(r,{emit:d}){const t=r,o=X(t,"modelValue",d);return(l,i)=>{const s=Ve,b=Te;return y(),E(b,{class:"trigger-container",modelValue:u(o),"onUpdate:modelValue":i[0]||(i[0]=h=>de(o)?o.value=h:null),filterable:"",placeholder:"选择字段"},{default:n(()=>[(y(!0),S(A,null,H(t.options,h=>(y(),E(s,{key:h.id,label:h.title,value:h.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])}}}),Rt=I({__name:"Operator",props:{modelValue:{}},emits:["update:modelValue"],setup(r,{emit:d}){const t=r,o=[{value:"equal",label:"等于"},{value:"not_equal",label:"不等于"},{label:"包含",value:"contains"},{label:"不包含",value:"not_contain"}],l=X(t,"modelValue",d);return(i,s)=>{const b=Ve,h=Te;return y(),E(h,{class:"operator-container",modelValue:u(l),"onUpdate:modelValue":s[0]||(s[0]=v=>de(l)?l.value=v:null),filterable:"",placeholder:"筛选符"},{default:n(()=>[(y(),S(A,null,H(o,v=>e(b,{key:v.value,label:v.label,value:v.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])}}});const It=O(Rt,[["__scopeId","data-v-b7adb9aa"]]),St="modulepreload",Tt=function(r){return"/lowflow-design/"+r},Ye={},Q=function(d,t,o){if(!t||t.length===0)return d();const l=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=Tt(i),i in Ye)return;Ye[i]=!0;const s=i.endsWith(".css"),b=s?'[rel="stylesheet"]':"";if(!!o)for(let C=l.length-1;C>=0;C--){const x=l[C];if(x.href===i&&(!s||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${b}`))return;const v=document.createElement("link");if(v.rel=s?"stylesheet":St,s||(v.as="script",v.crossOrigin=""),v.href=i,document.head.appendChild(v),s)return new Promise((C,x)=>{v.addEventListener("load",C),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>d()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},Ot=I({props:{modelValue:{type:[String,Number,Boolean,Array,Object],default:void 0,required:!1},field:{type:Object,required:!0}},emits:["update:modelValue"],components:{Input:J(()=>Q(()=>import("./element-plus-0efb83dc.js").then(r=>r.O),["assets/js/element-plus-0efb83dc.js","assets/js/@vue-fa59abb2.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-159cba4b.js","assets/js/@element-plus-d053c1a3.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-3fa56043.css"]).then(({ElInput:r})=>r)),Number:J(()=>Q(()=>import("./element-plus-0efb83dc.js").then(r=>r.O),["assets/js/element-plus-0efb83dc.js","assets/js/@vue-fa59abb2.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-159cba4b.js","assets/js/@element-plus-d053c1a3.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-3fa56043.css"]).then(({ElInputNumber:r})=>r)),Select:J(()=>Q(()=>import("./element-plus-0efb83dc.js").then(r=>r.O),["assets/js/element-plus-0efb83dc.js","assets/js/@vue-fa59abb2.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-159cba4b.js","assets/js/@element-plus-d053c1a3.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-3fa56043.css"]).then(({ElSelect:r})=>r)),Radio:J(()=>Q(()=>import("./element-plus-0efb83dc.js").then(r=>r.O),["assets/js/element-plus-0efb83dc.js","assets/js/@vue-fa59abb2.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-159cba4b.js","assets/js/@element-plus-d053c1a3.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-3fa56043.css"]).then(({ElRadio:r})=>r)),Checkbox:J(()=>Q(()=>import("./element-plus-0efb83dc.js").then(r=>r.O),["assets/js/element-plus-0efb83dc.js","assets/js/@vue-fa59abb2.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-159cba4b.js","assets/js/@element-plus-d053c1a3.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-3fa56043.css"]).then(({ElCheckbox:r})=>r)),UserSelection:J(()=>Q(()=>Promise.resolve().then(()=>Qo),void 0)),RoleSelection:J(()=>Q(()=>Promise.resolve().then(()=>it),void 0))},setup(r,{emit:d}){return{buildProps:l=>{const i={},s=l.props||{};return Object.keys(s).forEach(b=>{i[b]=s[b]}),r.modelValue!==void 0?i.modelValue=r.modelValue:i.modelValue=l.value,i["onUpdate:modelValue"]=b=>{d("update:modelValue",b)},delete i.options,i},buildSlots:l=>{let i={};const b={Select:h=>h.props.options.map(v=>e(Ve,{label:v.label,value:v.value},null)),Radio:h=>h.props.options.map(v=>e(dl,{label:v.value},{default:()=>[v.label]})),Checkbox:h=>h.props.options.map(v=>e($e,{label:v.value},{default:()=>[v.label]}))}[l.name];return b&&(i.default=()=>b(l)),i}}},render(){const r=Yl(this.field),d=this.buildSlots(r),t=this.buildProps(r),o=Re(r.name);return typeof o=="string"?Ke(o,t,d):Ke(o,t,d)}}),qt=r=>(ve("data-v-9daa512b"),r=r(),he(),r),At={class:"filter-container"},Nt={class:"logical-operator"},Ft=qt(()=>$("div",{class:"logical-operator__line"},null,-1)),zt={class:"filter-option-content"},Bt={key:0,class:"filter-item-rule"},Lt={class:"filter-item-rule"},Dt=I({name:"ConditionFilter"}),Mt=I({...Dt,props:{filterFields:{},modelValue:{}},emits:["update:modelValue","addCondition","delCondition","delGroup"],setup(r,{emit:d}){const t=r,o=X(t,"modelValue",d),l=()=>{o.value.conditions.push({field:null,operator:"equal",value:null})},i=h=>{o.value.conditions.splice(h,1),o.value.conditions.length<=0&&d("delGroup"),d("delCondition",h)},s=()=>{o.value.groups.push({logicalOperator:"and",conditions:[{field:null,operator:"",value:null}],groups:[]})},b=h=>{o.value.groups.splice(h,1)};return(h,v)=>{const C=Fe,x=Se,P=Sl,R=G,p=Tl,a=Re("ConditionFilter"),_=Oe;return y(),S("div",At,[$("div",Nt,[Ft,e(C,{modelValue:u(o).logicalOperator,"onUpdate:modelValue":v[0]||(v[0]=m=>u(o).logicalOperator=m),"inline-prompt":"",style:{"--el-switch-on-color":"#409EFF","--el-switch-off-color":"#67C23A"},"active-value":"and","inactive-value":"or","active-text":"且","inactive-text":"或"},null,8,["modelValue"])]),$("div",zt,[e(_,{"label-width":0,inline:!0,model:u(o)},{default:n(()=>[(y(!0),S(A,null,H(u(o).conditions,(m,c)=>(y(),E(p,{key:`${m.field}-${c}`,gutter:5,class:"filter-item-rule"},{default:n(()=>[e(P,{xs:24,sm:7},{default:n(()=>[e(x,{prop:"conditions."+c+".field",style:{width:"100%"}},{default:n(()=>[e(Ut,{ref_for:!0,ref:"triggerRef",options:t.filterFields.filter(f=>f.value!==void 0),"filter-rules":u(o),modelValue:m.field,"onUpdate:modelValue":[f=>m.field=f,f=>m.value=null]},null,8,["options","filter-rules","modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),m.field?(y(),E(P,{key:0,xs:24,sm:5},{default:n(()=>[e(x,{prop:"conditions."+c+".operator",style:{width:"100%"}},{default:n(()=>[e(It,{ref_for:!0,ref:"operatorRef",modelValue:m.operator,"onUpdate:modelValue":f=>m.operator=f},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):z("",!0),m.field?(y(),E(P,{key:1,xs:24,sm:10},{default:n(()=>[e(x,{prop:"conditions."+c+".value",style:{width:"100%"}},{default:n(()=>[e(u(Ot),{field:t.filterFields.find(f=>f.id===m.field),modelValue:m.value,"onUpdate:modelValue":f=>m.value=f},null,8,["field","modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):z("",!0),e(P,{xs:24,sm:2,style:{display:"flex","align-items":"center","flex-direction":"row-reverse"}},{default:n(()=>[e(R,{plain:"",circle:"",type:"danger",icon:u(Hl),onClick:f=>i(c)},null,8,["icon","onClick"])]),_:2},1024)]),_:2},1024))),128)),(y(!0),S(A,null,H(u(o).groups,(m,c)=>(y(),E(a,{key:c,onDelGroup:f=>b(c),modelValue:u(o).groups[c],"onUpdate:modelValue":f=>u(o).groups[c]=f,filterFields:h.filterFields},{default:n(()=>[e(R,{onClick:f=>b(c),icon:u(Be),class:"filter-filter-item__add"},{default:n(()=>[w(" 删除条件组 ")]),_:2},1032,["onClick","icon"])]),_:2},1032,["onDelGroup","modelValue","onUpdate:modelValue","filterFields"]))),128)),u(o).groups.length===0&&u(o).conditions.length===0?(y(),S("div",Bt)):z("",!0)]),_:1},8,["model"]),$("div",Lt,[e(R,{onClick:l,icon:u(Xe),class:"filter-filter-item__add"},{default:n(()=>[w(" 添加条件 ")]),_:1},8,["icon"]),e(R,{onClick:s,icon:u(Xe),class:"filter-filter-item__add"},{default:n(()=>[w(" 添加条件组 ")]),_:1},8,["icon"]),re(h.$slots,"default",{},void 0,!0)])])])}}});const jt=O(Mt,[["__scopeId","data-v-9daa512b"]]),Ht=I({__name:"ConditionAttr",props:{node:{}},emits:["update:node"],setup(r,{emit:d}){const t=r,{node:o}=ae(t,d),{fields:l}=W("nodeHooks");return(i,s)=>(y(),E(jt,{modelValue:u(o).conditions,"onUpdate:modelValue":s[0]||(s[0]=b=>u(o).conditions=b),"filter-fields":u(l)},null,8,["modelValue","filter-fields"]))}}),Wt=["id"],Gt=I({__name:"index",setup(r,{expose:d}){const t={start:Pt,approval:Et,cc:Ct,condition:Ht};let o=U({id:"",pid:"",type:"",name:"",child:null});const l=U(!1),i=U(!1),s=()=>{i.value&&(i.value=!1)};return d({open:h=>{o.value=h,l.value=!0}}),(h,v)=>{const C=ge,x=Ol,P=ql;return y(),E(P,{modelValue:l.value,"onUpdate:modelValue":v[2]||(v[2]=R=>l.value=R),size:"35%"},{header:n(({titleId:R,titleClass:p})=>[$("span",{id:R,class:ee(p)},[Z(e(C,{onBlur:s,maxlength:"30",modelValue:u(o).name,"onUpdate:modelValue":v[0]||(v[0]=a=>u(o).name=a)},null,8,["modelValue"]),[[u(el),s],[te,i.value]]),Z(e(x,{icon:"EditPen",onClick:v[1]||(v[1]=a=>i.value=!0)},{default:n(()=>[w(N(u(o).name),1)]),_:1},512),[[te,!i.value]])],10,Wt)]),default:n(()=>[(y(),E(Ue(t[u(o).type]),{node:u(o)},null,8,["node"]))]),_:1},8,["modelValue"])}}});const Kt=O(Gt,[["__scopeId","data-v-d67ff789"]]),Xt=(r,d)=>{const t=U(new Map),o=U(new Map),l=()=>(t.value.clear(),o.value.forEach((a,_)=>{const m=a==null?void 0:a.validate;if(m){const c=m();c&&c.showError&&t.value.set(_,c.message)}}),t),i=(a,_)=>{o.value.set(a,_)},s=()=>{let a=`node-${Math.random().toString(36).substring(2,7)}`;const _=(m,c)=>{if(m.id===c)return!0;if(m.child)return _(m.child,c);if("children"in m){const f=m;if(f.children&&f.children.length>0)return f.children.some(g=>_(g,c))}return!1};return _(r.value,a)?s():a},b=a=>{const _=a;_.children.unshift({id:s(),pid:a.id,type:"condition",def:!1,name:`条件${_.children.length+1}`,conditions:{logicalOperator:"and",conditions:[],groups:[]},child:null})},x={condition:b,approval:a=>{const _=a.child,m=s();a.child={id:m,pid:a.id,type:"approval",name:"审批人",child:_,assigneeType:"user",formUser:"",formRole:"",users:[],roles:[],leader:1,choice:!1,self:!1,multi:"sequential",nobody:"pass",formProperties:d.value.map(c=>({id:c.id,name:c.title,readable:!0,writeable:!1,hidden:!1,required:!1})),operations:{complete:!0,refuse:!0,save:!0,transfer:!1,addMulti:!1,minusMulti:!1}},_&&(_.pid=m)},cc:a=>{const _=a.child,m=s();a.child={id:m,pid:a.id,type:"cc",name:"抄送人",child:_,users:[],formProperties:d.value.map(c=>({id:c.id,name:c.title,readable:!0,writeable:!1,hidden:!1,required:!1}))},_&&(_.pid=m)},exclusive:a=>{const _=a.child,m=s(),c={id:m,pid:a.id,type:"exclusive",name:"独占网关",child:_,children:[]};if(a.child=c,_&&(_.pid=m),b(a.child),b(a.child),c.children.length>0){const f=c.children[c.children.length-1];f.def=!0,f.name="默认条件"}}},P=(a,_)=>{const m=x[a];m&&m(_)},R=a=>{p(r.value,a)},p=(a,_)=>{var m;if(a.id===_.pid)if("children"in a&&((m=a.child)==null?void 0:m.id)!==_.id){const c=a,f=c.children.findIndex(g=>g.id===_.id);f!==-1&&(c.children.length<=2?R(c):c.children.splice(f,1))}else _.child&&_.child.pid&&(_.child.pid=a.id),a.child=_.child;else if(a.child&&p(a.child,_),"children"in a){const c=a;c.children&&c.children.length>0&&c.children.forEach(f=>{p(f,_)})}};return{addNode:P,delNode:R,addNodeRef:i,validateNodes:l,nodeErrors:t}},Yt=async r=>{const d=await ue.download("https://www.666cxf.com/stage-api/workflow/model/download",r);Jl.saveAs(new Blob([d],{type:"application/octet-stream;charset=utf-8"}),"测试流程.bpmn20.xml")},Jt={class:"designer-container"},Qt={class:"dark"},Zt={class:"zoom"},ea={class:"node-container"},la=I({name:"flowDesign"}),oa=I({...la,props:{process:{},fields:{}},emits:["update:process","update:fields"],setup(r,{emit:d}){const t=r;Je(c=>({"75f86714":b.value}));const{process:o,fields:l}=ae(t,d),i=U(),s=U(100),b=T(()=>s.value/100),h=U(!1),v=()=>{h.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},C=c=>{var f;(f=i.value)==null||f.open(c)},{addNode:x,delNode:P,validateNodes:R,addNodeRef:p}=Xt(o,l);Vl("nodeHooks",{readOnly:!1,fields:l,addNode:x,delNode:P,addNodeRef:p,openPenal:C});const a=c=>{c.shiftKey&&(c.deltaY>0?s.value>50&&(s.value-=10):s.value<170&&(s.value+=10))},_=()=>{R()},m=()=>{const c={code:"test",name:"测试",icon:{name:"el:HomeFilled",color:"#409EFF"},process:o.value,form:{fields:l.value},version:1,sort:0,groupId:"",remark:""};Yt(c)};return window.addEventListener("wheel",a),$l(()=>{window.removeEventListener("wheel",a)}),(c,f)=>{const g=Fe,k=G;return y(),S("div",Jt,[$("div",Qt,[e(g,{"inline-prompt":"","active-icon":u(Wl),"inactive-icon":u(Gl),onChange:v,modelValue:h.value,"onUpdate:modelValue":f[0]||(f[0]=F=>h.value=F)},null,8,["active-icon","inactive-icon","modelValue"])]),$("div",Zt,[e(k,{icon:u(ze),onClick:f[1]||(f[1]=F=>s.value+=10),disabled:s.value>=170,circle:""},null,8,["icon","disabled"]),$("span",null,N(s.value)+"%",1),e(k,{icon:u(fl),onClick:f[2]||(f[2]=F=>s.value-=10),circle:"",disabled:s.value<=50},null,8,["icon","disabled"]),e(k,{onClick:_},{default:n(()=>[w("校验")]),_:1}),e(k,{onClick:m,type:"primary",icon:u(Kl)},{default:n(()=>[w("转bpmn")]),_:1},8,["icon"])]),$("div",ea,[e(vl,{node:u(o)},null,8,["node"])]),e(Kt,{ref_key:"nodePenalRef",ref:i},null,512)])}}});const ta=O(oa,[["__scopeId","data-v-95776ddf"]]),aa=I({__name:"App",setup(r){const d=U({id:"root",pid:null,type:"start",name:"发起人",formProperties:[],child:{id:"end",pid:"root",type:"end",name:"结束",child:null}}),t=U([{id:"field_da2w55",title:"请假人",name:"UserSelection",value:null,props:{multiple:!1,disabled:!1,placeholder:"请选择用户",style:{width:"100%"}}},{id:"field_fa2w40",title:"请假天数",name:"Number",value:null,props:{disabled:!1,placeholder:"请假天数",style:{width:"100%"},min:0,max:100,step:1,precision:0}},{id:"field_d42t45",title:"请假事由",name:"Select",value:null,props:{disabled:!1,multiple:!1,placeholder:"请选择请假事由",options:[{label:"事假",value:"事假"},{label:"病假",value:"病假"},{label:"婚假",value:"婚假"},{label:"产假",value:"产假"},{label:"丧假",value:"丧假"},{label:"其他",value:"其他"}],style:{width:"100%"}}},{id:"field_522g58",title:"请假原因",name:"Input",value:null,props:{type:"textarea",placeholder:"请输入请假原因",autosize:{minRows:3,maxRows:3},disabled:!1,style:{width:"100%"}}}]);return(o,l)=>{const i=Nl;return y(),E(i,{namespace:"el",locale:u(Al)},{default:n(()=>[e(ta,{process:d.value,fields:t.value},null,8,["process","fields"])]),_:1},8,["locale"])}}});const xe=[{id:1,name:"张三",username:"admin",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:2,name:"李四",username:"lisi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:3,name:"王五",username:"wangwu",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:4,name:"赵六",username:"zhaoliu",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:5,name:"孙七",username:"sunqi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:6,name:"周八",username:"zhouba",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:7,name:"吴九",username:"wujui",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:8,name:"郑十",username:"zhengshi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"}],na=[{url:"/api/user/info",method:"get",response:r=>{const d=r.query.username;return{code:200,success:!0,message:"操作成功",data:xe.find(t=>t.username===d)}}},{url:"/api/user/list",method:"post",response:r=>{const d=r.body.userIds;return{code:200,success:!0,message:"操作成功",data:Array.isArray(d)?xe.filter(t=>d.includes(t.username)):xe}}}],Ee=[{id:"1",name:"项目经理"},{id:"2",name:"产品经理"},{id:"3",name:"高级开发工程师"},{id:"4",name:"中级开发工程师"},{id:"5",name:"项目总监"},{id:"6",name:"产品策划"},{id:"7",name:"客服"},{id:"8",name:"销售经理"}],sa=[{url:"/api/role/info",method:"get",response:r=>{const d=r.query.id;return{code:200,success:!0,message:"操作成功",data:Ee.find(t=>t.id===d)}}},{url:"/api/role/list",method:"post",response:r=>{const d=r.body.roleIds;return{code:200,success:!0,message:"操作成功",data:Array.isArray(d)?Ee.filter(t=>d.includes(t.id)):Ee}}}],ra=[...na,...sa],da=[...ra];function ia(){Ql(da)}const ua=wl(aa);ua.mount("#app");ia();
