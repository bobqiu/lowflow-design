var hl=Object.defineProperty;var bl=(r,i,o)=>i in r?hl(r,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[i]=o;var He=(r,i,o)=>(bl(r,typeof i!="symbol"?i+"":i,o),o);import{I,r as R,o as y,c as S,X as e,Q as n,u,a as $,av as me,aw as ve,ax as Je,i as T,A as K,a4 as ce,R as Z,P as w,V as k,W as N,S as Pe,U as F,Y as te,J as re,K as ee,n as gl,b as le,M as yl,F as q,a8 as H,ag as Ue,z as de,$ as he,e as Qe,w as Xe,ay as Q,E as We,H as Vl,D as $l,ar as kl}from"./@vue-fa59abb2.js";import{E as oe,a as W,b as xl,u as ie,c as pe,C as Ze,d as be,e as wl,f as G,g as El,h as Re,i as Cl,j as Pl,k as el,l as ll,m as ol,n as tl,o as al,p as nl,w as ge,q as sl,r as rl,s as Ul,t as Ie,v as Rl,x as ye,y as Se,z as Te,A as Ae,B as Oe,D as Ve,F as qe,G as dl,H as Il,I as Sl,J as Tl,K as Al,L as Ol,M as ql,N as Nl}from"./element-plus-f8f3a162.js";import{B as Ne,Q as il,R as ul,S as cl,T as Fl,U as zl,a as Fe,V as Bl,W as pl,o as _l,X as Dl,Y as Ll,c as Ml,Z as jl,A as fl,_ as Ge,P as Hl}from"./@element-plus-97a63555.js";import{n as ae,m as Y}from"./@vueuse-159cba4b.js";import{a as Wl}from"./axios-21b846bc.js";import{j as Gl}from"./lodash-es-21c98b27.js";import{c as Kl}from"./vite-plugin-mock-3ea673a4.js";import"./@sxzz-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-f21ac596.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-593301b5.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-72671fae.js";import"./mockjs-07179472.js";import"./path-to-regexp-31db6522.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const s of d.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function o(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(a){if(a.ep)return;a.ep=!0;const d=o(a);fetch(a.href,d)}})();const ze=r=>(me("data-v-e5f31a23"),r=r(),ve(),r),Yl={class:"add-but"},Jl={class:"node-select"},Ql=ze(()=>$("span",null,"审批人",-1)),Xl=ze(()=>$("span",null,"抄送人",-1)),Zl=ze(()=>$("span",null,"互斥分支",-1)),eo=I({__name:"index",emits:["addNode"],setup(r,{emit:i}){const o=R(),l=()=>{var s;i("addNode","approval"),(s=o.value)==null||s.hide()},a=()=>{var s;i("addNode","cc"),(s=o.value)==null||s.hide()},d=()=>{var s;i("addNode","exclusive"),(s=o.value)==null||s.hide()};return(s,g)=>{const b=oe,m=W,C=xl;return y(),S("div",Yl,[e(C,{placement:"bottom-start",ref_key:"nodePopoverRef",ref:o,trigger:"click",title:"添加节点",width:235},{reference:n(()=>[e(m,{icon:u(Ne),type:"primary",style:{"z-index":"1"},circle:""},null,8,["icon"])]),default:n(()=>[$("div",Jl,[$("div",{onClick:l},[e(b,{color:"#ff943e"},{default:n(()=>[e(u(il))]),_:1}),Ql]),$("div",{onClick:a},[e(b,{color:"#3296fa"},{default:n(()=>[e(u(ul))]),_:1}),Xl]),$("div",{onClick:d},[e(b,null,{default:n(()=>[e(u(cl))]),_:1}),Zl])])]),_:1},512)])}}});const A=(r,i)=>{const o=r.__vccOpts||r;for(const[l,a]of i)o[l]=a;return o},ml=A(eo,[["__scopeId","data-v-e5f31a23"]]),lo={class:"node-box"},oo={class:"head"},to={key:2},ao=I({__name:"index",props:{icon:{},node:{},color:{},readOnly:{type:Boolean,default:!1},close:{type:Boolean,default:!0},arrow:{type:Boolean,default:!0},errorInfo:{default:()=>({showError:!1,message:""})}},emits:["update:node"],setup(r,{emit:i}){const o=r;Je(_=>({f13798a2:m.value,"78d01a3e":b.value,f023673c:_.color}));const l={list:Bl,stamp:il,share:cl,promotion:ul},{node:a}=ae(o,i),d=R(!1),s=R(),g=ie(),b=T(()=>pe[g.value||"default"]+205+"px"),m=T(()=>pe[g.value||"default"]+60+"px"),{addNode:C,delNode:x,openPenal:P}=K("nodeHooks"),U=()=>{o.readOnly||P(a.value)},p=()=>{o.readOnly||(d.value=!0,gl(()=>{var _;(_=s.value)==null||_.focus()}))},t=()=>{d.value&&(d.value=!1)};return(_,f)=>{const c=oe,v=wl,h=G,E=W,L=El,J=Re;return y(),S("div",lo,[e(J,{shadow:"always",onClick:f[5]||(f[5]=z=>U()),class:ee(["node",{"error-node":o.errorInfo.showError}])},{header:n(()=>[$("div",oo,[d.value?(y(),S("div",{key:0,onClick:f[2]||(f[2]=ce(()=>{},["stop"]))},[Z(e(u(be),{ref_key:"inputRef",ref:s,onBlur:t,maxlength:"30",modelValue:u(a).name,"onUpdate:modelValue":f[1]||(f[1]=z=>u(a).name=z)},null,8,["modelValue"]),[[u(Ze),t]])])):(y(),w(h,{key:1,tag:"b",truncated:"",onClick:ce(p,["stop"])},{default:n(()=>[k(N(u(a).name)+" ",1),e(c,null,{default:n(()=>[e(u(Fl))]),_:1})]),_:1},8,["onClick"])),_.icon?(y(),S("span",to,[e(c,{size:30,color:"node-icon"},{default:n(()=>[(y(),w(Pe(l[_.icon.toLowerCase()])))]),_:1})])):F("",!0)])]),default:n(()=>[e(v,{placement:"top-start"},{content:n(()=>[k(N(o.errorInfo.message),1)]),default:n(()=>[Z(e(c,{class:"warn-icon",size:20},{default:n(()=>[e(u(zl),{onClick:f[0]||(f[0]=ce(()=>{},["stop"]))})]),_:1},512),[[te,o.errorInfo.showError]])]),_:1}),$("div",{onClick:f[4]||(f[4]=ce(()=>{},["stop"]))},[e(L,{title:"您确定要删除该节点吗？",width:"200","hide-after":0,placement:"right-start",onConfirm:f[3]||(f[3]=z=>u(x)(u(a)))},{reference:n(()=>[Z(e(E,{class:"node-close",plain:"",circle:"",icon:u(Fe),size:"small",type:"danger"},null,8,["icon"]),[[te,_.close&&!_.readOnly]])]),_:1})]),re(_.$slots,"default",{},void 0,!0)]),_:3},8,["class"]),e(ml,{onAddNode:f[6]||(f[6]=z=>u(C)(z,u(a)))})])}}});const $e=A(ao,[["__scopeId","data-v-280b57f7"]]),no=I({__name:"content",props:{node:{}},setup(r){const i=r,o=R("");return le(()=>{o.value=i.node.name}),(l,a)=>{const d=G;return y(),w(d,null,{default:n(()=>[k(N(o.value||l.node.name),1)]),_:1})}}}),so={class:"start-box"},ro=I({__name:"index",props:{node:{}},setup(r){return(i,o)=>(y(),S("div",so,[e($e,{icon:"List",arrow:!1,close:!1,color:"#8c7cf3",node:i.node},{default:n(()=>[e(no,{node:i.node},null,8,["node"])]),_:1},8,["node"])]))}});const io=A(ro,[["__scopeId","data-v-0a059602"]]),uo={baseURL:"/api",timeout:8e3};class co{constructor(i){He(this,"service");this.service=Wl.create(i),this.service.interceptors.request.use(o=>(o.headers.Authorization="Bearer 87779e5a-3342-4df6-865d-d8828800d6fb",o),o=>Promise.reject(o)),this.service.interceptors.response.use(o=>{const{data:l}=o;return l},o=>{const{response:l,message:a}=o,d=l==null?void 0:l.data,s=d?d.message:a;return Cl.error(s||"未知错误"),Promise.reject((l==null?void 0:l.data)||o)})}get(i,o,l={}){return this.service.get(i,{params:o,...l})}post(i,o){return this.service.post(i,o)}put(i,o){return this.service.put(i,o)}delete(i,o){return this.service.delete(i,o)}patch(i,o){return this.service.patch(i,o)}head(i){return this.service.head(i)}options(i){return this.service.options(i)}request(i){return this.service.request(i)}download(i,o){return this.service.post(i,o,{responseType:"blob"})}}const ke=new co(uo),po=r=>ke.get("/user/info",{username:r}),_e=r=>{const i=r?{userIds:r}:{};return ke.post("/user/list",i)},_o=I({__name:"content",props:{node:{}},setup(r){const i=r,o=R("");return le(()=>{const l=i.node;l.assigneeType==="choice"?o.value=`发起人自选（${l.choice?"多选":"单选"}）`:l.assigneeType==="self"?o.value="发起人自己":l.assigneeType==="leader"?o.value=l.leader===1?"直属上级":`${l.leader}级上级`:l.assigneeType==="formUser"?o.value="表单内人员":l.assigneeType==="formRole"?o.value="表单内角色":l.assigneeType==="user"?l.users.length>0?_e(l.users).then(a=>{a.success&&(o.value=a.data.map(d=>d.name).join("、"))}):o.value="未指定人员":l.assigneeType==="role"?l.roles.length>0||(o.value="未指定角色"):o.value=i.node.name}),(l,a)=>{const d=G;return y(),w(d,null,{default:n(()=>[k(N(o.value||l.node.name),1)]),_:1})}}}),fo=I({__name:"index",props:{node:{}},setup(r,{expose:i}){const o=r,l=R({showError:!1,message:""});return i({validate:()=>(l.value={showError:!1,message:""},o.node.assigneeType==="user"?o.node.users.length===0&&(l.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定人员`}):o.node.assigneeType==="role"?o.node.roles.length===0&&(l.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定角色`}):o.node.assigneeType==="formUser"?o.node.formRole||(l.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定表单内人员`}):o.node.assigneeType==="formRole"?o.node.formRole||(l.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定表单内角色`}):o.node.assigneeType==="leader"&&(o.node.leader||(l.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定多级上级`})),l.value)}),(d,s)=>(y(),w($e,{icon:"Stamp",color:"linear-gradient(89.96deg, #FA6F32 .05%, #FB9337 79.83%)","error-info":l.value,node:d.node},{default:n(()=>[e(_o,{node:d.node},null,8,["node"])]),_:1},8,["error-info","node"]))}}),mo=I({__name:"content",props:{node:{}},setup(r){const i=r,o=R("");return le(()=>{const l=i.node;l.users.length>0?_e(l.users).then(a=>{a.success&&(o.value=a.data.map(d=>d.name).join("、"))}):o.value="未指定人员"}),(l,a)=>{const d=G;return y(),w(d,null,{default:n(()=>[k(N(o.value||l.node.name),1)]),_:1})}}}),vo=I({__name:"index",props:{node:{}},setup(r,{expose:i}){const o=r,l=R({showError:!1,message:""});return i({validate:()=>(l.value={showError:!1,message:""},o.node.users.length===0&&(l.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定抄送人`}),l.value)}),(d,s)=>(y(),w($e,yl({icon:"Promotion"},d.$attrs,{color:"#3296FA","error-info":l.value,node:d.node}),{default:n(()=>[e(mo,{node:d.node},null,8,["node"])]),_:1},16,["error-info","node"]))}}),ho=I({__name:"content",props:{node:{}},setup(r){const i=r,o=R(e("span",null,null));return le(()=>{if(i.node.def)return o.value=e("span",null,[k("不满足条件时，进入默认条件")]);i.node.conditions.conditions.length>0||i.node.conditions.groups.length>0?o.value=e("span",null,[k("已设置（"),i.node.conditions.conditions.length+i.node.conditions.groups.length,k("）个条件")]):o.value=e("span",null,[k("未设置条件")])}),(l,a)=>{const d=G;return y(),w(d,null,{default:n(()=>[e(u(o))]),_:1})}}}),bo={class:"condition-box"},go=I({__name:"index",props:{node:{}},setup(r,{expose:i}){const o=r,l=R({showError:!1,message:""});return i({validate:()=>{if(l.value={showError:!1,message:""},!o.node.def)return o.node.conditions.conditions.length===0&&o.node.conditions.groups.length===0&&(l.value={showError:!0,message:`节点：[ ${o.node.name} ] 未设置条件`}),l.value}}),(d,s)=>(y(),S("div",bo,[e($e,{icon:"Share",readOnly:d.node.def,"error-info":l.value,node:d.node},{default:n(()=>[e(ho,{node:d.node},null,8,["node"])]),_:1},8,["readOnly","error-info","node"])]))}});const yo=A(go,[["__scopeId","data-v-1200ce3d"]]),xe=r=>(me("data-v-1ca7350c"),r=r(),ve(),r),Vo={class:"branch-node"},$o={class:"add-branch"},ko=xe(()=>$("div",{class:ee("top-right-border")},null,-1)),xo=xe(()=>$("div",{class:ee("bottom-right-border")},null,-1)),wo=xe(()=>$("div",{class:ee("top-left-border")},null,-1)),Eo=xe(()=>$("div",{class:ee("bottom-left-border")},null,-1)),Co=I({__name:"index",props:{node:{}},setup(r){const{addNode:i}=K("nodeHooks");return(o,l)=>(y(),S(q,null,[$("div",Vo,[$("div",$o,[re(o.$slots,"default",{},void 0,!0)]),(y(!0),S(q,null,H(o.node.children,(a,d)=>(y(),S("div",{key:a.id,class:"col-box"},[o.node.children.length===d+1?(y(),S(q,{key:0},[ko,xo],64)):F("",!0),d===0?(y(),S(q,{key:1},[wo,Eo],64)):F("",!0),e(vl,{node:a},null,8,["node"])]))),128))]),e(ml,{onAddNode:l[0]||(l[0]=a=>u(i)(a,o.node)),class:"branch-but"})],64))}});const Po=A(Co,[["__scopeId","data-v-1ca7350c"]]),Uo=I({__name:"index",props:{node:{}},setup(r){const{addNode:i}=K("nodeHooks");return(o,l)=>{const a=W;return y(),w(Po,{node:o.node},{default:n(()=>[e(a,{type:"primary",onClick:l[0]||(l[0]=d=>u(i)("condition",o.node)),plain:"",round:""},{default:n(()=>[k("添加条件")]),_:1})]),_:1},8,["node"])}}});const Ro={},Io={class:"node-box"};function So(r,i){const o=G;return y(),S("div",Io,[e(o,{class:"end-node"},{default:n(()=>[k(" 结束 ")]),_:1})])}const To=A(Ro,[["render",So],["__scopeId","data-v-74763bb4"]]),Ao=I({name:"NodeTree"}),Oo=I({...Ao,props:{node:{}},setup(r){const i={start:io,approval:fo,cc:vo,condition:yo,exclusive:Uo,end:To},{addNodeRef:o}=K("nodeHooks");return(l,a)=>{const d=Ue("NodeTree");return y(),S(q,null,[re(l.$slots,"default",{},void 0,!0),(y(),w(Pe(i[l.node.type]),{node:l.node,ref:s=>s&&u(o)(l.node.id,s)},null,8,["node"])),l.node.child?(y(),w(d,{key:0,node:l.node.child},null,8,["node"])):F("",!0)],64)}}});const vl=A(Oo,[["__scopeId","data-v-64d33364"]]),qo=I({__name:"index",props:{block:{type:Boolean,default:!0},modelValue:{}},emits:["update:modelValue"],setup(r,{emit:i}){const l=Y(r,"modelValue",i);return(a,d)=>{const s=Pl;return y(),w(s,{modelValue:u(l),"onUpdate:modelValue":d[0]||(d[0]=g=>de(l)?l.value=g:null),class:ee(["el-segmented",{"is-block":a.block}])},{default:n(()=>[re(a.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","class"])}}});const Be=A(qo,[["__scopeId","data-v-6406405a"]]),No={class:"flex-center",style:{gap:"4px","grid-gap":"4px"}},Fo=I({__name:"UserTag",props:{username:{},type:{default:"info"},closable:{type:Boolean,default:!1}},emits:["close"],setup(r,{emit:i}){const o=r;let l=he({username:void 0,avatar:void 0,name:void 0});Qe(()=>{if(!o.username)throw new Error("username is required");po(o.username).then(g=>{g.success&&(l.username=g.data.username,l.avatar=g.data.avatar,l.name=g.data.name)})}),T(()=>{const g="/api";return g.startsWith("http")?g:window.location.origin+g});const a=ie(),d=T(()=>pe[a.value||"default"]-12),s=()=>{i("close",o.username)};return(g,b)=>{const m=el,C=ll;return y(),w(C,{round:"",closable:o.closable,type:g.type,effect:"light",onClose:s},{default:n(()=>[$("div",No,[e(m,{size:d.value,src:u(l).avatar},{default:n(()=>[k(N((u(l).name||g.username).charAt(0)),1)]),_:1},8,["size","src"]),$("span",null,N(u(l).name||g.username),1)])]),_:1},8,["closable","type"])}}});const De=A(Fo,[["__scopeId","data-v-11e894be"]]),zo={class:"flex flex-1 flex-items-center flex-justify-between"},Bo={class:"flex-center"},Do=I({__name:"UserPicker",props:{modelValue:{},multiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(r,{expose:i,emit:o}){const l=r,a={label:"name",children:"children",isLeaf:"leaf",class:c=>C(c)},d=Y(l,"modelValue",o),s=R([]),g=R([]),b=R(),m=R([]),C=c=>s.value.find(h=>h.id===c.id)?"is-active":"",x=c=>{if(c.type==="user")if(l.multiple){const v=s.value.findIndex(h=>h.id===c.id);v===-1?(s.value.push(c),s.value.sort((h,E)=>h.id.localeCompare(E.id))):s.value.splice(v,1)}else{const v=s.value.findIndex(h=>h.id===c.id);v===-1?s.value=[c]:s.value.splice(v,1)}},P=R(!1),U=he({name:null});Xe(()=>U.name,c=>{var v;(v=b.value)==null||v.filter(c)});const p=(c,v)=>c?v.name.includes(c):!0,t=()=>{P.value=!0},_=()=>{_e().then(v=>{v.success&&(g.value=v.data.map(h=>({id:h.username,name:h.name,type:"user",leaf:!0,avatar:h.avatar})))});let c=[];Array.isArray(d.value)?c.push(...d.value):d.value&&c.push(d.value),c.length>0?_e(c).then(v=>{v.success&&(s.value=v.data.map(h=>({id:h.username,name:h.name,avatar:h.avatar,type:"user",leaf:!0})),s.value.sort((h,E)=>h.id.localeCompare(E.id)))}):s.value=[]},f=()=>{l.multiple?d.value=s.value.map(c=>c.id):s.value.length>0?d.value=s.value[0].id:d.value=null,P.value=!1};return i({open:t}),(c,v)=>{const h=be,E=el,L=oe,J=ol,z=tl,M=Re,B=W,j=al;return y(),w(j,{modelValue:P.value,"onUpdate:modelValue":v[2]||(v[2]=O=>P.value=O),onOpen:_,"align-center":"",draggable:"",title:"选择用户",width:"30%"},{footer:n(()=>[e(B,{onClick:v[1]||(v[1]=O=>P.value=!1)},{default:n(()=>[k("取消")]),_:1}),e(B,{type:"primary",onClick:f},{default:n(()=>[k("确认")]),_:1})]),default:n(()=>[e(M,{shadow:"never",class:"org-card"},{header:n(()=>[e(h,{modelValue:U.name,"onUpdate:modelValue":v[0]||(v[0]=O=>U.name=O),placeholder:"输入关键字进行查询",style:{width:"100%"},"suffix-icon":"search",clearable:""},null,8,["modelValue"])]),default:n(()=>[e(z,{tag:"div",class:"org-tree"},{default:n(()=>[e(J,{ref_key:"orgTreeRef",ref:b,"node-key":"id",data:g.value,"default-expanded-keys":m.value,props:a,"filter-node-method":p,onNodeClick:x},{default:n(({data:O})=>[$("div",zo,[$("div",Bo,[O.type==="user"?(y(),w(E,{key:0,size:25,src:O.avatar},{default:n(()=>[k(N(O.name.charAt(0)),1)]),_:2},1032,["src"])):(y(),w(L,{key:1,size:16},{default:n(()=>[e(u(pl))]),_:1})),k("  "+N(O.name),1)]),e(L,{class:"is-selected"},{default:n(()=>[e(u(_l))]),_:1})])]),_:1},8,["data","default-expanded-keys"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const Le=A(Do,[["__scopeId","data-v-54f06cf8"]]),Lo={class:"user-wrapper"},Mo=I({__name:"UserSelector",props:{modelValue:{},placeholder:{default:"请选择用户"},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},style:{}},emits:["update:modelValue"],setup(r,{emit:i}){const o=r,l=Y(o,"modelValue",i),a=T(()=>l.value?Array.isArray(l.value)?l.value:[l.value]:[]),d=R(),s=nl(),g=ie(),b=T(()=>s.value||o.disabled),m=()=>{var x;(x=d.value)==null||x.open()},C=x=>{l.value&&(o.multiple&&Array.isArray(l.value)?l.value.splice(l.value.indexOf(x),1):l.value=null)};return(x,P)=>{const U=oe,p=W,t=G;return y(),S(q,null,[e(Le,{ref_key:"userPickerRef",ref:d,multiple:x.multiple,modelValue:u(l),"onUpdate:modelValue":P[0]||(P[0]=_=>de(l)?l.value=_:null)},null,8,["multiple","modelValue"]),$("div",Lo,[e(p,{class:"user-but-item",size:u(g),disabled:b.value,onClick:m,circle:""},{default:n(()=>[e(U,null,{default:n(()=>[e(u(Dl))]),_:1})]),_:1},8,["size","disabled"]),(y(!0),S(q,null,H(a.value,_=>(y(),w(De,{closable:!b.value,key:_,username:_,onClose:C},null,8,["closable","username"]))),128)),Z(e(t,{class:"placeholder"},{default:n(()=>[k(N(x.placeholder),1)]),_:1},512),[[te,!u(l)||u(l).length===0]])])],64)}}});const jo=A(Mo,[["__scopeId","data-v-478c5cf7"]]),Ho=ge(De),Wo=ge(Le),fe=sl(jo,{userTag:De,userPicker:Le}),Go=Object.freeze(Object.defineProperty({__proto__:null,UserPicker:Wo,UserSelector:fe,UserTag:Ho,default:fe},Symbol.toStringTag,{value:"Module"})),Ko=r=>ke.get("/role/info",{id:r}),Ke=r=>{const i=r?{roleIds:r}:{};return ke.post("/role/list",i)},Yo={class:"flex-center",style:{gap:"4px","grid-gap":"4px"}},Jo=I({__name:"RoleTag",props:{id:{},type:{default:"info"},closable:{type:Boolean,default:!1}},emits:["close"],setup(r,{emit:i}){const o=r;let l=he({id:void 0,name:void 0});Qe(()=>{if(!o.id)throw new Error("username is required");Ko(o.id).then(s=>{s.success&&(console.log(s),l.id=s.data.id,l.name=s.data.name)})}),T(()=>{const s="/api";return s.startsWith("http")?s:window.location.origin+s});const a=ie();T(()=>pe[a.value||"default"]-12);const d=()=>{i("close",o.id)};return(s,g)=>{const b=ll;return y(),w(b,{round:"",closable:o.closable,type:s.type,effect:"light",onClose:d},{default:n(()=>[$("div",Yo,[$("span",null,N(u(l).name||s.id),1)])]),_:1},8,["closable","type"])}}});const Me=A(Jo,[["__scopeId","data-v-467ad35b"]]),Qo={class:"flex flex-1 flex-items-center flex-justify-between"},Xo={class:"flex-center"},Zo=I({__name:"RolePicker",props:{modelValue:{},multiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(r,{expose:i,emit:o}){const l=r,a={label:"name",children:"children",isLeaf:"leaf",class:c=>C(c)},d=Y(l,"modelValue",o),s=R([]),g=R([]),b=R(),m=R([]),C=c=>s.value.find(h=>h.id===c.id)?"is-active":"",x=c=>{if(l.multiple){const v=s.value.findIndex(h=>h.id===c.id);v===-1?(s.value.push(c),s.value.sort((h,E)=>h.id.localeCompare(E.id))):s.value.splice(v,1)}else{const v=s.value.findIndex(h=>h.id===c.id);v===-1?s.value=[c]:s.value.splice(v,1)}},P=R(!1),U=he({name:null});Xe(()=>U.name,c=>{var v;(v=b.value)==null||v.filter(c)});const p=(c,v)=>c?v.name.includes(c):!0,t=()=>{P.value=!0},_=()=>{Ke().then(v=>{v.success&&(g.value=v.data.map(h=>({id:h.id,name:h.name})))});let c=[];Array.isArray(d.value)?c.push(...d.value):d.value&&c.push(d.value),c.length>0?Ke(c).then(v=>{v.success&&(s.value=v.data.map(h=>({id:h.id,name:h.name})),s.value.sort((h,E)=>h.id.localeCompare(E.id)))}):s.value=[]},f=()=>{l.multiple?d.value=s.value.map(c=>c.id):s.value.length>0?d.value=s.value[0].id:d.value=null,P.value=!1};return i({open:t}),(c,v)=>{const h=be,E=oe,L=ol,J=tl,z=Re,M=W,B=al;return y(),w(B,{modelValue:P.value,"onUpdate:modelValue":v[2]||(v[2]=j=>P.value=j),onOpen:_,"align-center":"",draggable:"",title:"选择角色",width:"30%"},{footer:n(()=>[e(M,{onClick:v[1]||(v[1]=j=>P.value=!1)},{default:n(()=>[k("取消")]),_:1}),e(M,{type:"primary",onClick:f},{default:n(()=>[k("确认")]),_:1})]),default:n(()=>[e(z,{shadow:"never",class:"org-card"},{header:n(()=>[e(h,{modelValue:U.name,"onUpdate:modelValue":v[0]||(v[0]=j=>U.name=j),placeholder:"输入关键字进行查询",style:{width:"100%"},"suffix-icon":"search",clearable:""},null,8,["modelValue"])]),default:n(()=>[e(J,{tag:"div",class:"org-tree"},{default:n(()=>[e(L,{ref_key:"orgTreeRef",ref:b,"node-key":"id",data:g.value,"default-expanded-keys":m.value,props:a,"filter-node-method":p,onNodeClick:x},{default:n(({data:j})=>[$("div",Qo,[$("div",Xo,[e(E,{size:16},{default:n(()=>[e(u(pl))]),_:1}),k("  "+N(j.name),1)]),e(E,{class:"is-selected"},{default:n(()=>[e(u(_l))]),_:1})])]),_:1},8,["data","default-expanded-keys"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const je=A(Zo,[["__scopeId","data-v-12a5ddcd"]]),et={class:"role-wrapper"},lt=I({__name:"RoleSelector",props:{modelValue:{},placeholder:{default:"请选择角色"},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},style:{}},emits:["update:modelValue"],setup(r,{emit:i}){const o=r,l=Y(o,"modelValue",i),a=T(()=>l.value?Array.isArray(l.value)?l.value:[l.value]:[]),d=R(),s=nl(),g=ie(),b=T(()=>s.value||o.disabled),m=()=>{var x;(x=d.value)==null||x.open()},C=x=>{l.value&&(o.multiple&&Array.isArray(l.value)?l.value.splice(l.value.indexOf(x),1):l.value=null)};return(x,P)=>{const U=oe,p=W,t=G;return y(),S(q,null,[e(je,{ref_key:"RolePickerRef",ref:d,multiple:x.multiple,modelValue:u(l),"onUpdate:modelValue":P[0]||(P[0]=_=>de(l)?l.value=_:null)},null,8,["multiple","modelValue"]),$("div",et,[e(p,{class:"role-but-item",size:u(g),disabled:b.value,onClick:m,circle:""},{default:n(()=>[e(U,null,{default:n(()=>[e(u(Ll))]),_:1})]),_:1},8,["size","disabled"]),(y(!0),S(q,null,H(a.value,_=>(y(),w(Me,{closable:!b.value,key:_,id:_,onClose:C},null,8,["closable","id"]))),128)),Z(e(t,{class:"placeholder"},{default:n(()=>[k(N(x.placeholder),1)]),_:1},512),[[te,!u(l)||u(l).length===0]])])],64)}}});const ot=A(lt,[["__scopeId","data-v-05f71629"]]),tt=ge(Me),at=ge(je),Ce=sl(ot,{roleTag:Me,rolePicker:je}),nt=Object.freeze(Object.defineProperty({__proto__:null,RolePicker:at,RoleSelector:Ce,RoleTag:tt,default:Ce},Symbol.toStringTag,{value:"Module"})),ue=r=>(me("data-v-974ab3f1"),r=r(),ve(),r),st={class:"flow-opt-item"},rt={class:"flow-opt-item__content"},dt=ue(()=>$("div",{class:"flow-opt-item__second"}," 同意描述、同意描述、同意描述、同意描述、同意描述、同意描述 ",-1)),it={class:"flow-opt-item"},ut={class:"flow-opt-item__content"},ct=ue(()=>$("div",{class:"flow-opt-item__second"}," 拒绝描述、拒绝描述、拒绝描述、拒绝描述、拒绝描述、拒绝描述 ",-1)),pt={class:"flow-opt-item"},_t={class:"flow-opt-item__content"},ft=ue(()=>$("div",{class:"flow-opt-item__second"}," 转办描述、转办描述、转办描述、转办描述、转办描述、转办描述 ",-1)),mt={class:"flow-opt-item"},vt={class:"flow-opt-item__content"},ht=ue(()=>$("div",{class:"flow-opt-item__second"}," 加签描述、加签描述、加签描述、加签描述、加签描述、加签描述 ",-1)),bt={class:"flow-opt-item"},gt={class:"flow-opt-item__content"},yt=ue(()=>$("div",{class:"flow-opt-item__second"}," 减签描述、减签描述、减签描述、减签描述、减签描述、减签描述 ",-1)),Vt=I({__name:"ApprovalAttr",props:{node:{}},emits:["update:node"],setup(r,{emit:i}){const o=r,l=R("properties"),{node:a}=ae(o,i),{fields:d}=K("nodeHooks"),s=T({get(){return a.value.formProperties.every(p=>p.writeable)},set(p){a.value.formProperties.forEach(t=>t.writeable=p),p?(b.value=!1,m.value=!1):g.value=!1}}),g=T({get(){return a.value.formProperties.every(p=>p.required)},set(p){a.value.formProperties.forEach(t=>t.required=p),p&&(s.value=!0,b.value=!1,m.value=!1)}}),b=T({get(){return a.value.formProperties.every(p=>p.readable)},set(p){a.value.formProperties.forEach(t=>t.readable=p),p&&(s.value=!1,m.value=!1,g.value=!1)}}),m=T({get(){return a.value.formProperties.every(p=>p.hidden)},set(p){a.value.formProperties.forEach(t=>t.hidden=p),p&&(s.value=!1,g.value=!1,b.value=!1)}}),C=p=>{p.readable&&(p.writeable=!1,p.required=!1,p.hidden=!1)},x=p=>{p.required&&(p.writeable=!0,p.readable=!1,p.hidden=!1)},P=p=>{p.writeable?(p.readable=!1,p.hidden=!1):p.required=!1},U=p=>{p.hidden&&(p.readable=!1,p.writeable=!1,p.required=!1)};return le(()=>{const p=a.value.formProperties;a.value.formProperties=d.value.filter(t=>t.value!==void 0).map(t=>({id:t.id,name:t.title,readable:t.props.disabled||!1,writeable:!t.props.disabled||!1,hidden:t.props.hidden||!1,required:t.props.required&&!t.props.disabled||!1})),a.value.formProperties.forEach(t=>{const _=p.find(f=>f.id===t.id);_&&(t.readable=_.readable,t.writeable=_.writeable,t.hidden=_.hidden,t.required=_.required)})}),(p,t)=>{const _=rl,f=Ul,c=Ie,v=Rl,h=G,E=ye,L=Se,J=Te,z=Ae,M=Oe,B=Ve,j=qe,O=oe,ne=dl,se=Il;return y(),w(u(Be),{modelValue:l.value,"onUpdate:modelValue":t[18]||(t[18]=V=>l.value=V),stretch:"",block:!1},{default:n(()=>[e(z,{label:"设置审批人",name:"properties"},{default:n(()=>[e(J,{"label-position":"top","label-width":"90px"},{default:n(()=>[e(c,{prop:"assigneeType",label:"审批对象"},{default:n(()=>[e(f,{modelValue:u(a).assigneeType,"onUpdate:modelValue":t[0]||(t[0]=V=>u(a).assigneeType=V)},{default:n(()=>[e(_,{label:"user"},{default:n(()=>[k("指定人员")]),_:1}),e(_,{label:"role"},{default:n(()=>[k("指定角色")]),_:1}),e(_,{label:"choice"},{default:n(()=>[k("发起人自选")]),_:1}),e(_,{label:"self"},{default:n(()=>[k("发起人自己")]),_:1}),e(_,{label:"leader"},{default:n(()=>[k("多级上级")]),_:1}),e(_,{label:"formUser"},{default:n(()=>[k("表单内人员")]),_:1}),e(_,{label:"formRole"},{default:n(()=>[k("表单内角色")]),_:1})]),_:1},8,["modelValue"])]),_:1}),u(a).assigneeType==="user"?(y(),w(c,{key:0,prop:"users",label:"指定人员"},{default:n(()=>[e(u(fe),{multiple:"",placeholder:"请选择人员",modelValue:u(a).users,"onUpdate:modelValue":t[1]||(t[1]=V=>u(a).users=V)},null,8,["modelValue"])]),_:1})):F("",!0),u(a).assigneeType==="choice"?(y(),w(c,{key:1,prop:"selfSelect",label:"发起人自选择"},{default:n(()=>[e(f,{modelValue:u(a).choice,"onUpdate:modelValue":t[2]||(t[2]=V=>u(a).choice=V)},{default:n(()=>[e(v,{label:!1},{default:n(()=>[k("单选")]),_:1}),e(v,{label:!0},{default:n(()=>[k("多选")]),_:1})]),_:1},8,["modelValue"])]),_:1})):F("",!0),u(a).assigneeType==="self"?(y(),w(c,{key:2,prop:"self",label:"发起人自己"},{default:n(()=>[e(h,null,{default:n(()=>[k(" 发起人自己作为审批人进行审批 ")]),_:1})]),_:1})):F("",!0),u(a).assigneeType==="leader"?(y(),w(c,{key:3,prop:"leader",label:"多级上级"},{default:n(()=>[e(L,{modelValue:u(a).leader,"onUpdate:modelValue":t[3]||(t[3]=V=>u(a).leader=V),placeholder:"请选择多级上级"},{default:n(()=>[e(E,{label:"直属上级",value:1}),e(E,{label:"2级上级",value:2}),e(E,{label:"3级上级",value:3}),e(E,{label:"4级上级",value:4}),e(E,{label:"5级上级",value:5}),e(E,{label:"6级上级",value:6}),e(E,{label:"7级上级",value:7}),e(E,{label:"8级上级",value:8}),e(E,{label:"9级上级",value:9}),e(E,{label:"10级上级",value:10}),e(E,{label:"11级上级",value:11})]),_:1},8,["modelValue"])]),_:1})):F("",!0),u(a).assigneeType==="role"?(y(),w(c,{key:4,prop:"roles",label:"指定角色"},{default:n(()=>[e(u(Ce),{multiple:"",placeholder:"请选择角色",modelValue:u(a).roles,"onUpdate:modelValue":t[4]||(t[4]=V=>u(a).roles=V)},null,8,["modelValue"])]),_:1})):F("",!0),u(a).assigneeType==="formUser"?(y(),w(c,{key:5,prop:"formUser",label:"表单内人员"},{default:n(()=>[e(L,{placeholder:"选择表单内人员",modelValue:u(a).formUser,"onUpdate:modelValue":t[5]||(t[5]=V=>u(a).formUser=V)},{default:n(()=>[(y(!0),S(q,null,H(u(d).filter(V=>V.name==="UserSelection"),V=>(y(),w(E,{key:V.id,label:V.title,value:V.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):F("",!0),u(a).assigneeType==="formRole"?(y(),w(c,{key:6,prop:"formRole",label:"表单内角色"},{default:n(()=>[e(L,{placeholder:"选择表单内角色",modelValue:u(a).formRole,"onUpdate:modelValue":t[6]||(t[6]=V=>u(a).formRole=V)},{default:n(()=>[(y(!0),S(q,null,H(u(d).filter(V=>V.name==="RoleSelection"),V=>(y(),w(E,{key:V.id,label:V.title,value:V.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):F("",!0),e(c,{prop:"method",label:"多人审批方式"},{default:n(()=>[e(f,{class:"flex-column",modelValue:u(a).multi,"onUpdate:modelValue":t[7]||(t[7]=V=>u(a).multi=V)},{default:n(()=>[e(_,{label:"sequential"},{default:n(()=>[k("依次审批（按顺序审批）")]),_:1}),e(_,{label:"joint"},{default:n(()=>[k("会签（需要所有审批人都通过才可通过）")]),_:1}),e(_,{label:"single"},{default:n(()=>[k("或签（其中一名审批人通过或驳回即可）")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(c,{prop:"nobody",label:"审批人为空"},{default:n(()=>[e(f,{modelValue:u(a).nobody,"onUpdate:modelValue":t[8]||(t[8]=V=>u(a).nobody=V)},{default:n(()=>[e(_,{label:"pass"},{default:n(()=>[k("自动通过")]),_:1}),e(_,{label:"reject"},{default:n(()=>[k("自动驳回")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(z,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(j,{data:u(a).formProperties,style:{width:"100%"}},{default:n(()=>[e(M,{prop:"name",label:"字段"}),e(M,{prop:"readable"},{header:n(()=>[e(B,{modelValue:b.value,"onUpdate:modelValue":t[9]||(t[9]=V=>b.value=V),label:"可读"},null,8,["modelValue"])]),default:n(({row:V})=>[e(B,{modelValue:V.readable,"onUpdate:modelValue":D=>V.readable=D,onChange:D=>C(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(M,{prop:"writeable"},{header:n(()=>[e(B,{modelValue:s.value,"onUpdate:modelValue":t[10]||(t[10]=V=>s.value=V),label:"可写"},null,8,["modelValue"])]),default:n(({row:V})=>[e(B,{modelValue:V.writeable,"onUpdate:modelValue":D=>V.writeable=D,onChange:D=>P(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(M,{prop:"required"},{header:n(()=>[e(B,{modelValue:g.value,"onUpdate:modelValue":t[11]||(t[11]=V=>g.value=V),label:"必填"},null,8,["modelValue"])]),default:n(({row:V})=>[e(B,{modelValue:V.required,"onUpdate:modelValue":D=>V.required=D,onChange:D=>x(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(M,{prop:"hidden"},{header:n(()=>[e(B,{modelValue:m.value,"onUpdate:modelValue":t[12]||(t[12]=V=>m.value=V),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:V})=>[e(B,{modelValue:V.hidden,"onUpdate:modelValue":D=>V.hidden=D,onChange:D=>U(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1}),e(z,{label:"操作权限",name:"operationPermissions"},{default:n(()=>[$("div",st,[e(O,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(Ml))]),_:1}),$("div",rt,[e(h,{tag:"b"},{default:n(()=>[k(" 同意 ")]),_:1}),dt]),e(ne,{modelValue:u(a).operations.complete,"onUpdate:modelValue":t[13]||(t[13]=V=>u(a).operations.complete=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(se),$("div",it,[e(O,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(Fe))]),_:1}),$("div",ut,[e(h,{tag:"b"},{default:n(()=>[k(" 拒绝 ")]),_:1}),ct]),e(ne,{modelValue:u(a).operations.refuse,"onUpdate:modelValue":t[14]||(t[14]=V=>u(a).operations.refuse=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(se),$("div",pt,[e(O,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(jl))]),_:1}),$("div",_t,[e(h,{tag:"b"},{default:n(()=>[k(" 转办 ")]),_:1}),ft]),e(ne,{modelValue:u(a).operations.transfer,"onUpdate:modelValue":t[15]||(t[15]=V=>u(a).operations.transfer=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(se),$("div",mt,[e(O,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(Ne))]),_:1}),$("div",vt,[e(h,{tag:"b"},{default:n(()=>[k(" 加签 ")]),_:1}),ht]),e(ne,{modelValue:u(a).operations.addMulti,"onUpdate:modelValue":t[16]||(t[16]=V=>u(a).operations.addMulti=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(se),$("div",bt,[e(O,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(fl))]),_:1}),$("div",gt,[e(h,{tag:"b"},{default:n(()=>[k(" 减签 ")]),_:1}),yt]),e(ne,{modelValue:u(a).operations.minusMulti,"onUpdate:modelValue":t[17]||(t[17]=V=>u(a).operations.minusMulti=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(se)]),_:1})]),_:1},8,["modelValue"])}}});const $t=A(Vt,[["__scopeId","data-v-974ab3f1"]]),kt=I({__name:"CcAttr",props:{node:{}},emits:["update:node"],setup(r,{emit:i}){const o=r,l=R("properties"),{node:a}=ae(o,i),{fields:d}=K("nodeHooks"),s=T({get(){return a.value.formProperties.every(b=>b.readable)},set(b){a.value.formProperties.forEach(m=>m.readable=b),g.value=!b}}),g=T({get(){return a.value.formProperties.every(b=>b.hidden)},set(b){a.value.formProperties.forEach(m=>m.hidden=b),s.value=!b}});return le(()=>{const b=a.value.formProperties;a.value.formProperties=d.value.filter(m=>m.value!==void 0).map(m=>({id:m.id,name:m.title,readable:!0,writeable:!1,required:!1,hidden:m.props.hidden||!1})),a.value.formProperties.forEach(m=>{const C=b.find(x=>x.id===m.id);C&&(m.readable=C.readable,m.writeable=C.writeable,m.hidden=C.hidden,m.required=C.required)})}),(b,m)=>{const C=fe,x=Ie,P=Te,U=Ae,p=Oe,t=Ve,_=qe;return y(),w(u(Be),{modelValue:l.value,"onUpdate:modelValue":m[3]||(m[3]=f=>l.value=f),stretch:"",block:!1},{default:n(()=>[e(U,{label:"设置抄送人",name:"properties"},{default:n(()=>[e(P,{"label-position":"top","label-width":"90px"},{default:n(()=>[e(x,{prop:"users",label:"抄送人"},{default:n(()=>[e(C,{multiple:"",placeholder:"请选择人员",modelValue:u(a).users,"onUpdate:modelValue":m[0]||(m[0]=f=>u(a).users=f)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(U,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(_,{data:u(a).formProperties,style:{width:"100%"}},{default:n(()=>[e(p,{prop:"name",label:"字段"}),e(p,{prop:"readable"},{header:n(()=>[e(t,{modelValue:s.value,"onUpdate:modelValue":m[1]||(m[1]=f=>s.value=f),label:"可读"},null,8,["modelValue"])]),default:n(({row:f})=>[e(t,{modelValue:f.readable,"onUpdate:modelValue":c=>f.readable=c,onChange:c=>f.hidden=!c},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(p,{prop:"hidden"},{header:n(()=>[e(t,{modelValue:g.value,"onUpdate:modelValue":m[2]||(m[2]=f=>g.value=f),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:f})=>[e(t,{modelValue:f.hidden,"onUpdate:modelValue":c=>f.hidden=c,onChange:c=>f.readable=!c},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])}}}),xt=I({__name:"StartAttr",props:{node:{}},emits:["update:node"],setup(r,{emit:i}){const o=r,l=R("formPermissions"),{node:a}=ae(o,i),{fields:d}=K("nodeHooks"),s=T({get(){return a.value.formProperties.every(p=>p.writeable)},set(p){a.value.formProperties.forEach(t=>t.writeable=p),p?(b.value=!1,m.value=!1):g.value=!1}}),g=T({get(){return a.value.formProperties.every(p=>p.required)},set(p){a.value.formProperties.forEach(t=>t.required=p),p&&(s.value=!0,b.value=!1,m.value=!1)}}),b=T({get(){return a.value.formProperties.every(p=>p.readable)},set(p){a.value.formProperties.forEach(t=>t.readable=p),p&&(s.value=!1,m.value=!1,g.value=!1)}}),m=T({get(){return a.value.formProperties.every(p=>p.hidden)},set(p){a.value.formProperties.forEach(t=>t.hidden=p),p&&(s.value=!1,g.value=!1,b.value=!1)}}),C=p=>{p.hidden&&(p.readable=!1,p.writeable=!1,p.required=!1)},x=p=>{p.writeable?(p.readable=!1,p.hidden=!1):p.required=!1},P=p=>{p.readable&&(p.writeable=!1,p.required=!1,p.hidden=!1)},U=p=>{p.required&&(p.writeable=!0,p.readable=!1,p.hidden=!1)};return le(()=>{const p=a.value.formProperties;a.value.formProperties=d.value.filter(t=>t.value!==void 0).map(t=>({id:t.id,name:t.title,readable:t.props.disabled||!1,writeable:!t.props.disabled||!1,hidden:t.props.hidden||!1,required:t.props.required&&!t.props.disabled||!1})),a.value.formProperties.forEach(t=>{const _=p.find(f=>f.id===t.id);_&&(t.readable=_.readable,t.writeable=_.writeable,t.hidden=_.hidden,t.required=_.required)})}),(p,t)=>{const _=Oe,f=Ve,c=qe,v=Ae;return y(),w(u(Be),{modelValue:l.value,"onUpdate:modelValue":t[4]||(t[4]=h=>l.value=h),stretch:"",block:!1},{default:n(()=>[e(v,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(c,{data:u(a).formProperties,style:{width:"100%"}},{default:n(()=>[e(_,{prop:"name",label:"字段"}),e(_,{prop:"readable"},{header:n(()=>[e(f,{modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=h=>b.value=h),label:"可读"},null,8,["modelValue"])]),default:n(({row:h})=>[e(f,{modelValue:h.readable,"onUpdate:modelValue":E=>h.readable=E,onChange:E=>P(h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(_,{prop:"writeable"},{header:n(()=>[e(f,{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=h=>s.value=h),label:"可写"},null,8,["modelValue"])]),default:n(({row:h})=>[e(f,{modelValue:h.writeable,"onUpdate:modelValue":E=>h.writeable=E,onChange:E=>x(h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(_,{prop:"required"},{header:n(()=>[e(f,{modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=h=>g.value=h),label:"必填"},null,8,["modelValue"])]),default:n(({row:h})=>[e(f,{modelValue:h.required,"onUpdate:modelValue":E=>h.required=E,onChange:E=>U(h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(_,{prop:"hidden"},{header:n(()=>[e(f,{modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=h=>m.value=h),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:h})=>[e(f,{modelValue:h.hidden,"onUpdate:modelValue":E=>h.hidden=E,onChange:E=>C(h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1}),e(v,{label:"操作权限",name:"operationPermissions"},{default:n(()=>[k(" 待添加... ")]),_:1})]),_:1},8,["modelValue"])}}}),wt=I({__name:"Trigger",props:{modelValue:{},options:{},filterRules:{}},emits:["update:modelValue"],setup(r,{emit:i}){const o=r,l=Y(o,"modelValue",i);return(a,d)=>{const s=ye,g=Se;return y(),w(g,{class:"trigger-container",modelValue:u(l),"onUpdate:modelValue":d[0]||(d[0]=b=>de(l)?l.value=b:null),filterable:"",placeholder:"选择字段"},{default:n(()=>[(y(!0),S(q,null,H(o.options,b=>(y(),w(s,{key:b.id,label:b.title,value:b.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])}}}),Et=I({__name:"Operator",props:{modelValue:{}},emits:["update:modelValue"],setup(r,{emit:i}){const o=r,l=[{value:"equal",label:"等于"},{value:"not_equal",label:"不等于"},{label:"包含",value:"contains"},{label:"不包含",value:"not_contain"}],a=Y(o,"modelValue",i);return(d,s)=>{const g=ye,b=Se;return y(),w(b,{class:"operator-container",modelValue:u(a),"onUpdate:modelValue":s[0]||(s[0]=m=>de(a)?a.value=m:null),filterable:"",placeholder:"筛选符"},{default:n(()=>[(y(),S(q,null,H(l,m=>e(g,{key:m.value,label:m.label,value:m.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])}}});const Ct=A(Et,[["__scopeId","data-v-b7adb9aa"]]),Pt="modulepreload",Ut=function(r){return"/lowflow-design/"+r},Ye={},X=function(i,o,l){if(!o||o.length===0)return i();const a=document.getElementsByTagName("link");return Promise.all(o.map(d=>{if(d=Ut(d),d in Ye)return;Ye[d]=!0;const s=d.endsWith(".css"),g=s?'[rel="stylesheet"]':"";if(!!l)for(let C=a.length-1;C>=0;C--){const x=a[C];if(x.href===d&&(!s||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${g}`))return;const m=document.createElement("link");if(m.rel=s?"stylesheet":Pt,s||(m.as="script",m.crossOrigin=""),m.href=d,document.head.appendChild(m),s)return new Promise((C,x)=>{m.addEventListener("load",C),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>i()).catch(d=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=d,window.dispatchEvent(s),!s.defaultPrevented)throw d})},Rt=I({props:{modelValue:{type:[String,Number,Boolean,Array,Object],default:void 0,required:!1},field:{type:Object,required:!0}},emits:["update:modelValue"],components:{Input:Q(()=>X(()=>import("./element-plus-f8f3a162.js").then(r=>r.O),["assets/js/element-plus-f8f3a162.js","assets/js/@vue-fa59abb2.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-159cba4b.js","assets/js/@element-plus-97a63555.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-aadcd8fb.css"]).then(({ElInput:r})=>r)),Number:Q(()=>X(()=>import("./element-plus-f8f3a162.js").then(r=>r.O),["assets/js/element-plus-f8f3a162.js","assets/js/@vue-fa59abb2.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-159cba4b.js","assets/js/@element-plus-97a63555.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-aadcd8fb.css"]).then(({ElInputNumber:r})=>r)),Select:Q(()=>X(()=>import("./element-plus-f8f3a162.js").then(r=>r.O),["assets/js/element-plus-f8f3a162.js","assets/js/@vue-fa59abb2.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-159cba4b.js","assets/js/@element-plus-97a63555.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-aadcd8fb.css"]).then(({ElSelect:r})=>r)),Radio:Q(()=>X(()=>import("./element-plus-f8f3a162.js").then(r=>r.O),["assets/js/element-plus-f8f3a162.js","assets/js/@vue-fa59abb2.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-159cba4b.js","assets/js/@element-plus-97a63555.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-aadcd8fb.css"]).then(({ElRadio:r})=>r)),Checkbox:Q(()=>X(()=>import("./element-plus-f8f3a162.js").then(r=>r.O),["assets/js/element-plus-f8f3a162.js","assets/js/@vue-fa59abb2.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-159cba4b.js","assets/js/@element-plus-97a63555.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-aadcd8fb.css"]).then(({ElCheckbox:r})=>r)),UserSelection:Q(()=>X(()=>Promise.resolve().then(()=>Go),void 0)),RoleSelection:Q(()=>X(()=>Promise.resolve().then(()=>nt),void 0))},setup(r,{emit:i}){return{buildProps:a=>{const d={},s=a.props||{};return Object.keys(s).forEach(g=>{d[g]=s[g]}),r.modelValue!==void 0?d.modelValue=r.modelValue:d.modelValue=a.value,d["onUpdate:modelValue"]=g=>{i("update:modelValue",g)},delete d.options,d},buildSlots:a=>{let d={};const g={Select:b=>b.props.options.map(m=>e(ye,{label:m.label,value:m.value},null)),Radio:b=>b.props.options.map(m=>e(rl,{label:m.value},{default:()=>[m.label]})),Checkbox:b=>b.props.options.map(m=>e(Ve,{label:m.value},{default:()=>[m.label]}))}[a.name];return g&&(d.default=()=>g(a)),d}}},render(){const r=Gl(this.field),i=this.buildSlots(r),o=this.buildProps(r),l=Ue(r.name);return typeof l=="string"?We(l,o,i):We(l,o,i)}}),It=r=>(me("data-v-9daa512b"),r=r(),ve(),r),St={class:"filter-container"},Tt={class:"logical-operator"},At=It(()=>$("div",{class:"logical-operator__line"},null,-1)),Ot={class:"filter-option-content"},qt={key:0,class:"filter-item-rule"},Nt={class:"filter-item-rule"},Ft=I({name:"ConditionFilter"}),zt=I({...Ft,props:{filterFields:{},modelValue:{}},emits:["update:modelValue","addCondition","delCondition","delGroup"],setup(r,{emit:i}){const o=r,l=Y(o,"modelValue",i),a=()=>{l.value.conditions.push({field:null,operator:"equal",value:null})},d=b=>{l.value.conditions.splice(b,1),l.value.conditions.length<=0&&i("delGroup"),i("delCondition",b)},s=()=>{l.value.groups.push({logicalOperator:"and",conditions:[{field:null,operator:"",value:null}],groups:[]})},g=b=>{l.value.groups.splice(b,1)};return(b,m)=>{const C=dl,x=Ie,P=Sl,U=W,p=Tl,t=Ue("ConditionFilter"),_=Te;return y(),S("div",St,[$("div",Tt,[At,e(C,{modelValue:u(l).logicalOperator,"onUpdate:modelValue":m[0]||(m[0]=f=>u(l).logicalOperator=f),"inline-prompt":"",style:{"--el-switch-on-color":"#409EFF","--el-switch-off-color":"#67C23A"},"active-value":"and","inactive-value":"or","active-text":"且","inactive-text":"或"},null,8,["modelValue"])]),$("div",Ot,[e(_,{"label-width":0,inline:!0,model:u(l)},{default:n(()=>[(y(!0),S(q,null,H(u(l).conditions,(f,c)=>(y(),w(p,{key:`${f.field}-${c}`,gutter:5,class:"filter-item-rule"},{default:n(()=>[e(P,{xs:24,sm:7},{default:n(()=>[e(x,{prop:"conditions."+c+".field",style:{width:"100%"}},{default:n(()=>[e(wt,{ref_for:!0,ref:"triggerRef",options:o.filterFields.filter(v=>v.value!==void 0),"filter-rules":u(l),modelValue:f.field,"onUpdate:modelValue":[v=>f.field=v,v=>f.value=null]},null,8,["options","filter-rules","modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),f.field?(y(),w(P,{key:0,xs:24,sm:5},{default:n(()=>[e(x,{prop:"conditions."+c+".operator",style:{width:"100%"}},{default:n(()=>[e(Ct,{ref_for:!0,ref:"operatorRef",modelValue:f.operator,"onUpdate:modelValue":v=>f.operator=v},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):F("",!0),f.field?(y(),w(P,{key:1,xs:24,sm:10},{default:n(()=>[e(x,{prop:"conditions."+c+".value",style:{width:"100%"}},{default:n(()=>[e(u(Rt),{field:o.filterFields.find(v=>v.id===f.field),modelValue:f.value,"onUpdate:modelValue":v=>f.value=v},null,8,["field","modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):F("",!0),e(P,{xs:24,sm:2,style:{display:"flex","align-items":"center","flex-direction":"row-reverse"}},{default:n(()=>[e(U,{plain:"",circle:"",type:"danger",icon:u(Hl),onClick:v=>d(c)},null,8,["icon","onClick"])]),_:2},1024)]),_:2},1024))),128)),(y(!0),S(q,null,H(u(l).groups,(f,c)=>(y(),w(t,{key:c,onDelGroup:v=>g(c),modelValue:u(l).groups[c],"onUpdate:modelValue":v=>u(l).groups[c]=v,filterFields:b.filterFields},{default:n(()=>[e(U,{onClick:v=>g(c),icon:u(Fe),class:"filter-filter-item__add"},{default:n(()=>[k(" 删除条件组 ")]),_:2},1032,["onClick","icon"])]),_:2},1032,["onDelGroup","modelValue","onUpdate:modelValue","filterFields"]))),128)),u(l).groups.length===0&&u(l).conditions.length===0?(y(),S("div",qt)):F("",!0)]),_:1},8,["model"]),$("div",Nt,[e(U,{onClick:a,icon:u(Ge),class:"filter-filter-item__add"},{default:n(()=>[k(" 添加条件 ")]),_:1},8,["icon"]),e(U,{onClick:s,icon:u(Ge),class:"filter-filter-item__add"},{default:n(()=>[k(" 添加条件组 ")]),_:1},8,["icon"]),re(b.$slots,"default",{},void 0,!0)])])])}}});const Bt=A(zt,[["__scopeId","data-v-9daa512b"]]),Dt=I({__name:"ConditionAttr",props:{node:{}},emits:["update:node"],setup(r,{emit:i}){const o=r,{node:l}=ae(o,i),{fields:a}=K("nodeHooks");return(d,s)=>(y(),w(Bt,{modelValue:u(l).conditions,"onUpdate:modelValue":s[0]||(s[0]=g=>u(l).conditions=g),"filter-fields":u(a)},null,8,["modelValue","filter-fields"]))}}),Lt=["id"],Mt=I({__name:"index",setup(r,{expose:i}){const o={start:xt,approval:$t,cc:kt,condition:Dt};let l=R({id:"",pid:"",type:"",name:"",child:null});const a=R(!1),d=R(!1),s=()=>{d.value&&(d.value=!1)};return i({open:b=>{l.value=b,a.value=!0}}),(b,m)=>{const C=be,x=Al,P=Ol;return y(),w(P,{modelValue:a.value,"onUpdate:modelValue":m[2]||(m[2]=U=>a.value=U),size:"35%"},{header:n(({titleId:U,titleClass:p})=>[$("span",{id:U,class:ee(p)},[Z(e(C,{onBlur:s,maxlength:"30",modelValue:u(l).name,"onUpdate:modelValue":m[0]||(m[0]=t=>u(l).name=t)},null,8,["modelValue"]),[[u(Ze),s],[te,d.value]]),Z(e(x,{icon:"EditPen",onClick:m[1]||(m[1]=t=>d.value=!0)},{default:n(()=>[k(N(u(l).name),1)]),_:1},512),[[te,!d.value]])],10,Lt)]),default:n(()=>[(y(),w(Pe(o[u(l).type]),{node:u(l)},null,8,["node"]))]),_:1},8,["modelValue"])}}});const jt=A(Mt,[["__scopeId","data-v-d67ff789"]]),Ht=(r,i)=>{const o=R(new Map),l=R(new Map),a=()=>(o.value.clear(),l.value.forEach((t,_)=>{const f=t==null?void 0:t.validate;if(f){const c=f();c&&c.showError&&o.value.set(_,c.message)}}),o),d=(t,_)=>{l.value.set(t,_)},s=()=>{let t=`node-${Math.random().toString(36).substring(2,7)}`;const _=(f,c)=>{if(f.id===c)return!0;if(f.child)return _(f.child,c);if("children"in f){const v=f;if(v.children&&v.children.length>0)return v.children.some(h=>_(h,c))}return!1};return _(r.value,t)?s():t},g=t=>{const _=t;_.children.unshift({id:s(),pid:t.id,type:"condition",def:!1,name:`条件${_.children.length+1}`,conditions:{logicalOperator:"and",conditions:[],groups:[]},child:null})},x={condition:g,approval:t=>{const _=t.child,f=s();t.child={id:f,pid:t.id,type:"approval",name:"审批人",child:_,assigneeType:"user",formUser:"",formRole:"",users:[],roles:[],leader:1,choice:!1,self:!1,multi:"sequential",nobody:"pass",formProperties:i.value.map(c=>({id:c.id,name:c.title,readable:!0,writeable:!1,hidden:!1,required:!1})),operations:{complete:!0,refuse:!0,save:!0,transfer:!1,addMulti:!1,minusMulti:!1}},_&&(_.pid=f)},cc:t=>{const _=t.child,f=s();t.child={id:f,pid:t.id,type:"cc",name:"抄送人",child:_,users:[],formProperties:i.value.map(c=>({id:c.id,name:c.title,readable:!0,writeable:!1,hidden:!1,required:!1}))},_&&(_.pid=f)},exclusive:t=>{const _=t.child,f=s(),c={id:f,pid:t.id,type:"exclusive",name:"独占网关",child:_,children:[]};if(t.child=c,_&&(_.pid=f),g(t.child),g(t.child),c.children.length>0){const v=c.children[c.children.length-1];v.def=!0,v.name="默认条件"}}},P=(t,_)=>{const f=x[t];f&&f(_)},U=t=>{p(r.value,t)},p=(t,_)=>{var f;if(t.id===_.pid)if("children"in t&&((f=t.child)==null?void 0:f.id)!==_.id){const c=t,v=c.children.findIndex(h=>h.id===_.id);v!==-1&&(c.children.length<=2?U(c):c.children.splice(v,1))}else _.child&&_.child.pid&&(_.child.pid=t.id),t.child=_.child;else if(t.child&&p(t.child,_),"children"in t){const c=t;c.children&&c.children.length>0&&c.children.forEach(v=>{p(v,_)})}};return{addNode:P,delNode:U,addNodeRef:d,validateNodes:a,nodeErrors:o}},Wt={class:"designer-container"},Gt={class:"zoom"},Kt={class:"node-container"},Yt=I({name:"flowDesign"}),Jt=I({...Yt,props:{process:{},fields:{}},emits:["update:process","update:fields"],setup(r,{emit:i}){const o=r;Je(t=>({"876f4a54":g.value}));const{process:l,fields:a}=ae(o,i),d=R(),s=R(100),g=T(()=>s.value/100),b=t=>{var _;(_=d.value)==null||_.open(t)},{addNode:m,delNode:C,validateNodes:x,addNodeRef:P}=Ht(l,a);Vl("nodeHooks",{readOnly:!1,fields:a,addNode:m,delNode:C,addNodeRef:P,openPenal:b});const U=t=>{t.shiftKey&&(t.deltaY>0?s.value>50&&(s.value-=10):s.value<170&&(s.value+=10))},p=()=>{x()};return window.addEventListener("wheel",U),$l(()=>{window.removeEventListener("wheel",U)}),(t,_)=>{const f=W;return y(),S("div",Wt,[$("div",Gt,[e(f,{icon:u(Ne),onClick:_[0]||(_[0]=c=>s.value+=10),disabled:s.value>=170,circle:""},null,8,["icon","disabled"]),$("span",null,N(s.value)+"%",1),e(f,{icon:u(fl),onClick:_[1]||(_[1]=c=>s.value-=10),circle:"",disabled:s.value<=50},null,8,["icon","disabled"]),e(f,{onClick:p},{default:n(()=>[k("校验")]),_:1})]),$("div",Kt,[e(vl,{node:u(l)},null,8,["node"])]),e(jt,{ref_key:"nodePenalRef",ref:d},null,512)])}}});const Qt=A(Jt,[["__scopeId","data-v-2c505610"]]),Xt=I({__name:"App",setup(r){const i=R({id:"root",pid:null,type:"start",name:"发起人",formProperties:[],child:{id:"end",pid:"root",type:"end",name:"结束",child:null}}),o=R([{id:"field_da2w55",title:"请假人",name:"UserSelection",value:null,props:{multiple:!1,disabled:!1,placeholder:"请选择用户",style:{width:"100%"}}},{id:"field_fa2w40",title:"请假天数",name:"Number",value:null,props:{disabled:!1,placeholder:"请假天数",style:{width:"100%"},min:0,max:100,step:1,precision:0}},{id:"field_d42t45",title:"请假事由",name:"Select",value:null,props:{disabled:!1,multiple:!1,placeholder:"请选择请假事由",options:[{label:"事假",value:"事假"},{label:"病假",value:"病假"},{label:"婚假",value:"婚假"},{label:"产假",value:"产假"},{label:"丧假",value:"丧假"},{label:"其他",value:"其他"}],style:{width:"100%"}}},{id:"field_522g58",title:"请假原因",name:"Input",value:null,props:{type:"textarea",placeholder:"请输入请假原因",autosize:{minRows:3,maxRows:3},disabled:!1,style:{width:"100%"}}}]);return(l,a)=>{const d=Nl;return y(),w(d,{namespace:"el",locale:u(ql)},{default:n(()=>[e(Qt,{process:i.value,fields:o.value},null,8,["process","fields"])]),_:1},8,["locale"])}}});const we=[{id:1,name:"张三",username:"admin",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:2,name:"李四",username:"lisi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:3,name:"王五",username:"wangwu",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:4,name:"赵六",username:"zhaoliu",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:5,name:"孙七",username:"sunqi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:6,name:"周八",username:"zhouba",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:7,name:"吴九",username:"wujui",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:8,name:"郑十",username:"zhengshi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"}],Zt=[{url:"/api/user/info",method:"get",response:r=>{const i=r.query.username;return{code:200,success:!0,message:"操作成功",data:we.find(o=>o.username===i)}}},{url:"/api/user/list",method:"post",response:r=>{const i=r.body.userIds;return{code:200,success:!0,message:"操作成功",data:Array.isArray(i)?we.filter(o=>i.includes(o.username)):we}}}],Ee=[{id:"1",name:"项目经理"},{id:"2",name:"产品经理"},{id:"3",name:"高级开发工程师"},{id:"4",name:"中级开发工程师"},{id:"5",name:"项目总监"},{id:"6",name:"产品策划"},{id:"7",name:"客服"},{id:"8",name:"销售经理"}],ea=[{url:"/api/role/info",method:"get",response:r=>{const i=r.query.id;return{code:200,success:!0,message:"操作成功",data:Ee.find(o=>o.id===i)}}},{url:"/api/role/list",method:"post",response:r=>{const i=r.body.roleIds;return{code:200,success:!0,message:"操作成功",data:Array.isArray(i)?Ee.filter(o=>i.includes(o.id)):Ee}}}],la={user:Zt,role:ea},oa=[...la];function ta(){Kl(oa)}const aa=kl(Xt);aa.mount("#app");ta();
