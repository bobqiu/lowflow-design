var Ke=Object.defineProperty;var Ge=(_,d,o)=>d in _?Ke(_,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):_[d]=o;var Ue=(_,d,o)=>(Ge(_,typeof d!="symbol"?d+"":d,o),o);import{E as C,b as E,o as b,c as T,O as e,R as n,u,a as x,am as pe,an as fe,ao as Ce,i as R,z as j,a0 as ne,_ as J,S as w,V as $,W as S,T as _e,X as F,$ as le,F as de,L as W,n as Je,w as K,G as Xe,P as L,ah as me,ad as Ye,J as qe,e as Ze,d as Qe,A as Ie,D as el,I as ll,ap as ol}from"./@vue-2e8e7ef1.js";import{E as oe,a as X,b as al,u as ve,c as ce,C as Ne,d as he,e as tl,f as H,g as nl,h as Te,i as sl,j as Re,k as dl,l as rl,m as il,n as ul,o as cl,w as Ae,p as pl,q as fl,r as _l,s as ml,t as Se,v as vl,x as hl,y as bl,z as ze,A as be,B as ge,D as ye,F as Ve,G as gl,H as yl,I as Vl,J as $l,K as xl,L as wl}from"./element-plus-bb07c6ac.js";import{p as $e,m as Be,n as Fe,o as Oe,r as El,t as kl,a as Me,u as Pl,x as Ul,y as Cl,z as ql,c as Il,A as Nl,B as De}from"./@element-plus-cb0e27ab.js";import{h as ae,j as xe}from"./@vueuse-d0495bea.js";import{a as Tl}from"./axios-21b846bc.js";import{c as Rl}from"./vite-plugin-mock-a6c9e661.js";import"./lodash-es-f5bdeb48.js";import"./async-validator-dee29e8b.js";import"./@sxzz-c75af06c.js";import"./@ctrl-f8748455.js";import"./escape-html-7c089298.js";import"./dayjs-725317a4.js";import"./normalize-wheel-es-ed76fb12.js";import"./mockjs-26f03dd7.js";import"./path-to-regexp-31db6522.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(a){if(a.ep)return;a.ep=!0;const i=o(a);fetch(a.href,i)}})();const we=_=>(pe("data-v-e5f31a23"),_=_(),fe(),_),Al={class:"add-but"},Sl={class:"node-select"},zl=we(()=>x("span",null,"审批人",-1)),Bl=we(()=>x("span",null,"抄送人",-1)),Fl=we(()=>x("span",null,"互斥分支",-1)),Ol=C({__name:"index",emits:["addNode"],setup(_,{emit:d}){const o=E(),t=()=>{var c;d("addNode","approval"),(c=o.value)==null||c.hide()},a=()=>{var c;d("addNode","cc"),(c=o.value)==null||c.hide()},i=()=>{var c;d("addNode","exclusive"),(c=o.value)==null||c.hide()};return(c,g)=>{const y=oe,m=X,k=al;return b(),T("div",Al,[e(k,{placement:"bottom-start",ref_key:"nodePopoverRef",ref:o,trigger:"click",title:"添加节点",width:235},{reference:n(()=>[e(m,{icon:u($e),type:"primary",style:{"z-index":"1"},circle:""},null,8,["icon"])]),default:n(()=>[x("div",Sl,[x("div",{onClick:t},[e(y,{color:"#ff943e"},{default:n(()=>[e(u(Be))]),_:1}),zl]),x("div",{onClick:a},[e(y,{color:"#3296fa"},{default:n(()=>[e(u(Fe))]),_:1}),Bl]),x("div",{onClick:i},[e(y,null,{default:n(()=>[e(u(Oe))]),_:1}),Fl])])]),_:1},512)])}}});const A=(_,d)=>{const o=_.__vccOpts||_;for(const[t,a]of d)o[t]=a;return o},Le=A(Ol,[["__scopeId","data-v-e5f31a23"]]),Ml={class:"node-box"},Dl={class:"head"},Ll={key:2},Hl=C({__name:"index",props:{icon:{},node:{},color:{},readOnly:{type:Boolean,default:!1},close:{type:Boolean,default:!0},arrow:{type:Boolean,default:!0},errorInfo:{default:()=>({showError:!1,message:""})}},emits:["update:node"],setup(_,{emit:d}){const o=_;Ce(r=>({f13798a2:m.value,"78d01a3e":y.value,f023673c:r.color}));const t={list:Pl,stamp:Be,share:Oe,promotion:Fe},{node:a}=ae(o,d),i=E(!1),c=E(),g=ve(),y=R(()=>ce[g.value||"default"]+205+"px"),m=R(()=>ce[g.value||"default"]+60+"px"),{addNode:k,delNode:U,openPenal:I}=j("nodeHooks"),q=()=>{o.readOnly||I(a.value)},s=()=>{o.readOnly||(i.value=!0,Je(()=>{var r;(r=c.value)==null||r.focus()}))},l=()=>{i.value&&(i.value=!1)};return(r,p)=>{const f=oe,V=tl,h=H,P=X,N=nl,G=Te;return b(),T("div",Ml,[e(G,{shadow:"always",onClick:p[5]||(p[5]=M=>q()),class:W(["node",{"error-node":o.errorInfo.showError}])},{header:n(()=>[x("div",Dl,[i.value?(b(),T("div",{key:0,onClick:p[2]||(p[2]=ne(()=>{},["stop"]))},[J(e(u(he),{ref_key:"inputRef",ref:c,onBlur:l,maxlength:"30",modelValue:u(a).name,"onUpdate:modelValue":p[1]||(p[1]=M=>u(a).name=M)},null,8,["modelValue"]),[[u(Ne),l]])])):(b(),w(h,{key:1,tag:"b",truncated:"",onClick:ne(s,["stop"])},{default:n(()=>[$(S(u(a).name)+" ",1),e(f,null,{default:n(()=>[e(u(El))]),_:1})]),_:1},8,["onClick"])),r.icon?(b(),T("span",Ll,[e(f,{size:30,color:"node-icon"},{default:n(()=>[(b(),w(_e(t[r.icon.toLowerCase()])))]),_:1})])):F("",!0)])]),default:n(()=>[e(V,{placement:"top-start"},{content:n(()=>[$(S(o.errorInfo.message),1)]),default:n(()=>[J(e(f,{class:"warn-icon",size:20},{default:n(()=>[e(u(kl),{onClick:p[0]||(p[0]=ne(()=>{},["stop"]))})]),_:1},512),[[le,o.errorInfo.showError]])]),_:1}),x("div",{onClick:p[4]||(p[4]=ne(()=>{},["stop"]))},[e(N,{title:"您确定要删除该节点吗？",width:"200","hide-after":0,placement:"right-start",onConfirm:p[3]||(p[3]=M=>u(U)(u(a)))},{reference:n(()=>[J(e(P,{class:"node-close",plain:"",circle:"",icon:u(Me),size:"small",type:"danger"},null,8,["icon"]),[[le,r.close&&!r.readOnly]])]),_:1})]),de(r.$slots,"default",{},void 0,!0)]),_:3},8,["class"]),e(Le,{onAddNode:p[6]||(p[6]=M=>u(k)(M,u(a)))})])}}});const re=A(Hl,[["__scopeId","data-v-280b57f7"]]),jl=C({__name:"content",props:{node:{}},setup(_){const d=_,o=E("");return K(()=>{o.value=d.node.name}),(t,a)=>{const i=H;return b(),w(i,null,{default:n(()=>[$(S(o.value||t.node.name),1)]),_:1})}}}),Wl={class:"start-box"},Kl=C({__name:"index",props:{node:{}},setup(_){return(d,o)=>(b(),T("div",Wl,[e(re,{icon:"List",arrow:!1,close:!1,color:"#8c7cf3",node:d.node},{default:n(()=>[e(jl,{node:d.node},null,8,["node"])]),_:1},8,["node"])]))}});const Gl=A(Kl,[["__scopeId","data-v-0a059602"]]),Jl={baseURL:"/api",timeout:8e3};class Xl{constructor(d){Ue(this,"service");this.service=Tl.create(d),this.service.interceptors.request.use(o=>(o.headers.Authorization="Bearer 87779e5a-3342-4df6-865d-d8828800d6fb",o),o=>Promise.reject(o)),this.service.interceptors.response.use(o=>{const{data:t}=o;return t},o=>{const{response:t,message:a}=o,i=t==null?void 0:t.data,c=i?i.message:a;return sl.error(c||"未知错误"),Promise.reject((t==null?void 0:t.data)||o)})}get(d,o,t={}){return this.service.get(d,{params:o,...t})}post(d,o){return this.service.post(d,o)}put(d,o){return this.service.put(d,o)}delete(d,o){return this.service.delete(d,o)}patch(d,o){return this.service.patch(d,o)}head(d){return this.service.head(d)}options(d){return this.service.options(d)}request(d){return this.service.request(d)}download(d,o){return this.service.post(d,o,{responseType:"blob"})}}const He=new Xl(Jl),Yl=_=>He.get("/user/info",{username:_}),se=_=>{const d=_?{userIds:_}:{};return He.post("/user/list",d)},Zl=C({__name:"content",props:{node:{}},setup(_){const d=_,o=E("");return K(()=>{const t=d.node;t.assigneeType==="choice"?o.value=`发起人自选（${t.choice?"多选":"单选"}）`:t.assigneeType==="self"?o.value="发起人自己":t.assigneeType==="leader"?o.value=t.leader===1?"直属上级":`${t.leader}级上级`:t.assigneeType==="formUser"?o.value="表单内人员":t.assigneeType==="formRole"?o.value="表单内角色":t.assigneeType==="user"?t.users.length>0?se(t.users).then(a=>{a.success&&(o.value=a.data.map(i=>i.name).join("、"))}):o.value="未指定人员":t.assigneeType==="role"?t.roles.length>0||(o.value="未指定角色"):o.value=d.node.name}),(t,a)=>{const i=H;return b(),w(i,null,{default:n(()=>[$(S(o.value||t.node.name),1)]),_:1})}}}),Ql=C({__name:"index",props:{node:{}},setup(_,{expose:d}){const o=_,t=E({showError:!1,message:""});return d({validate:()=>(t.value={showError:!1,message:""},o.node.assigneeType==="user"?o.node.users.length===0&&(t.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定人员`}):o.node.assigneeType==="role"?o.node.roles.length===0&&(t.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定角色`}):o.node.assigneeType==="formUser"?o.node.formRole||(t.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定表单内人员`}):o.node.assigneeType==="formRole"?o.node.formRole||(t.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定表单内角色`}):o.node.assigneeType==="leader"&&(o.node.leader||(t.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定多级上级`})),t.value)}),(i,c)=>(b(),w(re,{icon:"Stamp",color:"linear-gradient(89.96deg, #FA6F32 .05%, #FB9337 79.83%)","error-info":t.value,node:i.node},{default:n(()=>[e(Zl,{node:i.node},null,8,["node"])]),_:1},8,["error-info","node"]))}}),eo=C({__name:"content",props:{node:{}},setup(_){const d=_,o=E("");return K(()=>{const t=d.node;t.users.length>0?se(t.users).then(a=>{a.success&&(o.value=a.data.map(i=>i.name).join("、"))}):o.value="未指定人员"}),(t,a)=>{const i=H;return b(),w(i,null,{default:n(()=>[$(S(o.value||t.node.name),1)]),_:1})}}}),lo=C({__name:"index",props:{node:{}},setup(_,{expose:d}){const o=_,t=E({showError:!1,message:""});return d({validate:()=>(t.value={showError:!1,message:""},o.node.users.length===0&&(t.value={showError:!0,message:`节点：[ ${o.node.name} ] 未指定抄送人`}),t.value)}),(i,c)=>(b(),w(re,Xe({icon:"Promotion"},i.$attrs,{color:"#3296FA","error-info":t.value,node:i.node}),{default:n(()=>[e(eo,{node:i.node},null,8,["node"])]),_:1},16,["error-info","node"]))}}),oo=C({__name:"content",props:{node:{}},setup(_){const d=_,o=E(e("span",null,null));return K(()=>{if(d.node.def)return o.value=e("span",null,[$("不满足条件时，进入默认条件")]);d.node.conditions.conditions.length>0||d.node.conditions.groups.length>0?o.value=e("span",null,[$("已设置（"),d.node.conditions.conditions.length+d.node.conditions.groups.length,$("）个条件")]):o.value=e("span",null,[$("未设置条件")])}),(t,a)=>{const i=H;return b(),w(i,null,{default:n(()=>[e(u(o))]),_:1})}}}),ao={class:"condition-box"},to=C({__name:"index",props:{node:{}},setup(_,{expose:d}){const o=_,t=E({showError:!1,message:""});return d({validate:()=>{if(t.value={showError:!1,message:""},!o.node.def)return o.node.conditions.conditions.length===0&&o.node.conditions.groups.length===0&&(t.value={showError:!0,message:`节点：[ ${o.node.name} ] 未设置条件`}),t.value}}),(i,c)=>(b(),T("div",ao,[e(re,{icon:"Share",readOnly:i.node.def,"error-info":t.value,node:i.node},{default:n(()=>[e(oo,{node:i.node},null,8,["node"])]),_:1},8,["readOnly","error-info","node"])]))}});const no=A(to,[["__scopeId","data-v-1200ce3d"]]),ie=_=>(pe("data-v-1ca7350c"),_=_(),fe(),_),so={class:"branch-node"},ro={class:"add-branch"},io=ie(()=>x("div",{class:W("top-right-border")},null,-1)),uo=ie(()=>x("div",{class:W("bottom-right-border")},null,-1)),co=ie(()=>x("div",{class:W("top-left-border")},null,-1)),po=ie(()=>x("div",{class:W("bottom-left-border")},null,-1)),fo=C({__name:"index",props:{node:{}},setup(_){const{addNode:d}=j("nodeHooks");return(o,t)=>(b(),T(L,null,[x("div",so,[x("div",ro,[de(o.$slots,"default",{},void 0,!0)]),(b(!0),T(L,null,me(o.node.children,(a,i)=>(b(),T("div",{key:a.id,class:"col-box"},[o.node.children.length===i+1?(b(),T(L,{key:0},[io,uo],64)):F("",!0),i===0?(b(),T(L,{key:1},[co,po],64)):F("",!0),e(je,{node:a},null,8,["node"])]))),128))]),e(Le,{onAddNode:t[0]||(t[0]=a=>u(d)(a,o.node)),class:"branch-but"})],64))}});const _o=A(fo,[["__scopeId","data-v-1ca7350c"]]),mo=C({__name:"index",props:{node:{}},setup(_){const{addNode:d}=j("nodeHooks");return(o,t)=>{const a=X;return b(),w(_o,{node:o.node},{default:n(()=>[e(a,{type:"primary",onClick:t[0]||(t[0]=i=>u(d)("condition",o.node)),plain:"",round:""},{default:n(()=>[$("添加条件")]),_:1})]),_:1},8,["node"])}}});const vo={},ho={class:"node-box"};function bo(_,d){const o=H;return b(),T("div",ho,[e(o,{class:"end-node"},{default:n(()=>[$(" 结束 ")]),_:1})])}const go=A(vo,[["render",bo],["__scopeId","data-v-74763bb4"]]),yo=C({name:"NodeTree"}),Vo=C({...yo,props:{node:{}},setup(_){const d={start:Gl,approval:Ql,cc:lo,condition:no,exclusive:mo,end:go},{addNodeRef:o}=j("nodeHooks");return(t,a)=>{const i=Ye("NodeTree");return b(),T(L,null,[de(t.$slots,"default",{},void 0,!0),(b(),w(_e(d[t.node.type]),{node:t.node,ref:c=>c&&u(o)(t.node.id,c)},null,8,["node"])),t.node.child?(b(),w(i,{key:0,node:t.node.child},null,8,["node"])):F("",!0)],64)}}});const je=A(Vo,[["__scopeId","data-v-64d33364"]]),$o={class:"flex-center",style:{gap:"4px","grid-gap":"4px"}},xo=C({__name:"UserTag",props:{username:{},type:{default:"info"},closable:{type:Boolean,default:!1}},emits:["close"],setup(_,{emit:d}){const o=_;let t=qe({username:void 0,avatar:void 0,name:void 0});Ze(()=>{if(!o.username)throw new Error("username is required");Yl(o.username).then(g=>{g.success&&(t.username=g.data.username,t.avatar=g.data.avatar,t.name=g.data.name)})}),R(()=>{const g="/api";return g.startsWith("http")?g:window.location.origin+g});const a=ve(),i=R(()=>ce[a.value||"default"]-12),c=()=>{d("close",o.username)};return(g,y)=>{const m=Re,k=dl;return b(),w(k,{round:"",closable:o.closable,type:g.type,effect:"light",onClose:c},{default:n(()=>[x("div",$o,[e(m,{size:i.value,src:u(t).avatar},{default:n(()=>[$(S((u(t).name||g.username).charAt(0)),1)]),_:1},8,["size","src"]),x("span",null,S(u(t).name||g.username),1)])]),_:1},8,["closable","type"])}}});const Ee=A(xo,[["__scopeId","data-v-11e894be"]]),wo={class:"flex flex-1 flex-items-center flex-justify-between"},Eo={class:"flex-center"},ko=C({__name:"UserPicker",props:{modelValue:{},multiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(_,{expose:d,emit:o}){const t=_,a={label:"name",children:"children",isLeaf:"leaf",class:f=>k(f)},i=xe(t,"modelValue",o),c=E([]),g=E([]),y=E(),m=E([]),k=f=>c.value.find(h=>h.id===f.id)?"is-active":"",U=f=>{if(f.type==="user")if(t.multiple){const V=c.value.findIndex(h=>h.id===f.id);V===-1?(c.value.push(f),c.value.sort((h,P)=>h.id.localeCompare(P.id))):c.value.splice(V,1)}else{const V=c.value.findIndex(h=>h.id===f.id);V===-1?c.value=[f]:c.value.splice(V,1)}},I=E(!1),q=qe({name:null});Qe(()=>q.name,f=>{var V;(V=y.value)==null||V.filter(f)});const s=(f,V)=>f?V.name.includes(f):!0,l=()=>{I.value=!0},r=()=>{se().then(V=>{V.success&&(g.value=V.data.map(h=>({id:h.username,name:h.name,type:"user",leaf:!0,avatar:h.avatar})))});let f=[];Array.isArray(i.value)?f.push(...i.value):i.value&&f.push(i.value),f.length>0?se(f).then(V=>{V.success&&(c.value=V.data.map(h=>({id:h.username,name:h.name,avatar:h.avatar,type:"user",leaf:!0})),c.value.sort((h,P)=>h.id.localeCompare(P.id)))}):c.value=[]},p=()=>{t.multiple?i.value=c.value.map(f=>f.id):c.value.length>0?i.value=c.value[0].id:i.value=null,I.value=!1};return d({open:l}),(f,V)=>{const h=he,P=Re,N=oe,G=rl,M=il,Y=Te,D=X,O=ul;return b(),w(O,{modelValue:I.value,"onUpdate:modelValue":V[2]||(V[2]=z=>I.value=z),onOpen:r,"align-center":"",draggable:"",title:"选择用户",width:"30%"},{footer:n(()=>[e(D,{onClick:V[1]||(V[1]=z=>I.value=!1)},{default:n(()=>[$("取消")]),_:1}),e(D,{type:"primary",onClick:p},{default:n(()=>[$("确认")]),_:1})]),default:n(()=>[e(Y,{shadow:"never",class:"org-card"},{header:n(()=>[e(h,{modelValue:q.name,"onUpdate:modelValue":V[0]||(V[0]=z=>q.name=z),placeholder:"输入关键字进行查询",style:{width:"100%"},"suffix-icon":"search",clearable:""},null,8,["modelValue"])]),default:n(()=>[e(M,{tag:"div",class:"org-tree"},{default:n(()=>[e(G,{ref_key:"orgTreeRef",ref:y,"node-key":"id",data:g.value,"default-expanded-keys":m.value,props:a,"filter-node-method":s,onNodeClick:U},{default:n(({data:z})=>[x("div",wo,[x("div",Eo,[z.type==="user"?(b(),w(P,{key:0,size:25,src:z.avatar},{default:n(()=>[$(S(z.name.charAt(0)),1)]),_:2},1032,["src"])):(b(),w(N,{key:1,size:16},{default:n(()=>[e(u(Ul))]),_:1})),$("  "+S(z.name),1)]),e(N,{class:"is-selected"},{default:n(()=>[e(u(Cl))]),_:1})])]),_:1},8,["data","default-expanded-keys"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const ke=A(ko,[["__scopeId","data-v-54f06cf8"]]),Po={class:"user-wrapper"},Uo=C({__name:"UserSelector",props:{modelValue:{},placeholder:{default:"请选择用户"},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},style:{}},emits:["update:modelValue"],setup(_,{emit:d}){const o=_,t=xe(o,"modelValue",d),a=R(()=>t.value?Array.isArray(t.value)?t.value:[t.value]:[]),i=E(),c=cl(),g=ve(),y=R(()=>c.value||o.disabled),m=()=>{var U;(U=i.value)==null||U.open()},k=U=>{t.value&&(o.multiple&&Array.isArray(t.value)?t.value.splice(t.value.indexOf(U),1):t.value=null)};return(U,I)=>{const q=oe,s=X,l=H;return b(),T(L,null,[e(ke,{ref_key:"userPickerRef",ref:i,multiple:U.multiple,modelValue:u(t),"onUpdate:modelValue":I[0]||(I[0]=r=>Ie(t)?t.value=r:null)},null,8,["multiple","modelValue"]),x("div",Po,[e(s,{class:"user-but-item",size:u(g),disabled:y.value,onClick:m,circle:""},{default:n(()=>[e(q,null,{default:n(()=>[e(u(ql))]),_:1})]),_:1},8,["size","disabled"]),(b(!0),T(L,null,me(a.value,r=>(b(),w(Ee,{closable:!y.value,key:r,username:r,onClose:k},null,8,["closable","username"]))),128)),J(e(l,{class:"placeholder"},{default:n(()=>[$(S(U.placeholder),1)]),_:1},512),[[le,!u(t)||u(t).length===0]])])],64)}}});const Co=A(Uo,[["__scopeId","data-v-478c5cf7"]]);Ae(Ee);Ae(ke);const We=pl(Co,{userTag:Ee,userPicker:ke}),qo=C({__name:"index",props:{block:{type:Boolean,default:!0},modelValue:{}},emits:["update:modelValue"],setup(_,{emit:d}){const t=xe(_,"modelValue",d);return(a,i)=>{const c=fl;return b(),w(c,{modelValue:u(t),"onUpdate:modelValue":i[0]||(i[0]=g=>Ie(t)?t.value=g:null),class:W(["el-segmented",{"is-block":a.block}])},{default:n(()=>[de(a.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","class"])}}});const Pe=A(qo,[["__scopeId","data-v-6406405a"]]),te=_=>(pe("data-v-6e972f08"),_=_(),fe(),_),Io={class:"flow-opt-item"},No={class:"flow-opt-item__content"},To=te(()=>x("div",{class:"flow-opt-item__second"},"z 同意描述、同意描述、同意描述、同意描述、同意描述、同意描述 ",-1)),Ro={class:"flow-opt-item"},Ao={class:"flow-opt-item__content"},So=te(()=>x("div",{class:"flow-opt-item__second"}," 拒绝描述、拒绝描述、拒绝描述、拒绝描述、拒绝描述、拒绝描述 ",-1)),zo={class:"flow-opt-item"},Bo={class:"flow-opt-item__content"},Fo=te(()=>x("div",{class:"flow-opt-item__second"}," 转办描述、转办描述、转办描述、转办描述、转办描述、转办描述 ",-1)),Oo={class:"flow-opt-item"},Mo={class:"flow-opt-item__content"},Do=te(()=>x("div",{class:"flow-opt-item__second"}," 加签描述、加签描述、加签描述、加签描述、加签描述、加签描述 ",-1)),Lo={class:"flow-opt-item"},Ho={class:"flow-opt-item__content"},jo=te(()=>x("div",{class:"flow-opt-item__second"}," 减签描述、减签描述、减签描述、减签描述、减签描述、减签描述 ",-1)),Wo=C({__name:"ApprovalAttr",props:{node:{}},emits:["update:node"],setup(_,{emit:d}){const o=_,t=E("properties"),{node:a}=ae(o,d),{fields:i}=j("nodeHooks"),c=R({get(){return a.value.formProperties.every(s=>s.writeable)},set(s){a.value.formProperties.forEach(l=>l.writeable=s),s?(y.value=!1,m.value=!1):g.value=!1}}),g=R({get(){return a.value.formProperties.every(s=>s.required)},set(s){a.value.formProperties.forEach(l=>l.required=s),s&&(c.value=!0,y.value=!1,m.value=!1)}}),y=R({get(){return a.value.formProperties.every(s=>s.readable)},set(s){a.value.formProperties.forEach(l=>l.readable=s),s&&(c.value=!1,m.value=!1,g.value=!1)}}),m=R({get(){return a.value.formProperties.every(s=>s.hidden)},set(s){a.value.formProperties.forEach(l=>l.hidden=s),s&&(c.value=!1,g.value=!1,y.value=!1)}}),k=s=>{s.readable&&(s.writeable=!1,s.required=!1,s.hidden=!1)},U=s=>{s.required&&(s.writeable=!0,s.readable=!1,s.hidden=!1)},I=s=>{s.writeable?(s.readable=!1,s.hidden=!1):s.required=!1},q=s=>{s.hidden&&(s.readable=!1,s.writeable=!1,s.required=!1)};return K(()=>{const s=a.value.formProperties;a.value.formProperties=i.value.filter(l=>l.value!==void 0).map(l=>({id:l.id,name:l.title,readable:l.props.disabled||!1,writeable:!l.props.disabled||!1,hidden:l.props.hidden||!1,required:l.props.required&&!l.props.disabled||!1})),a.value.formProperties.forEach(l=>{const r=s.find(p=>p.id===l.id);r&&(l.readable=r.readable,l.writeable=r.writeable,l.hidden=r.hidden,l.required=r.required)})}),(s,l)=>{const r=_l,p=ml,f=Se,V=We,h=vl,P=H,N=hl,G=bl,M=ze,Y=be,D=ge,O=ye,z=Ve,Z=oe,Q=gl,ee=yl;return b(),w(u(Pe),{modelValue:t.value,"onUpdate:modelValue":l[16]||(l[16]=v=>t.value=v),stretch:"",block:!1},{default:n(()=>[e(Y,{label:"设置审批人",name:"properties"},{default:n(()=>[e(M,{"label-position":"top","label-width":"90px"},{default:n(()=>[e(f,{prop:"assigneeType",label:"审批对象"},{default:n(()=>[e(p,{modelValue:u(a).assigneeType,"onUpdate:modelValue":l[0]||(l[0]=v=>u(a).assigneeType=v)},{default:n(()=>[e(r,{label:"user"},{default:n(()=>[$("指定人员")]),_:1}),e(r,{label:"role"},{default:n(()=>[$("指定角色")]),_:1}),e(r,{label:"choice"},{default:n(()=>[$("发起人自选")]),_:1}),e(r,{label:"self"},{default:n(()=>[$("发起人自己")]),_:1}),e(r,{label:"leader"},{default:n(()=>[$("多级上级")]),_:1}),e(r,{label:"formUser"},{default:n(()=>[$("表单内人员")]),_:1}),e(r,{label:"formRole"},{default:n(()=>[$("表单内角色")]),_:1})]),_:1},8,["modelValue"])]),_:1}),u(a).assigneeType==="user"?(b(),w(f,{key:0,prop:"users",label:"指定人员"},{default:n(()=>[e(V,{multiple:"",placeholder:"请选择人员",modelValue:u(a).users,"onUpdate:modelValue":l[1]||(l[1]=v=>u(a).users=v)},null,8,["modelValue"])]),_:1})):F("",!0),u(a).assigneeType==="choice"?(b(),w(f,{key:1,prop:"selfSelect",label:"发起人自选择"},{default:n(()=>[e(p,{modelValue:u(a).choice,"onUpdate:modelValue":l[2]||(l[2]=v=>u(a).choice=v)},{default:n(()=>[e(h,{label:!1},{default:n(()=>[$("单选")]),_:1}),e(h,{label:!0},{default:n(()=>[$("多选")]),_:1})]),_:1},8,["modelValue"])]),_:1})):F("",!0),u(a).assigneeType==="self"?(b(),w(f,{key:2,prop:"self",label:"发起人自己"},{default:n(()=>[e(P,null,{default:n(()=>[$(" 发起人自己作为审批人进行审批 ")]),_:1})]),_:1})):F("",!0),u(a).assigneeType==="leader"?(b(),w(f,{key:3,prop:"leader",label:"多级上级"},{default:n(()=>[e(G,{modelValue:u(a).leader,"onUpdate:modelValue":l[3]||(l[3]=v=>u(a).leader=v),placeholder:"请选择多级上级"},{default:n(()=>[e(N,{label:"直属上级",value:1}),e(N,{label:"2级上级",value:2}),e(N,{label:"3级上级",value:3}),e(N,{label:"4级上级",value:4}),e(N,{label:"5级上级",value:5}),e(N,{label:"6级上级",value:6}),e(N,{label:"7级上级",value:7}),e(N,{label:"8级上级",value:8}),e(N,{label:"9级上级",value:9}),e(N,{label:"10级上级",value:10}),e(N,{label:"11级上级",value:11})]),_:1},8,["modelValue"])]),_:1})):F("",!0),u(a).assigneeType==="role"?(b(),w(f,{key:4,prop:"roles",label:"指定角色"},{default:n(()=>[$(" 待添加... ")]),_:1})):F("",!0),u(a).assigneeType==="formUser"?(b(),w(f,{key:5,prop:"formUser",label:"表单内人员"},{default:n(()=>[e(G,{placeholder:"选择表单内人员",modelValue:u(a).formUser,"onUpdate:modelValue":l[4]||(l[4]=v=>u(a).formUser=v)},{default:n(()=>[(b(!0),T(L,null,me(u(i).filter(v=>v.name==="UserSelection"),v=>(b(),w(N,{key:v.id,label:v.title,value:v.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):F("",!0),u(a).assigneeType==="formRole"?(b(),w(f,{key:6,prop:"formRole",label:"表单内角色"},{default:n(()=>[$(" 待添加... ")]),_:1})):F("",!0),e(f,{prop:"method",label:"多人审批方式"},{default:n(()=>[e(p,{class:"flex-column",modelValue:u(a).multi,"onUpdate:modelValue":l[5]||(l[5]=v=>u(a).multi=v)},{default:n(()=>[e(r,{label:"sequential"},{default:n(()=>[$("依次审批（按顺序审批）")]),_:1}),e(r,{label:"joint"},{default:n(()=>[$("会签（需要所有审批人都通过才可通过）")]),_:1}),e(r,{label:"single"},{default:n(()=>[$("或签（其中一名审批人通过或驳回即可）")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(f,{prop:"nobody",label:"审批人为空"},{default:n(()=>[e(p,{modelValue:u(a).nobody,"onUpdate:modelValue":l[6]||(l[6]=v=>u(a).nobody=v)},{default:n(()=>[e(r,{label:"pass"},{default:n(()=>[$("自动通过")]),_:1}),e(r,{label:"reject"},{default:n(()=>[$("自动驳回")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(Y,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(z,{data:u(a).formProperties,style:{width:"100%"}},{default:n(()=>[e(D,{prop:"name",label:"字段"}),e(D,{prop:"readable"},{header:n(()=>[e(O,{modelValue:y.value,"onUpdate:modelValue":l[7]||(l[7]=v=>y.value=v),label:"可读"},null,8,["modelValue"])]),default:n(({row:v})=>[e(O,{modelValue:v.readable,"onUpdate:modelValue":B=>v.readable=B,onChange:B=>k(v)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(D,{prop:"writeable"},{header:n(()=>[e(O,{modelValue:c.value,"onUpdate:modelValue":l[8]||(l[8]=v=>c.value=v),label:"可写"},null,8,["modelValue"])]),default:n(({row:v})=>[e(O,{modelValue:v.writeable,"onUpdate:modelValue":B=>v.writeable=B,onChange:B=>I(v)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(D,{prop:"required"},{header:n(()=>[e(O,{modelValue:g.value,"onUpdate:modelValue":l[9]||(l[9]=v=>g.value=v),label:"必填"},null,8,["modelValue"])]),default:n(({row:v})=>[e(O,{modelValue:v.required,"onUpdate:modelValue":B=>v.required=B,onChange:B=>U(v)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(D,{prop:"hidden"},{header:n(()=>[e(O,{modelValue:m.value,"onUpdate:modelValue":l[10]||(l[10]=v=>m.value=v),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:v})=>[e(O,{modelValue:v.hidden,"onUpdate:modelValue":B=>v.hidden=B,onChange:B=>q(v)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1}),e(Y,{label:"操作权限",name:"operationPermissions"},{default:n(()=>[x("div",Io,[e(Z,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(Il))]),_:1}),x("div",No,[e(P,{tag:"b"},{default:n(()=>[$(" 同意 ")]),_:1}),To]),e(Q,{modelValue:u(a).operations.complete,"onUpdate:modelValue":l[11]||(l[11]=v=>u(a).operations.complete=v),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(ee),x("div",Ro,[e(Z,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(Me))]),_:1}),x("div",Ao,[e(P,{tag:"b"},{default:n(()=>[$(" 拒绝 ")]),_:1}),So]),e(Q,{modelValue:u(a).operations.refuse,"onUpdate:modelValue":l[12]||(l[12]=v=>u(a).operations.refuse=v),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(ee),x("div",zo,[e(Z,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(Nl))]),_:1}),x("div",Bo,[e(P,{tag:"b"},{default:n(()=>[$(" 转办 ")]),_:1}),Fo]),e(Q,{modelValue:u(a).operations.transfer,"onUpdate:modelValue":l[13]||(l[13]=v=>u(a).operations.transfer=v),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(ee),x("div",Oo,[e(Z,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u($e))]),_:1}),x("div",Mo,[e(P,{tag:"b"},{default:n(()=>[$(" 加签 ")]),_:1}),Do]),e(Q,{modelValue:u(a).operations.addMulti,"onUpdate:modelValue":l[14]||(l[14]=v=>u(a).operations.addMulti=v),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(ee),x("div",Lo,[e(Z,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(u(De))]),_:1}),x("div",Ho,[e(P,{tag:"b"},{default:n(()=>[$(" 减签 ")]),_:1}),jo]),e(Q,{modelValue:u(a).operations.minusMulti,"onUpdate:modelValue":l[15]||(l[15]=v=>u(a).operations.minusMulti=v),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(ee)]),_:1})]),_:1},8,["modelValue"])}}});const Ko=A(Wo,[["__scopeId","data-v-6e972f08"]]),Go=C({__name:"CcAttr",props:{node:{}},emits:["update:node"],setup(_,{emit:d}){const o=_,t=E("properties"),{node:a}=ae(o,d),{fields:i}=j("nodeHooks"),c=R({get(){return a.value.formProperties.every(y=>y.readable)},set(y){a.value.formProperties.forEach(m=>m.readable=y),g.value=!y}}),g=R({get(){return a.value.formProperties.every(y=>y.hidden)},set(y){a.value.formProperties.forEach(m=>m.hidden=y),c.value=!y}});return K(()=>{const y=a.value.formProperties;a.value.formProperties=i.value.filter(m=>m.value!==void 0).map(m=>({id:m.id,name:m.title,readable:!0,writeable:!1,required:!1,hidden:m.props.hidden||!1})),a.value.formProperties.forEach(m=>{const k=y.find(U=>U.id===m.id);k&&(m.readable=k.readable,m.writeable=k.writeable,m.hidden=k.hidden,m.required=k.required)})}),(y,m)=>{const k=We,U=Se,I=ze,q=be,s=ge,l=ye,r=Ve;return b(),w(u(Pe),{modelValue:t.value,"onUpdate:modelValue":m[3]||(m[3]=p=>t.value=p),stretch:"",block:!1},{default:n(()=>[e(q,{label:"设置抄送人",name:"properties"},{default:n(()=>[e(I,{"label-position":"top","label-width":"90px"},{default:n(()=>[e(U,{prop:"users",label:"抄送人"},{default:n(()=>[e(k,{multiple:"",placeholder:"请选择人员",modelValue:u(a).users,"onUpdate:modelValue":m[0]||(m[0]=p=>u(a).users=p)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(q,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(r,{data:u(a).formProperties,style:{width:"100%"}},{default:n(()=>[e(s,{prop:"name",label:"字段"}),e(s,{prop:"readable"},{header:n(()=>[e(l,{modelValue:c.value,"onUpdate:modelValue":m[1]||(m[1]=p=>c.value=p),label:"可读"},null,8,["modelValue"])]),default:n(({row:p})=>[e(l,{modelValue:p.readable,"onUpdate:modelValue":f=>p.readable=f,onChange:f=>p.hidden=!f},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(s,{prop:"hidden"},{header:n(()=>[e(l,{modelValue:g.value,"onUpdate:modelValue":m[2]||(m[2]=p=>g.value=p),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:p})=>[e(l,{modelValue:p.hidden,"onUpdate:modelValue":f=>p.hidden=f,onChange:f=>p.readable=!f},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])}}}),Jo=C({__name:"StartAttr",props:{node:{}},emits:["update:node"],setup(_,{emit:d}){const o=_,t=E("formPermissions"),{node:a}=ae(o,d),{fields:i}=j("nodeHooks"),c=R({get(){return a.value.formProperties.every(s=>s.writeable)},set(s){a.value.formProperties.forEach(l=>l.writeable=s),s?(y.value=!1,m.value=!1):g.value=!1}}),g=R({get(){return a.value.formProperties.every(s=>s.required)},set(s){a.value.formProperties.forEach(l=>l.required=s),s&&(c.value=!0,y.value=!1,m.value=!1)}}),y=R({get(){return a.value.formProperties.every(s=>s.readable)},set(s){a.value.formProperties.forEach(l=>l.readable=s),s&&(c.value=!1,m.value=!1,g.value=!1)}}),m=R({get(){return a.value.formProperties.every(s=>s.hidden)},set(s){a.value.formProperties.forEach(l=>l.hidden=s),s&&(c.value=!1,g.value=!1,y.value=!1)}}),k=s=>{s.hidden&&(s.readable=!1,s.writeable=!1,s.required=!1)},U=s=>{s.writeable?(s.readable=!1,s.hidden=!1):s.required=!1},I=s=>{s.readable&&(s.writeable=!1,s.required=!1,s.hidden=!1)},q=s=>{s.required&&(s.writeable=!0,s.readable=!1,s.hidden=!1)};return K(()=>{const s=a.value.formProperties;a.value.formProperties=i.value.filter(l=>l.value!==void 0).map(l=>({id:l.id,name:l.title,readable:l.props.disabled||!1,writeable:!l.props.disabled||!1,hidden:l.props.hidden||!1,required:l.props.required&&!l.props.disabled||!1})),a.value.formProperties.forEach(l=>{const r=s.find(p=>p.id===l.id);r&&(l.readable=r.readable,l.writeable=r.writeable,l.hidden=r.hidden,l.required=r.required)})}),(s,l)=>{const r=ge,p=ye,f=Ve,V=be;return b(),w(u(Pe),{modelValue:t.value,"onUpdate:modelValue":l[4]||(l[4]=h=>t.value=h),stretch:"",block:!1},{default:n(()=>[e(V,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(f,{data:u(a).formProperties,style:{width:"100%"}},{default:n(()=>[e(r,{prop:"name",label:"字段"}),e(r,{prop:"readable"},{header:n(()=>[e(p,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=h=>y.value=h),label:"可读"},null,8,["modelValue"])]),default:n(({row:h})=>[e(p,{modelValue:h.readable,"onUpdate:modelValue":P=>h.readable=P,onChange:P=>I(h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(r,{prop:"writeable"},{header:n(()=>[e(p,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=h=>c.value=h),label:"可写"},null,8,["modelValue"])]),default:n(({row:h})=>[e(p,{modelValue:h.writeable,"onUpdate:modelValue":P=>h.writeable=P,onChange:P=>U(h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(r,{prop:"required"},{header:n(()=>[e(p,{modelValue:g.value,"onUpdate:modelValue":l[2]||(l[2]=h=>g.value=h),label:"必填"},null,8,["modelValue"])]),default:n(({row:h})=>[e(p,{modelValue:h.required,"onUpdate:modelValue":P=>h.required=P,onChange:P=>q(h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(r,{prop:"hidden"},{header:n(()=>[e(p,{modelValue:m.value,"onUpdate:modelValue":l[3]||(l[3]=h=>m.value=h),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:h})=>[e(p,{modelValue:h.hidden,"onUpdate:modelValue":P=>h.hidden=P,onChange:P=>k(h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1}),e(V,{label:"操作权限",name:"operationPermissions"},{default:n(()=>[$(" 待添加... ")]),_:1})]),_:1},8,["modelValue"])}}}),Xo=["id"],Yo=C({__name:"index",setup(_,{expose:d}){const o={start:Jo,approval:Ko,cc:Go};let t=E({id:"",pid:"",type:"",name:"",child:null});const a=E(!1),i=E(!1),c=()=>{i.value&&(i.value=!1)};return d({open:y=>{t.value=y,a.value=!0}}),(y,m)=>{const k=he,U=Vl,I=$l;return b(),w(I,{modelValue:a.value,"onUpdate:modelValue":m[2]||(m[2]=q=>a.value=q),size:"35%"},{header:n(({titleId:q,titleClass:s})=>[x("span",{id:q,class:W(s)},[J(e(k,{onBlur:c,maxlength:"30",modelValue:u(t).name,"onUpdate:modelValue":m[0]||(m[0]=l=>u(t).name=l)},null,8,["modelValue"]),[[u(Ne),c],[le,i.value]]),J(e(U,{icon:"EditPen",onClick:m[1]||(m[1]=l=>i.value=!0)},{default:n(()=>[$(S(u(t).name),1)]),_:1},512),[[le,!i.value]])],10,Xo)]),default:n(()=>[(b(),w(_e(o[u(t).type]),{node:u(t)},null,8,["node"]))]),_:1},8,["modelValue"])}}});const Zo=A(Yo,[["__scopeId","data-v-e9c31a05"]]),Qo=(_,d)=>{const o=E(new Map),t=E(new Map),a=()=>(o.value.clear(),t.value.forEach((l,r)=>{const p=l==null?void 0:l.validate;if(p){const f=p();f&&f.showError&&o.value.set(r,f.message)}}),o),i=(l,r)=>{t.value.set(l,r)},c=()=>{let l=`node-${Math.random().toString(36).substring(2,7)}`;const r=(p,f)=>{if(p.id===f)return!0;if(p.child)return r(p.child,f);if("children"in p){const V=p;if(V.children&&V.children.length>0)return V.children.some(h=>r(h,f))}return!1};return r(_.value,l)?c():l},g=l=>{const r=l;r.children.unshift({id:c(),pid:l.id,type:"condition",def:!1,name:`条件${r.children.length+1}`,conditions:{logicalOperator:"and",conditions:[],groups:[]},child:null})},U={condition:g,approval:l=>{const r=l.child,p=c();l.child={id:p,pid:l.id,type:"approval",name:"审批人",child:r,assigneeType:"user",formUser:"",formRole:"",users:[],roles:[],leader:1,choice:!1,self:!1,multi:"sequential",nobody:"pass",formProperties:d.value.map(f=>({id:f.id,name:f.title,readable:!0,writeable:!1,hidden:!1,required:!1})),operations:{complete:!0,refuse:!0,save:!0,transfer:!1,addMulti:!1,minusMulti:!1}},r&&(r.pid=p)},cc:l=>{const r=l.child,p=c();l.child={id:p,pid:l.id,type:"cc",name:"抄送人",child:r,users:[],formProperties:d.value.map(f=>({id:f.id,name:f.title,readable:!0,writeable:!1,hidden:!1,required:!1}))},r&&(r.pid=p)},exclusive:l=>{const r=l.child,p=c(),f={id:p,pid:l.id,type:"exclusive",name:"独占网关",child:r,children:[]};if(l.child=f,r&&(r.pid=p),g(l.child),g(l.child),f.children.length>0){const V=f.children[f.children.length-1];V.def=!0,V.name="默认条件"}}},I=(l,r)=>{const p=U[l];p&&p(r)},q=l=>{s(_.value,l)},s=(l,r)=>{var p;if(l.id===r.pid)if("children"in l&&((p=l.child)==null?void 0:p.id)!==r.id){const f=l,V=f.children.findIndex(h=>h.id===r.id);V!==-1&&(f.children.length<=2?q(f):f.children.splice(V,1))}else r.child&&r.child.pid&&(r.child.pid=l.id),l.child=r.child;else if(l.child&&s(l.child,r),"children"in l){const f=l;f.children&&f.children.length>0&&f.children.forEach(V=>{s(V,r)})}};return{addNode:I,delNode:q,addNodeRef:i,validateNodes:a,nodeErrors:o}},ea={class:"designer-container"},la={class:"zoom"},oa={class:"node-container"},aa=C({name:"flowDesign"}),ta=C({...aa,props:{process:{},fields:{}},emits:["update:process","update:fields"],setup(_,{emit:d}){const o=_;Ce(l=>({"1cbeb585":g.value}));const{process:t,fields:a}=ae(o,d),i=E(),c=E(100),g=R(()=>c.value/100),y=l=>{var r;(r=i.value)==null||r.open(l)},{addNode:m,delNode:k,validateNodes:U,addNodeRef:I}=Qo(t,a);el("nodeHooks",{readOnly:!1,fields:a,addNode:m,delNode:k,addNodeRef:I,openPenal:y});const q=l=>{l.shiftKey&&(l.deltaY>0?c.value>50&&(c.value-=10):c.value<170&&(c.value+=10))},s=()=>{U()};return window.addEventListener("wheel",q),ll(()=>{window.removeEventListener("wheel",q)}),(l,r)=>{const p=X;return b(),T("div",ea,[x("div",la,[e(p,{icon:u($e),onClick:r[0]||(r[0]=f=>c.value+=10),disabled:c.value>=170,circle:""},null,8,["icon","disabled"]),x("span",null,S(c.value)+"%",1),e(p,{icon:u(De),onClick:r[1]||(r[1]=f=>c.value-=10),circle:"",disabled:c.value<=50},null,8,["icon","disabled"]),e(p,{onClick:s},{default:n(()=>[$("校验")]),_:1})]),x("div",oa,[e(je,{node:u(t)},null,8,["node"])]),e(Zo,{ref_key:"nodePenalRef",ref:i},null,512)])}}});const na=A(ta,[["__scopeId","data-v-5f2ec769"]]),sa=C({__name:"App",setup(_){const d=E({id:"root",pid:null,type:"start",name:"发起人",formProperties:[],child:{id:"end",pid:"root",type:"end",name:"结束",child:null}}),o=E([{id:"field_da2w55",title:"请假人",name:"UserSelection",value:null,props:{multiple:!1,disabled:!1,placeholder:"请选择用户",style:{width:"100%"}}},{id:"field_fa2w40",title:"请假天数",name:"Number",value:null,props:{disabled:!1,placeholder:"请输入请假天数",style:{width:"100%"},min:0,max:100,step:1,precision:0}},{id:"field_d42t45",title:"请假事由",name:"Select",value:null,props:{disabled:!1,multiple:!1,placeholder:"请选择请假事由",options:[{label:"事假",value:"事假"},{label:"病假",value:"病假"},{label:"婚假",value:"婚假"},{label:"产假",value:"产假"},{label:"丧假",value:"丧假"},{label:"其他",value:"其他"}],style:{width:"100%"}}},{id:"field_522g58",title:"请假原因",name:"Input",value:null,props:{type:"textarea",placeholder:"请输入请假原因",autosize:{minRows:3,maxRows:3},disabled:!1,style:{width:"100%"}}}]);return(t,a)=>{const i=wl;return b(),w(i,{namespace:"el",locale:u(xl)},{default:n(()=>[e(na,{process:d.value,fields:o.value},null,8,["process","fields"])]),_:1},8,["locale"])}}});const ue=[{id:1,name:"张三",username:"admin",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:2,name:"李四",username:"lisi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:3,name:"王五",username:"wangwu",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:4,name:"赵六",username:"zhaoliu",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:5,name:"孙七",username:"sunqi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:6,name:"周八",username:"zhouba",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:7,name:"吴九",username:"wujui",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:8,name:"郑十",username:"zhengshi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"}],da=[{url:"/api/user/info",method:"get",response:_=>{const d=_.query.username;return{code:200,success:!0,message:"操作成功",data:ue.find(o=>o.username===d)}}},{url:"/api/user/list",method:"post",response:_=>{const d=_.body.userIds;return{code:200,success:!0,message:"操作成功",data:Array.isArray(d)?ue.filter(o=>d.includes(o.username)):ue}}}],ra=[...da],ia=[...ra];function ua(){Rl(ia)}const ca=ol(sa);ca.mount("#app");ua();
