var gl=Object.defineProperty;var yl=(s,r,t)=>r in s?gl(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t;var Ke=(s,r,t)=>(yl(s,typeof r!="symbol"?r+"":r,t),t);import{J as I,r as P,o as y,c as T,Y as e,R as n,u as i,a as k,av as ve,aw as he,ax as Qe,i as q,B as G,a5 as pe,S as Q,Q as E,W as $,X as D,U as Re,V as j,Z as oe,K as se,L as ee,n as Vl,d as be,O as $l,F as L,a9 as W,ah as Ie,A as re,a0 as ge,e as de,w as el,ay as Y,G as Je,I as kl,E as wl,ar as xl}from"./@vue-35799baf.js";import{E as le,a as K,b as El,u as ie,c as _e,C as ll,d as ye,e as Cl,f as J,g as Ul,h as Se,i as Pl,j as Rl,k as ol,l as tl,m as al,n as nl,o as sl,p as rl,w as Ve,q as dl,r as il,s as Il,t as Te,v as Sl,x as $e,y as Oe,z as qe,A as Ae,B as Ne,D as ke,F as Fe,G as Be,H as Tl,I as Ol,J as ql,K as Al,L as Nl,M as Fl,N as Bl}from"./element-plus-ec77b80d.js";import{B as ze,Q as ul,R as cl,S as pl,T as zl,U as Ll,a as Le,V as Dl,W as _l,o as fl,X as jl,Y as Ml,c as Hl,Z as Wl,A as ml,_ as Xe,P as Gl,$ as Kl,a0 as Jl,a1 as Xl,a2 as Yl,a3 as Ye}from"./@element-plus-1faf17cc.js";import{n as te,m as X,p as Zl}from"./@vueuse-3ddeaf42.js";import{a as Ql}from"./axios-21b846bc.js";import{j as vl}from"./lodash-es-21c98b27.js";import{F as eo}from"./file-saver-469be3e2.js";import{c as lo}from"./vite-plugin-mock-3ea673a4.js";import"./@sxzz-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-f21ac596.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-593301b5.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-72671fae.js";import"./mockjs-07179472.js";import"./path-to-regexp-31db6522.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();const De=s=>(ve("data-v-e5f31a23"),s=s(),he(),s),oo={class:"add-but"},to={class:"node-select"},ao=De(()=>k("span",null,"审批人",-1)),no=De(()=>k("span",null,"抄送人",-1)),so=De(()=>k("span",null,"互斥分支",-1)),ro=I({__name:"index",emits:["addNode"],setup(s,{emit:r}){const t=P(),o=()=>{var d;r("addNode","approval"),(d=t.value)==null||d.hide()},l=()=>{var d;r("addNode","cc"),(d=t.value)==null||d.hide()},u=()=>{var d;r("addNode","exclusive"),(d=t.value)==null||d.hide()};return(d,b)=>{const h=le,v=K,w=El;return y(),T("div",oo,[e(w,{placement:"bottom-start",ref_key:"nodePopoverRef",ref:t,trigger:"click",title:"添加节点",width:235},{reference:n(()=>[e(v,{icon:i(ze),type:"primary",style:{"z-index":"1"},circle:""},null,8,["icon"])]),default:n(()=>[k("div",to,[k("div",{onClick:o},[e(h,{color:"#ff943e"},{default:n(()=>[e(i(ul))]),_:1}),ao]),k("div",{onClick:l},[e(h,{color:"#3296fa"},{default:n(()=>[e(i(cl))]),_:1}),no]),k("div",{onClick:u},[e(h,null,{default:n(()=>[e(i(pl))]),_:1}),so])])]),_:1},512)])}}});const A=(s,r)=>{const t=s.__vccOpts||s;for(const[o,l]of r)t[o]=l;return t},hl=A(ro,[["__scopeId","data-v-e5f31a23"]]),io={class:"node-box"},uo={class:"head"},co={key:2},po=I({__name:"index",props:{icon:{},node:{},color:{},readOnly:{type:Boolean,default:!1},close:{type:Boolean,default:!0},arrow:{type:Boolean,default:!0},errorInfo:{default:()=>({showError:!1,message:""})}},emits:["update:node"],setup(s,{emit:r}){const t=s;Qe(_=>({f13798a2:v.value,"78d01a3e":h.value,f023673c:_.color}));const o={list:Dl,stamp:ul,share:pl,promotion:cl},{node:l}=te(t,r),u=P(!1),d=P(),b=ie(),h=q(()=>_e[b.value||"default"]+205+"px"),v=q(()=>_e[b.value||"default"]+60+"px"),{addNode:w,delNode:x,openPenal:U}=G("nodeHooks"),R=()=>{t.readOnly||U(l.value)},p=()=>{t.readOnly||(u.value=!0,Vl(()=>{var _;(_=d.value)==null||_.focus()}))},a=()=>{u.value&&(u.value=!1)};return(_,f)=>{const c=le,m=Cl,g=J,C=K,M=Ul,N=Se;return y(),T("div",io,[e(N,{shadow:"always",onClick:f[5]||(f[5]=S=>R()),class:ee(["node",{"error-node":t.errorInfo.showError}])},{header:n(()=>[k("div",uo,[u.value?(y(),T("div",{key:0,onClick:f[2]||(f[2]=pe(()=>{},["stop"]))},[Q(e(i(ye),{ref_key:"inputRef",ref:d,onBlur:a,maxlength:"30",modelValue:i(l).name,"onUpdate:modelValue":f[1]||(f[1]=S=>i(l).name=S)},null,8,["modelValue"]),[[i(ll),a]])])):(y(),E(g,{key:1,tag:"b",truncated:"",onClick:pe(p,["stop"])},{default:n(()=>[$(D(i(l).name)+" ",1),e(c,null,{default:n(()=>[e(i(zl))]),_:1})]),_:1},8,["onClick"])),_.icon?(y(),T("span",co,[e(c,{size:30,color:"node-icon"},{default:n(()=>[(y(),E(Re(o[_.icon.toLowerCase()])))]),_:1})])):j("",!0)])]),default:n(()=>[e(m,{placement:"top-start"},{content:n(()=>[$(D(t.errorInfo.message),1)]),default:n(()=>[Q(e(c,{class:"warn-icon",size:20},{default:n(()=>[e(i(Ll),{onClick:f[0]||(f[0]=pe(()=>{},["stop"]))})]),_:1},512),[[oe,t.errorInfo.showError]])]),_:1}),k("div",{onClick:f[4]||(f[4]=pe(()=>{},["stop"]))},[e(M,{title:"您确定要删除该节点吗？",width:"200","hide-after":0,placement:"right-start",onConfirm:f[3]||(f[3]=S=>i(x)(i(l)))},{reference:n(()=>[Q(e(C,{class:"node-close",plain:"",circle:"",icon:i(Le),size:"small",type:"danger"},null,8,["icon"]),[[oe,_.close&&!_.readOnly]])]),_:1})]),se(_.$slots,"default",{},void 0,!0)]),_:3},8,["class"]),e(hl,{onAddNode:f[6]||(f[6]=S=>i(w)(S,i(l)))})])}}});const we=A(po,[["__scopeId","data-v-280b57f7"]]),_o=I({__name:"content",props:{node:{}},setup(s){const r=s,t=P("");return be(()=>{t.value=r.node.name}),(o,l)=>{const u=J;return y(),E(u,null,{default:n(()=>[$(D(t.value||o.node.name),1)]),_:1})}}}),fo={class:"start-box"},mo=I({__name:"index",props:{node:{}},setup(s){return(r,t)=>(y(),T("div",fo,[e(we,{icon:"List",arrow:!1,close:!1,color:"#8c7cf3",node:r.node},{default:n(()=>[e(_o,{node:r.node},null,8,["node"])]),_:1},8,["node"])]))}});const vo=A(mo,[["__scopeId","data-v-0a059602"]]),ho={baseURL:"/api",timeout:8e3};class bo{constructor(r){Ke(this,"service");this.service=Ql.create(r),this.service.interceptors.request.use(t=>t,t=>Promise.reject(t)),this.service.interceptors.response.use(t=>{const{data:o}=t;return o},t=>{const{response:o,message:l}=t,u=o==null?void 0:o.data,d=u?u.message:l;return Pl.error(d||"未知错误"),Promise.reject((o==null?void 0:o.data)||t)})}get(r,t,o={}){return this.service.get(r,{params:t,...o})}post(r,t){return this.service.post(r,t)}put(r,t){return this.service.put(r,t)}delete(r,t){return this.service.delete(r,t)}patch(r,t){return this.service.patch(r,t)}head(r){return this.service.head(r)}options(r){return this.service.options(r)}request(r){return this.service.request(r)}download(r,t){return this.service.post(r,t,{responseType:"blob"})}}const ue=new bo(ho),go=s=>ue.get("/user/info",{username:s}),fe=s=>{const r=s?{userIds:s}:{};return ue.post("/user/list",r)},yo=s=>ue.get("/role/info",{id:s}),Ue=s=>{const r=s?{roleIds:s}:{};return ue.post("/role/list",r)},Vo=I({__name:"content",props:{node:{}},setup(s){const r=s,t=P(""),{fields:o}=G("nodeHooks");return be(()=>{var u,d;const l=r.node;if(l.assigneeType==="choice")t.value=`发起人自选（${l.choice?"多选":"单选"}）`;else if(l.assigneeType==="self")t.value="发起人自己";else if(l.assigneeType==="leader")t.value=l.leader===1?"直属上级":`${l.leader}级上级`;else if(l.assigneeType==="formUser"){const b=((u=o.value.find(h=>h.id===l.formUser))==null?void 0:u.title)||l.formUser||"?";t.value=`表单内（${b}）人员`}else if(l.assigneeType==="formRole"){const b=((d=o.value.find(h=>h.id===l.formRole))==null?void 0:d.title)||l.formRole||"?";t.value=`表单内（${b}）角色`}else l.assigneeType==="user"?l.users.length>0?fe(l.users).then(b=>{b.success&&(t.value=b.data.map(h=>h.name).join("、"))}):t.value="未指定人员":l.assigneeType==="role"?l.roles.length>0?Ue(l.roles).then(b=>{b.success&&(t.value=b.data.map(h=>h.name).join("、"))}):t.value="未指定角色":t.value=r.node.name}),(l,u)=>{const d=J;return y(),E(d,null,{default:n(()=>[$(D(t.value||l.node.name),1)]),_:1})}}}),$o=I({__name:"index",props:{node:{}},setup(s,{expose:r}){const t=s,o=P({showError:!1,message:""});return r({validate:()=>(o.value={showError:!1,message:""},t.node.assigneeType==="user"?t.node.users.length===0&&(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定人员`}):t.node.assigneeType==="role"?t.node.roles.length===0&&(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定角色`}):t.node.assigneeType==="formUser"?t.node.formRole||(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定表单内人员`}):t.node.assigneeType==="formRole"?t.node.formRole||(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定表单内角色`}):t.node.assigneeType==="leader"&&(t.node.leader||(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定多级上级`})),o.value)}),(u,d)=>(y(),E(we,{icon:"Stamp",color:"linear-gradient(89.96deg, #FA6F32 .05%, #FB9337 79.83%)","error-info":o.value,node:u.node},{default:n(()=>[e(Vo,{node:u.node},null,8,["node"])]),_:1},8,["error-info","node"]))}}),ko=I({__name:"content",props:{node:{}},setup(s){const r=s,t=P("");return be(()=>{const o=r.node;o.users.length>0?fe(o.users).then(l=>{l.success&&(t.value=l.data.map(u=>u.name).join("、"))}):t.value="未指定人员"}),(o,l)=>{const u=J;return y(),E(u,null,{default:n(()=>[$(D(t.value||o.node.name),1)]),_:1})}}}),wo=I({__name:"index",props:{node:{}},setup(s,{expose:r}){const t=s,o=P({showError:!1,message:""});return r({validate:()=>(o.value={showError:!1,message:""},t.node.users.length===0&&(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未指定抄送人`}),o.value)}),(u,d)=>(y(),E(we,$l({icon:"Promotion"},u.$attrs,{color:"#3296FA","error-info":o.value,node:u.node}),{default:n(()=>[e(ko,{node:u.node},null,8,["node"])]),_:1},16,["error-info","node"]))}}),xo=I({__name:"content",props:{node:{}},setup(s){const r=s,t=P(e("span",null,null));return be(()=>{if(r.node.def)return t.value=e("span",null,[$("不满足条件时，进入默认条件")]);if(r.node.conditions.conditions.length>0||r.node.conditions.groups.length>0){const o=r.node.conditions.conditions.length+r.node.conditions.groups.length;t.value=e("span",null,[`已设置（${o}）个条件`])}else t.value=e("span",null,[$("未设置条件")])}),(o,l)=>{const u=J;return y(),E(u,null,{default:n(()=>[e(i(t))]),_:1})}}}),Eo={class:"condition-box"},Co=I({__name:"index",props:{node:{}},setup(s,{expose:r}){const t=s,o=P({showError:!1,message:""});return r({validate:()=>{if(o.value={showError:!1,message:""},!t.node.def)return t.node.conditions.conditions.length===0&&t.node.conditions.groups.length===0&&(o.value={showError:!0,message:`节点：[ ${t.node.name} ] 未设置条件`}),o.value}}),(u,d)=>(y(),T("div",Eo,[e(we,{icon:"Share",readOnly:u.node.def,"error-info":o.value,node:u.node},{default:n(()=>[e(xo,{node:u.node},null,8,["node"])]),_:1},8,["readOnly","error-info","node"])]))}});const Uo=A(Co,[["__scopeId","data-v-1200ce3d"]]),xe=s=>(ve("data-v-1ca7350c"),s=s(),he(),s),Po={class:"branch-node"},Ro={class:"add-branch"},Io=xe(()=>k("div",{class:ee("top-right-border")},null,-1)),So=xe(()=>k("div",{class:ee("bottom-right-border")},null,-1)),To=xe(()=>k("div",{class:ee("top-left-border")},null,-1)),Oo=xe(()=>k("div",{class:ee("bottom-left-border")},null,-1)),qo=I({__name:"index",props:{node:{}},setup(s){const{addNode:r}=G("nodeHooks");return(t,o)=>(y(),T(L,null,[k("div",Po,[k("div",Ro,[se(t.$slots,"default",{},void 0,!0)]),(y(!0),T(L,null,W(t.node.children,(l,u)=>(y(),T("div",{key:l.id,class:"col-box"},[t.node.children.length===u+1?(y(),T(L,{key:0},[Io,So],64)):j("",!0),u===0?(y(),T(L,{key:1},[To,Oo],64)):j("",!0),e(bl,{node:l},null,8,["node"])]))),128))]),e(hl,{onAddNode:o[0]||(o[0]=l=>i(r)(l,t.node)),class:"branch-but"})],64))}});const Ao=A(qo,[["__scopeId","data-v-1ca7350c"]]),No=I({__name:"index",props:{node:{}},setup(s){const{addNode:r}=G("nodeHooks");return(t,o)=>{const l=K;return y(),E(Ao,{node:t.node},{default:n(()=>[e(l,{type:"primary",onClick:o[0]||(o[0]=u=>i(r)("condition",t.node)),plain:"",round:""},{default:n(()=>[$("添加条件")]),_:1})]),_:1},8,["node"])}}});const Fo={},Bo={class:"node-box"};function zo(s,r){const t=J;return y(),T("div",Bo,[e(t,{class:"end-node"},{default:n(()=>[$(" 结束 ")]),_:1})])}const Lo=A(Fo,[["render",zo],["__scopeId","data-v-74763bb4"]]),Do=I({name:"NodeTree"}),jo=I({...Do,props:{node:{}},setup(s){const r={start:vo,approval:$o,cc:wo,condition:Uo,exclusive:No,end:Lo},{addNodeRef:t}=G("nodeHooks");return(o,l)=>{const u=Ie("NodeTree");return y(),T(L,null,[se(o.$slots,"default",{},void 0,!0),(y(),E(Re(r[o.node.type]),{node:o.node,ref:d=>d&&i(t)(o.node.id,d)},null,8,["node"])),o.node.child?(y(),E(u,{key:0,node:o.node.child},null,8,["node"])):j("",!0)],64)}}});const bl=A(jo,[["__scopeId","data-v-64d33364"]]),Mo=I({__name:"index",props:{block:{type:Boolean,default:!0},modelValue:{}},emits:["update:modelValue"],setup(s,{emit:r}){const o=X(s,"modelValue",r);return(l,u)=>{const d=Rl;return y(),E(d,{modelValue:i(o),"onUpdate:modelValue":u[0]||(u[0]=b=>re(o)?o.value=b:null),class:ee(["el-segmented",{"is-block":l.block}])},{default:n(()=>[se(l.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","class"])}}});const je=A(Mo,[["__scopeId","data-v-6406405a"]]),Ho={class:"flex-center",style:{gap:"4px","grid-gap":"4px"}},Wo=I({__name:"UserTag",props:{username:{},type:{default:"info"},closable:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:r}){const t=s;let o=ge({username:void 0,avatar:void 0,name:void 0});de(()=>{if(!t.username)throw new Error("username is required");go(t.username).then(b=>{b.success&&(o.username=b.data.username,o.avatar=b.data.avatar,o.name=b.data.name)})}),q(()=>{const b="/api";return b.startsWith("http")?b:window.location.origin+b});const l=ie(),u=q(()=>_e[l.value||"default"]-12),d=()=>{r("close",t.username)};return(b,h)=>{const v=ol,w=tl;return y(),E(w,{round:"",closable:t.closable,type:b.type,effect:"light",onClose:d},{default:n(()=>[k("div",Ho,[e(v,{size:u.value,src:i(o).avatar},{default:n(()=>[$(D((i(o).name||b.username).charAt(0)),1)]),_:1},8,["size","src"]),k("span",null,D(i(o).name||b.username),1)])]),_:1},8,["closable","type"])}}});const Me=A(Wo,[["__scopeId","data-v-11e894be"]]),Go={class:"flex flex-1 flex-items-center flex-justify-between"},Ko={class:"flex-center"},Jo=I({__name:"UserPicker",props:{modelValue:{},multiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(s,{expose:r,emit:t}){const o=s,l={label:"name",children:"children",isLeaf:"leaf",class:c=>w(c)},u=X(o,"modelValue",t),d=P([]),b=P([]),h=P(),v=P([]),w=c=>d.value.find(g=>g.id===c.id)?"is-active":"",x=c=>{if(c.type==="user")if(o.multiple){const m=d.value.findIndex(g=>g.id===c.id);m===-1?(d.value.push(c),d.value.sort((g,C)=>g.id.localeCompare(C.id))):d.value.splice(m,1)}else{const m=d.value.findIndex(g=>g.id===c.id);m===-1?d.value=[c]:d.value.splice(m,1)}},U=P(!1),R=ge({name:null});el(()=>R.name,c=>{var m;(m=h.value)==null||m.filter(c)});const p=(c,m)=>c?m.name.includes(c):!0,a=()=>{U.value=!0},_=()=>{fe().then(m=>{m.success&&(b.value=m.data.map(g=>({id:g.username,name:g.name,type:"user",leaf:!0,avatar:g.avatar})))});let c=[];Array.isArray(u.value)?c.push(...u.value):u.value&&c.push(u.value),c.length>0?fe(c).then(m=>{m.success&&(d.value=m.data.map(g=>({id:g.username,name:g.name,avatar:g.avatar,type:"user",leaf:!0})),d.value.sort((g,C)=>g.id.localeCompare(C.id)))}):d.value=[]},f=()=>{o.multiple?u.value=d.value.map(c=>c.id):d.value.length>0?u.value=d.value[0].id:u.value=null,U.value=!1};return r({open:a}),(c,m)=>{const g=ye,C=ol,M=le,N=al,S=nl,F=Se,O=K,B=sl;return y(),E(B,{modelValue:U.value,"onUpdate:modelValue":m[2]||(m[2]=z=>U.value=z),onOpen:_,"align-center":"",draggable:"",title:"选择用户",width:"30%"},{footer:n(()=>[e(O,{onClick:m[1]||(m[1]=z=>U.value=!1)},{default:n(()=>[$("取消")]),_:1}),e(O,{type:"primary",onClick:f},{default:n(()=>[$("确认")]),_:1})]),default:n(()=>[e(F,{shadow:"never",class:"org-card"},{header:n(()=>[e(g,{modelValue:R.name,"onUpdate:modelValue":m[0]||(m[0]=z=>R.name=z),placeholder:"输入关键字进行查询",style:{width:"100%"},"suffix-icon":"search",clearable:""},null,8,["modelValue"])]),default:n(()=>[e(S,{tag:"div",class:"org-tree"},{default:n(()=>[e(N,{ref_key:"orgTreeRef",ref:h,"node-key":"id",data:b.value,"default-expanded-keys":v.value,props:l,"filter-node-method":p,onNodeClick:x},{default:n(({data:z})=>[k("div",Go,[k("div",Ko,[z.type==="user"?(y(),E(C,{key:0,size:25,src:z.avatar},{default:n(()=>[$(D(z.name.charAt(0)),1)]),_:2},1032,["src"])):(y(),E(M,{key:1,size:16},{default:n(()=>[e(i(_l))]),_:1})),$("  "+D(z.name),1)]),e(M,{class:"is-selected"},{default:n(()=>[e(i(fl))]),_:1})])]),_:1},8,["data","default-expanded-keys"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const He=A(Jo,[["__scopeId","data-v-54f06cf8"]]),Xo={class:"user-wrapper"},Yo=I({__name:"UserSelector",props:{modelValue:{},placeholder:{default:"请选择用户"},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},style:{}},emits:["update:modelValue"],setup(s,{emit:r}){const t=s,o=X(t,"modelValue",r),l=q(()=>o.value?Array.isArray(o.value)?o.value:[o.value]:[]),u=P(),d=rl(),b=ie(),h=q(()=>d.value||t.disabled),v=()=>{var x;(x=u.value)==null||x.open()},w=x=>{o.value&&(t.multiple&&Array.isArray(o.value)?o.value.splice(o.value.indexOf(x),1):o.value=null)};return(x,U)=>{const R=le,p=K,a=J;return y(),T(L,null,[e(He,{ref_key:"userPickerRef",ref:u,multiple:x.multiple,modelValue:i(o),"onUpdate:modelValue":U[0]||(U[0]=_=>re(o)?o.value=_:null)},null,8,["multiple","modelValue"]),k("div",Xo,[e(p,{class:"user-but-item",size:i(b),disabled:h.value,onClick:v,circle:""},{default:n(()=>[e(R,null,{default:n(()=>[e(i(jl))]),_:1})]),_:1},8,["size","disabled"]),(y(!0),T(L,null,W(l.value,_=>(y(),E(Me,{closable:!h.value,key:_,username:_,onClose:w},null,8,["closable","username"]))),128)),Q(e(a,{class:"placeholder"},{default:n(()=>[$(D(x.placeholder),1)]),_:1},512),[[oe,!i(o)||i(o).length===0]])])],64)}}});const Zo=A(Yo,[["__scopeId","data-v-478c5cf7"]]),Qo=Ve(Me),et=Ve(He),me=dl(Zo,{userTag:Me,userPicker:He}),lt=Object.freeze(Object.defineProperty({__proto__:null,UserPicker:et,UserSelector:me,UserTag:Qo,default:me},Symbol.toStringTag,{value:"Module"})),ot={class:"flex-center",style:{gap:"4px","grid-gap":"4px"}},tt=I({__name:"RoleTag",props:{id:{},type:{default:"info"},closable:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:r}){const t=s;let o=ge({id:void 0,name:void 0});de(()=>{if(!t.id)throw new Error("username is required");yo(t.id).then(d=>{d.success&&(console.log(d),o.id=d.data.id,o.name=d.data.name)})}),q(()=>{const d="/api";return d.startsWith("http")?d:window.location.origin+d});const l=ie();q(()=>_e[l.value||"default"]-12);const u=()=>{r("close",t.id)};return(d,b)=>{const h=tl;return y(),E(h,{round:"",closable:t.closable,type:d.type,effect:"light",onClose:u},{default:n(()=>[k("div",ot,[k("span",null,D(i(o).name||d.id),1)])]),_:1},8,["closable","type"])}}});const We=A(tt,[["__scopeId","data-v-467ad35b"]]),at={class:"flex flex-1 flex-items-center flex-justify-between"},nt={class:"flex-center"},st=I({__name:"RolePicker",props:{modelValue:{},multiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(s,{expose:r,emit:t}){const o=s,l={label:"name",children:"children",isLeaf:"leaf",class:c=>w(c)},u=X(o,"modelValue",t),d=P([]),b=P([]),h=P(),v=P([]),w=c=>d.value.find(g=>g.id===c.id)?"is-active":"",x=c=>{if(o.multiple){const m=d.value.findIndex(g=>g.id===c.id);m===-1?(d.value.push(c),d.value.sort((g,C)=>g.id.localeCompare(C.id))):d.value.splice(m,1)}else{const m=d.value.findIndex(g=>g.id===c.id);m===-1?d.value=[c]:d.value.splice(m,1)}},U=P(!1),R=ge({name:null});el(()=>R.name,c=>{var m;(m=h.value)==null||m.filter(c)});const p=(c,m)=>c?m.name.includes(c):!0,a=()=>{U.value=!0},_=()=>{Ue().then(m=>{m.success&&(b.value=m.data.map(g=>({id:g.id,name:g.name})))});let c=[];Array.isArray(u.value)?c.push(...u.value):u.value&&c.push(u.value),c.length>0?Ue(c).then(m=>{m.success&&(d.value=m.data.map(g=>({id:g.id,name:g.name})),d.value.sort((g,C)=>g.id.localeCompare(C.id)))}):d.value=[]},f=()=>{o.multiple?u.value=d.value.map(c=>c.id):d.value.length>0?u.value=d.value[0].id:u.value=null,U.value=!1};return r({open:a}),(c,m)=>{const g=ye,C=le,M=al,N=nl,S=Se,F=K,O=sl;return y(),E(O,{modelValue:U.value,"onUpdate:modelValue":m[2]||(m[2]=B=>U.value=B),onOpen:_,"align-center":"",draggable:"",title:"选择角色",width:"30%"},{footer:n(()=>[e(F,{onClick:m[1]||(m[1]=B=>U.value=!1)},{default:n(()=>[$("取消")]),_:1}),e(F,{type:"primary",onClick:f},{default:n(()=>[$("确认")]),_:1})]),default:n(()=>[e(S,{shadow:"never",class:"org-card"},{header:n(()=>[e(g,{modelValue:R.name,"onUpdate:modelValue":m[0]||(m[0]=B=>R.name=B),placeholder:"输入关键字进行查询",style:{width:"100%"},"suffix-icon":"search",clearable:""},null,8,["modelValue"])]),default:n(()=>[e(N,{tag:"div",class:"org-tree"},{default:n(()=>[e(M,{ref_key:"orgTreeRef",ref:h,"node-key":"id",data:b.value,"default-expanded-keys":v.value,props:l,"filter-node-method":p,onNodeClick:x},{default:n(({data:B})=>[k("div",at,[k("div",nt,[e(C,{size:16},{default:n(()=>[e(i(_l))]),_:1}),$("  "+D(B.name),1)]),e(C,{class:"is-selected"},{default:n(()=>[e(i(fl))]),_:1})])]),_:1},8,["data","default-expanded-keys"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const Ge=A(st,[["__scopeId","data-v-12a5ddcd"]]),rt={class:"role-wrapper"},dt=I({__name:"RoleSelector",props:{modelValue:{},placeholder:{default:"请选择角色"},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},style:{}},emits:["update:modelValue"],setup(s,{emit:r}){const t=s,o=X(t,"modelValue",r),l=q(()=>o.value?Array.isArray(o.value)?o.value:[o.value]:[]),u=P(),d=rl(),b=ie(),h=q(()=>d.value||t.disabled),v=()=>{var x;(x=u.value)==null||x.open()},w=x=>{o.value&&(t.multiple&&Array.isArray(o.value)?o.value.splice(o.value.indexOf(x),1):o.value=null)};return(x,U)=>{const R=le,p=K,a=J;return y(),T(L,null,[e(Ge,{ref_key:"RolePickerRef",ref:u,multiple:x.multiple,modelValue:i(o),"onUpdate:modelValue":U[0]||(U[0]=_=>re(o)?o.value=_:null)},null,8,["multiple","modelValue"]),k("div",rt,[e(p,{class:"role-but-item",size:i(b),disabled:h.value,onClick:v,circle:""},{default:n(()=>[e(R,null,{default:n(()=>[e(i(Ml))]),_:1})]),_:1},8,["size","disabled"]),(y(!0),T(L,null,W(l.value,_=>(y(),E(We,{closable:!h.value,key:_,id:_,onClose:w},null,8,["closable","id"]))),128)),Q(e(a,{class:"placeholder"},{default:n(()=>[$(D(x.placeholder),1)]),_:1},512),[[oe,!i(o)||i(o).length===0]])])],64)}}});const it=A(dt,[["__scopeId","data-v-05f71629"]]),ut=Ve(We),ct=Ve(Ge),Pe=dl(it,{roleTag:We,rolePicker:Ge}),pt=Object.freeze(Object.defineProperty({__proto__:null,RolePicker:ct,RoleSelector:Pe,RoleTag:ut,default:Pe},Symbol.toStringTag,{value:"Module"})),ce=s=>(ve("data-v-041f7597"),s=s(),he(),s),_t={class:"flow-opt-item"},ft={class:"flow-opt-item__content"},mt=ce(()=>k("div",{class:"flow-opt-item__second"}," 同意描述、同意描述、同意描述、同意描述、同意描述、同意描述 ",-1)),vt={class:"flow-opt-item"},ht={class:"flow-opt-item__content"},bt=ce(()=>k("div",{class:"flow-opt-item__second"}," 拒绝描述、拒绝描述、拒绝描述、拒绝描述、拒绝描述、拒绝描述 ",-1)),gt={class:"flow-opt-item"},yt={class:"flow-opt-item__content"},Vt=ce(()=>k("div",{class:"flow-opt-item__second"}," 转办描述、转办描述、转办描述、转办描述、转办描述、转办描述 ",-1)),$t={class:"flow-opt-item"},kt={class:"flow-opt-item__content"},wt=ce(()=>k("div",{class:"flow-opt-item__second"}," 加签描述、加签描述、加签描述、加签描述、加签描述、加签描述 ",-1)),xt={class:"flow-opt-item"},Et={class:"flow-opt-item__content"},Ct=ce(()=>k("div",{class:"flow-opt-item__second"}," 减签描述、减签描述、减签描述、减签描述、减签描述、减签描述 ",-1)),Ut=I({__name:"ApprovalAttr",props:{node:{}},emits:["update:node"],setup(s,{emit:r}){const t=s,o=P("properties"),{node:l}=te(t,r),{fields:u}=G("nodeHooks"),d=q({get(){return l.value.formProperties.every(p=>p.writeable)},set(p){l.value.formProperties.forEach(a=>a.writeable=p),p?(h.value=!1,v.value=!1):b.value=!1}}),b=q({get(){return l.value.formProperties.every(p=>p.required)},set(p){l.value.formProperties.forEach(a=>a.required=p),p&&(d.value=!0,h.value=!1,v.value=!1)}}),h=q({get(){return l.value.formProperties.every(p=>p.readable)},set(p){l.value.formProperties.forEach(a=>a.readable=p),p&&(d.value=!1,v.value=!1,b.value=!1)}}),v=q({get(){return l.value.formProperties.every(p=>p.hidden)},set(p){l.value.formProperties.forEach(a=>a.hidden=p),p&&(d.value=!1,b.value=!1,h.value=!1)}}),w=p=>{p.readable&&(p.writeable=!1,p.required=!1,p.hidden=!1)},x=p=>{p.required&&(p.writeable=!0,p.readable=!1,p.hidden=!1)},U=p=>{p.writeable?(p.readable=!1,p.hidden=!1):p.required=!1},R=p=>{p.hidden&&(p.readable=!1,p.writeable=!1,p.required=!1)};return de(()=>{const p=l.value.formProperties;l.value.formProperties=u.value.filter(a=>a.value!==void 0).map(a=>({id:a.id,name:a.title,readable:a.props.disabled||!1,writeable:!a.props.disabled||!1,hidden:a.props.hidden||!1,required:a.props.required&&!a.props.disabled||!1})),l.value.formProperties.forEach(a=>{const _=p.find(f=>f.id===a.id);_&&(a.readable=_.readable,a.writeable=_.writeable,a.hidden=_.hidden,a.required=_.required)})}),(p,a)=>{const _=il,f=Il,c=Te,m=Sl,g=J,C=$e,M=Oe,N=qe,S=Ae,F=Ne,O=ke,B=Fe,z=le,ae=Be,ne=Tl;return y(),E(i(je),{modelValue:o.value,"onUpdate:modelValue":a[18]||(a[18]=V=>o.value=V),stretch:"",block:!1},{default:n(()=>[e(S,{label:"设置审批人",name:"properties"},{default:n(()=>[e(N,{"label-position":"top","label-width":"90px"},{default:n(()=>[e(c,{prop:"assigneeType",label:"审批对象"},{default:n(()=>[e(f,{modelValue:i(l).assigneeType,"onUpdate:modelValue":a[0]||(a[0]=V=>i(l).assigneeType=V)},{default:n(()=>[e(_,{label:"user"},{default:n(()=>[$("指定人员")]),_:1}),e(_,{label:"role"},{default:n(()=>[$("指定角色")]),_:1}),e(_,{label:"choice"},{default:n(()=>[$("发起人自选")]),_:1}),e(_,{label:"self"},{default:n(()=>[$("发起人自己")]),_:1}),e(_,{label:"leader"},{default:n(()=>[$("多级上级")]),_:1}),e(_,{label:"formUser"},{default:n(()=>[$("表单内人员")]),_:1}),e(_,{label:"formRole"},{default:n(()=>[$("表单内角色")]),_:1})]),_:1},8,["modelValue"])]),_:1}),i(l).assigneeType==="user"?(y(),E(c,{key:0,prop:"users",label:"指定人员"},{default:n(()=>[e(i(me),{multiple:"",placeholder:"请选择人员",modelValue:i(l).users,"onUpdate:modelValue":a[1]||(a[1]=V=>i(l).users=V)},null,8,["modelValue"])]),_:1})):j("",!0),i(l).assigneeType==="choice"?(y(),E(c,{key:1,prop:"selfSelect",label:"发起人自选择"},{default:n(()=>[e(f,{modelValue:i(l).choice,"onUpdate:modelValue":a[2]||(a[2]=V=>i(l).choice=V)},{default:n(()=>[e(m,{label:!1},{default:n(()=>[$("单选")]),_:1}),e(m,{label:!0},{default:n(()=>[$("多选")]),_:1})]),_:1},8,["modelValue"])]),_:1})):j("",!0),i(l).assigneeType==="self"?(y(),E(c,{key:2,prop:"self",label:"发起人自己"},{default:n(()=>[e(g,null,{default:n(()=>[$(" 发起人自己作为审批人进行审批 ")]),_:1})]),_:1})):j("",!0),i(l).assigneeType==="leader"?(y(),E(c,{key:3,prop:"leader",label:"多级上级"},{default:n(()=>[e(M,{modelValue:i(l).leader,"onUpdate:modelValue":a[3]||(a[3]=V=>i(l).leader=V),placeholder:"请选择多级上级"},{default:n(()=>[e(C,{label:"直属上级",value:1}),e(C,{label:"2级上级",value:2}),e(C,{label:"3级上级",value:3}),e(C,{label:"4级上级",value:4}),e(C,{label:"5级上级",value:5}),e(C,{label:"6级上级",value:6}),e(C,{label:"7级上级",value:7}),e(C,{label:"8级上级",value:8}),e(C,{label:"9级上级",value:9}),e(C,{label:"10级上级",value:10}),e(C,{label:"11级上级",value:11})]),_:1},8,["modelValue"])]),_:1})):j("",!0),i(l).assigneeType==="role"?(y(),E(c,{key:4,prop:"roles",label:"指定角色"},{default:n(()=>[e(i(Pe),{multiple:"",placeholder:"请选择角色",modelValue:i(l).roles,"onUpdate:modelValue":a[4]||(a[4]=V=>i(l).roles=V)},null,8,["modelValue"])]),_:1})):j("",!0),i(l).assigneeType==="formUser"?(y(),E(c,{key:5,prop:"formUser",label:"表单内人员"},{default:n(()=>[e(M,{placeholder:"选择表单内人员",modelValue:i(l).formUser,"onUpdate:modelValue":a[5]||(a[5]=V=>i(l).formUser=V)},{default:n(()=>[(y(!0),T(L,null,W(i(u).filter(V=>V.name==="UserSelection"),V=>(y(),E(C,{key:V.id,label:V.title,value:V.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):j("",!0),i(l).assigneeType==="formRole"?(y(),E(c,{key:6,prop:"formRole",label:"表单内角色"},{default:n(()=>[e(M,{placeholder:"选择表单内角色",modelValue:i(l).formRole,"onUpdate:modelValue":a[6]||(a[6]=V=>i(l).formRole=V)},{default:n(()=>[(y(!0),T(L,null,W(i(u).filter(V=>V.name==="RoleSelection"),V=>(y(),E(C,{key:V.id,label:V.title,value:V.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):j("",!0),e(c,{prop:"method",label:"多人审批方式"},{default:n(()=>[e(f,{class:"flex-column",modelValue:i(l).multi,"onUpdate:modelValue":a[7]||(a[7]=V=>i(l).multi=V)},{default:n(()=>[e(_,{label:"sequential"},{default:n(()=>[$("依次审批（按顺序审批）")]),_:1}),e(_,{label:"joint"},{default:n(()=>[$("会签（需要所有审批人都通过才可通过）")]),_:1}),e(_,{label:"single"},{default:n(()=>[$("或签（其中一名审批人通过或驳回即可）")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(c,{prop:"nobody",label:"审批人为空"},{default:n(()=>[e(f,{modelValue:i(l).nobody,"onUpdate:modelValue":a[8]||(a[8]=V=>i(l).nobody=V)},{default:n(()=>[e(_,{label:"pass"},{default:n(()=>[$("自动通过")]),_:1}),e(_,{label:"reject"},{default:n(()=>[$("自动驳回")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(S,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(B,{data:i(l).formProperties,style:{width:"100%"}},{default:n(()=>[e(F,{prop:"name",label:"字段"}),e(F,{prop:"readable"},{header:n(()=>[e(O,{modelValue:h.value,"onUpdate:modelValue":a[9]||(a[9]=V=>h.value=V),label:"可读"},null,8,["modelValue"])]),default:n(({row:V})=>[e(O,{modelValue:V.readable,"onUpdate:modelValue":H=>V.readable=H,onChange:H=>w(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(F,{prop:"writeable"},{header:n(()=>[e(O,{modelValue:d.value,"onUpdate:modelValue":a[10]||(a[10]=V=>d.value=V),label:"可写"},null,8,["modelValue"])]),default:n(({row:V})=>[e(O,{modelValue:V.writeable,"onUpdate:modelValue":H=>V.writeable=H,onChange:H=>U(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(F,{prop:"required"},{header:n(()=>[e(O,{modelValue:b.value,"onUpdate:modelValue":a[11]||(a[11]=V=>b.value=V),label:"必填"},null,8,["modelValue"])]),default:n(({row:V})=>[e(O,{modelValue:V.required,"onUpdate:modelValue":H=>V.required=H,onChange:H=>x(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(F,{prop:"hidden"},{header:n(()=>[e(O,{modelValue:v.value,"onUpdate:modelValue":a[12]||(a[12]=V=>v.value=V),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:V})=>[e(O,{modelValue:V.hidden,"onUpdate:modelValue":H=>V.hidden=H,onChange:H=>R(V)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1}),e(S,{label:"操作权限",name:"operationPermissions"},{default:n(()=>[k("div",_t,[e(z,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(i(Hl))]),_:1}),k("div",ft,[e(g,{tag:"b"},{default:n(()=>[$(" 同意 ")]),_:1}),mt]),e(ae,{modelValue:i(l).operations.complete,"onUpdate:modelValue":a[13]||(a[13]=V=>i(l).operations.complete=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(ne),k("div",vt,[e(z,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(i(Le))]),_:1}),k("div",ht,[e(g,{tag:"b"},{default:n(()=>[$(" 拒绝 ")]),_:1}),bt]),e(ae,{modelValue:i(l).operations.refuse,"onUpdate:modelValue":a[14]||(a[14]=V=>i(l).operations.refuse=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(ne),k("div",gt,[e(z,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(i(Wl))]),_:1}),k("div",yt,[e(g,{tag:"b"},{default:n(()=>[$(" 转办 ")]),_:1}),Vt]),e(ae,{modelValue:i(l).operations.transfer,"onUpdate:modelValue":a[15]||(a[15]=V=>i(l).operations.transfer=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(ne),k("div",$t,[e(z,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(i(ze))]),_:1}),k("div",kt,[e(g,{tag:"b"},{default:n(()=>[$(" 加签 ")]),_:1}),wt]),e(ae,{modelValue:i(l).operations.addMulti,"onUpdate:modelValue":a[16]||(a[16]=V=>i(l).operations.addMulti=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(ne),k("div",xt,[e(z,{size:32,class:"flow-opt-item__icon"},{default:n(()=>[e(i(ml))]),_:1}),k("div",Et,[e(g,{tag:"b"},{default:n(()=>[$(" 减签 ")]),_:1}),Ct]),e(ae,{modelValue:i(l).operations.minusMulti,"onUpdate:modelValue":a[17]||(a[17]=V=>i(l).operations.minusMulti=V),"inline-prompt":"","active-text":"开","inactive-text":"关"},null,8,["modelValue"])]),e(ne)]),_:1})]),_:1},8,["modelValue"])}}});const Pt=A(Ut,[["__scopeId","data-v-041f7597"]]),Rt=I({__name:"CcAttr",props:{node:{}},emits:["update:node"],setup(s,{emit:r}){const t=s,o=P("properties"),{node:l}=te(t,r),{fields:u}=G("nodeHooks"),d=q({get(){return l.value.formProperties.every(h=>h.readable)},set(h){l.value.formProperties.forEach(v=>v.readable=h),b.value=!h}}),b=q({get(){return l.value.formProperties.every(h=>h.hidden)},set(h){l.value.formProperties.forEach(v=>v.hidden=h),d.value=!h}});return de(()=>{const h=l.value.formProperties;l.value.formProperties=u.value.filter(v=>v.value!==void 0).map(v=>({id:v.id,name:v.title,readable:!0,writeable:!1,required:!1,hidden:v.props.hidden||!1})),l.value.formProperties.forEach(v=>{const w=h.find(x=>x.id===v.id);w&&(v.readable=w.readable,v.writeable=w.writeable,v.hidden=w.hidden,v.required=w.required)})}),(h,v)=>{const w=me,x=Te,U=qe,R=Ae,p=Ne,a=ke,_=Fe;return y(),E(i(je),{modelValue:o.value,"onUpdate:modelValue":v[3]||(v[3]=f=>o.value=f),stretch:"",block:!1},{default:n(()=>[e(R,{label:"设置抄送人",name:"properties"},{default:n(()=>[e(U,{"label-position":"top","label-width":"90px"},{default:n(()=>[e(x,{prop:"users",label:"抄送人"},{default:n(()=>[e(w,{multiple:"",placeholder:"请选择人员",modelValue:i(l).users,"onUpdate:modelValue":v[0]||(v[0]=f=>i(l).users=f)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(R,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(_,{data:i(l).formProperties,style:{width:"100%"}},{default:n(()=>[e(p,{prop:"name",label:"字段"}),e(p,{prop:"readable"},{header:n(()=>[e(a,{modelValue:d.value,"onUpdate:modelValue":v[1]||(v[1]=f=>d.value=f),label:"可读"},null,8,["modelValue"])]),default:n(({row:f})=>[e(a,{modelValue:f.readable,"onUpdate:modelValue":c=>f.readable=c,onChange:c=>f.hidden=!c},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(p,{prop:"hidden"},{header:n(()=>[e(a,{modelValue:b.value,"onUpdate:modelValue":v[2]||(v[2]=f=>b.value=f),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:f})=>[e(a,{modelValue:f.hidden,"onUpdate:modelValue":c=>f.hidden=c,onChange:c=>f.readable=!c},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])}}}),It=I({__name:"StartAttr",props:{node:{}},emits:["update:node"],setup(s,{emit:r}){const t=s,o=P("formPermissions"),{node:l}=te(t,r),{fields:u}=G("nodeHooks"),d=q({get(){return l.value.formProperties.every(p=>p.writeable)},set(p){l.value.formProperties.forEach(a=>a.writeable=p),p?(h.value=!1,v.value=!1):b.value=!1}}),b=q({get(){return l.value.formProperties.every(p=>p.required)},set(p){l.value.formProperties.forEach(a=>a.required=p),p&&(d.value=!0,h.value=!1,v.value=!1)}}),h=q({get(){return l.value.formProperties.every(p=>p.readable)},set(p){l.value.formProperties.forEach(a=>a.readable=p),p&&(d.value=!1,v.value=!1,b.value=!1)}}),v=q({get(){return l.value.formProperties.every(p=>p.hidden)},set(p){l.value.formProperties.forEach(a=>a.hidden=p),p&&(d.value=!1,b.value=!1,h.value=!1)}}),w=p=>{p.hidden&&(p.readable=!1,p.writeable=!1,p.required=!1)},x=p=>{p.writeable?(p.readable=!1,p.hidden=!1):p.required=!1},U=p=>{p.readable&&(p.writeable=!1,p.required=!1,p.hidden=!1)},R=p=>{p.required&&(p.writeable=!0,p.readable=!1,p.hidden=!1)};return de(()=>{const p=l.value.formProperties;l.value.formProperties=u.value.filter(a=>a.value!==void 0).map(a=>({id:a.id,name:a.title,readable:a.props.disabled||!1,writeable:!a.props.disabled||!1,hidden:a.props.hidden||!1,required:a.props.required&&!a.props.disabled||!1})),l.value.formProperties.forEach(a=>{const _=p.find(f=>f.id===a.id);_&&(a.readable=_.readable,a.writeable=_.writeable,a.hidden=_.hidden,a.required=_.required)})}),(p,a)=>{const _=Ne,f=ke,c=Fe,m=Ae;return y(),E(i(je),{modelValue:o.value,"onUpdate:modelValue":a[4]||(a[4]=g=>o.value=g),stretch:"",block:!1},{default:n(()=>[e(m,{label:"表单权限",name:"formPermissions"},{default:n(()=>[e(c,{data:i(l).formProperties,style:{width:"100%"}},{default:n(()=>[e(_,{prop:"name",label:"字段"}),e(_,{prop:"readable"},{header:n(()=>[e(f,{modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=g=>h.value=g),label:"可读"},null,8,["modelValue"])]),default:n(({row:g})=>[e(f,{modelValue:g.readable,"onUpdate:modelValue":C=>g.readable=C,onChange:C=>U(g)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(_,{prop:"writeable"},{header:n(()=>[e(f,{modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=g=>d.value=g),label:"可写"},null,8,["modelValue"])]),default:n(({row:g})=>[e(f,{modelValue:g.writeable,"onUpdate:modelValue":C=>g.writeable=C,onChange:C=>x(g)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(_,{prop:"required"},{header:n(()=>[e(f,{modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=g=>b.value=g),label:"必填"},null,8,["modelValue"])]),default:n(({row:g})=>[e(f,{modelValue:g.required,"onUpdate:modelValue":C=>g.required=C,onChange:C=>R(g)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(_,{prop:"hidden"},{header:n(()=>[e(f,{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=g=>v.value=g),label:"隐藏"},null,8,["modelValue"])]),default:n(({row:g})=>[e(f,{modelValue:g.hidden,"onUpdate:modelValue":C=>g.hidden=C,onChange:C=>w(g)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])]),_:1}),e(m,{label:"操作权限",name:"operationPermissions"},{default:n(()=>[$(" 待添加... ")]),_:1})]),_:1},8,["modelValue"])}}}),St=I({__name:"Trigger",props:{modelValue:{},options:{},filterRules:{}},emits:["update:modelValue"],setup(s,{emit:r}){const t=s,o=X(t,"modelValue",r);return(l,u)=>{const d=$e,b=Oe;return y(),E(b,{class:"trigger-container",modelValue:i(o),"onUpdate:modelValue":u[0]||(u[0]=h=>re(o)?o.value=h:null),filterable:"",placeholder:"选择字段"},{default:n(()=>[(y(!0),T(L,null,W(t.options,h=>(y(),E(d,{key:h.id,label:h.title,value:h.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])}}}),Tt=I({__name:"Operator",props:{modelValue:{}},emits:["update:modelValue"],setup(s,{emit:r}){const t=s,o=[{value:"equal",label:"等于"},{value:"not_equal",label:"不等于"},{label:"包含",value:"contains"},{label:"不包含",value:"not_contain"}],l=X(t,"modelValue",r);return(u,d)=>{const b=$e,h=Oe;return y(),E(h,{class:"operator-container",modelValue:i(l),"onUpdate:modelValue":d[0]||(d[0]=v=>re(l)?l.value=v:null),filterable:"",placeholder:"筛选符"},{default:n(()=>[(y(),T(L,null,W(o,v=>e(b,{key:v.value,label:v.label,value:v.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])}}});const Ot=A(Tt,[["__scopeId","data-v-b7adb9aa"]]),qt="modulepreload",At=function(s){return"/lowflow-design/"+s},Ze={},Z=function(r,t,o){if(!t||t.length===0)return r();const l=document.getElementsByTagName("link");return Promise.all(t.map(u=>{if(u=At(u),u in Ze)return;Ze[u]=!0;const d=u.endsWith(".css"),b=d?'[rel="stylesheet"]':"";if(!!o)for(let w=l.length-1;w>=0;w--){const x=l[w];if(x.href===u&&(!d||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${b}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":qt,d||(v.as="script",v.crossOrigin=""),v.href=u,document.head.appendChild(v),d)return new Promise((w,x)=>{v.addEventListener("load",w),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>r()).catch(u=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u})},Nt=I({props:{modelValue:{type:[String,Number,Boolean,Array,Object],default:void 0,required:!1},field:{type:Object,required:!0}},emits:["update:modelValue"],components:{Input:Y(()=>Z(()=>import("./element-plus-ec77b80d.js").then(s=>s.O),["assets/js/element-plus-ec77b80d.js","assets/js/@vue-35799baf.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-3ddeaf42.js","assets/js/@element-plus-1faf17cc.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-3fa56043.css"]).then(({ElInput:s})=>s)),Number:Y(()=>Z(()=>import("./element-plus-ec77b80d.js").then(s=>s.O),["assets/js/element-plus-ec77b80d.js","assets/js/@vue-35799baf.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-3ddeaf42.js","assets/js/@element-plus-1faf17cc.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-3fa56043.css"]).then(({ElInputNumber:s})=>s)),Select:Y(()=>Z(()=>import("./element-plus-ec77b80d.js").then(s=>s.O),["assets/js/element-plus-ec77b80d.js","assets/js/@vue-35799baf.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-3ddeaf42.js","assets/js/@element-plus-1faf17cc.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-3fa56043.css"]).then(({ElSelect:s})=>s)),Radio:Y(()=>Z(()=>import("./element-plus-ec77b80d.js").then(s=>s.O),["assets/js/element-plus-ec77b80d.js","assets/js/@vue-35799baf.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-3ddeaf42.js","assets/js/@element-plus-1faf17cc.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-3fa56043.css"]).then(({ElRadio:s})=>s)),Checkbox:Y(()=>Z(()=>import("./element-plus-ec77b80d.js").then(s=>s.O),["assets/js/element-plus-ec77b80d.js","assets/js/@vue-35799baf.js","assets/js/lodash-es-21c98b27.js","assets/js/@vueuse-3ddeaf42.js","assets/js/@element-plus-1faf17cc.js","assets/js/@sxzz-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-f21ac596.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-593301b5.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-72671fae.js","assets/css/element-plus-3fa56043.css"]).then(({ElCheckbox:s})=>s)),UserSelection:Y(()=>Z(()=>Promise.resolve().then(()=>lt),void 0)),RoleSelection:Y(()=>Z(()=>Promise.resolve().then(()=>pt),void 0))},setup(s,{emit:r}){return{buildProps:l=>{const u={},d=l.props||{};return Object.keys(d).forEach(b=>{u[b]=d[b]}),s.modelValue!==void 0?u.modelValue=s.modelValue:u.modelValue=l.value,u["onUpdate:modelValue"]=b=>{r("update:modelValue",b)},delete u.options,u},buildSlots:l=>{let u={};const b={Select:h=>h.props.options.map(v=>e($e,{label:v.label,value:v.value},null)),Radio:h=>h.props.options.map(v=>e(il,{label:v.value},{default:()=>[v.label]})),Checkbox:h=>h.props.options.map(v=>e(ke,{label:v.value},{default:()=>[v.label]}))}[l.name];return b&&(u.default=()=>b(l)),u}}},render(){const s=vl(this.field),r=this.buildSlots(s),t=this.buildProps(s),o=Ie(s.name);return typeof o=="string"?Je(o,t,r):Je(o,t,r)}}),Ft=s=>(ve("data-v-9daa512b"),s=s(),he(),s),Bt={class:"filter-container"},zt={class:"logical-operator"},Lt=Ft(()=>k("div",{class:"logical-operator__line"},null,-1)),Dt={class:"filter-option-content"},jt={key:0,class:"filter-item-rule"},Mt={class:"filter-item-rule"},Ht=I({name:"ConditionFilter"}),Wt=I({...Ht,props:{filterFields:{},modelValue:{}},emits:["update:modelValue","addCondition","delCondition","delGroup"],setup(s,{emit:r}){const t=s,o=X(t,"modelValue",r),l=()=>{o.value.conditions.push({field:null,operator:"equal",value:null})},u=h=>{o.value.conditions.splice(h,1),o.value.conditions.length<=0&&r("delGroup"),r("delCondition",h)},d=()=>{o.value.groups.push({logicalOperator:"and",conditions:[{field:null,operator:"",value:null}],groups:[]})},b=h=>{o.value.groups.splice(h,1)};return(h,v)=>{const w=Be,x=Te,U=Ol,R=K,p=ql,a=Ie("ConditionFilter"),_=qe;return y(),T("div",Bt,[k("div",zt,[Lt,e(w,{modelValue:i(o).logicalOperator,"onUpdate:modelValue":v[0]||(v[0]=f=>i(o).logicalOperator=f),"inline-prompt":"",style:{"--el-switch-on-color":"#409EFF","--el-switch-off-color":"#67C23A"},"active-value":"and","inactive-value":"or","active-text":"且","inactive-text":"或"},null,8,["modelValue"])]),k("div",Dt,[e(_,{"label-width":0,inline:!0,model:i(o)},{default:n(()=>[(y(!0),T(L,null,W(i(o).conditions,(f,c)=>(y(),E(p,{key:`${f.field}-${c}`,gutter:5,class:"filter-item-rule"},{default:n(()=>[e(U,{xs:24,sm:7},{default:n(()=>[e(x,{prop:"conditions."+c+".field",style:{width:"100%"}},{default:n(()=>[e(St,{ref_for:!0,ref:"triggerRef",options:t.filterFields.filter(m=>m.value!==void 0),"filter-rules":i(o),modelValue:f.field,"onUpdate:modelValue":[m=>f.field=m,m=>f.value=null]},null,8,["options","filter-rules","modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),f.field?(y(),E(U,{key:0,xs:24,sm:5},{default:n(()=>[e(x,{prop:"conditions."+c+".operator",style:{width:"100%"}},{default:n(()=>[e(Ot,{ref_for:!0,ref:"operatorRef",modelValue:f.operator,"onUpdate:modelValue":m=>f.operator=m},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):j("",!0),f.field?(y(),E(U,{key:1,xs:24,sm:10},{default:n(()=>[e(x,{prop:"conditions."+c+".value",style:{width:"100%"}},{default:n(()=>[e(i(Nt),{field:t.filterFields.find(m=>m.id===f.field),modelValue:f.value,"onUpdate:modelValue":m=>f.value=m},null,8,["field","modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):j("",!0),e(U,{xs:24,sm:2,style:{display:"flex","align-items":"center","flex-direction":"row-reverse"}},{default:n(()=>[e(R,{plain:"",circle:"",type:"danger",icon:i(Gl),onClick:m=>u(c)},null,8,["icon","onClick"])]),_:2},1024)]),_:2},1024))),128)),(y(!0),T(L,null,W(i(o).groups,(f,c)=>(y(),E(a,{key:c,onDelGroup:m=>b(c),modelValue:i(o).groups[c],"onUpdate:modelValue":m=>i(o).groups[c]=m,filterFields:h.filterFields},{default:n(()=>[e(R,{onClick:m=>b(c),icon:i(Le),class:"filter-filter-item__add"},{default:n(()=>[$(" 删除条件组 ")]),_:2},1032,["onClick","icon"])]),_:2},1032,["onDelGroup","modelValue","onUpdate:modelValue","filterFields"]))),128)),i(o).groups.length===0&&i(o).conditions.length===0?(y(),T("div",jt)):j("",!0)]),_:1},8,["model"]),k("div",Mt,[e(R,{onClick:l,icon:i(Xe),class:"filter-filter-item__add"},{default:n(()=>[$(" 添加条件 ")]),_:1},8,["icon"]),e(R,{onClick:d,icon:i(Xe),class:"filter-filter-item__add"},{default:n(()=>[$(" 添加条件组 ")]),_:1},8,["icon"]),se(h.$slots,"default",{},void 0,!0)])])])}}});const Gt=A(Wt,[["__scopeId","data-v-9daa512b"]]),Kt=I({__name:"ConditionAttr",props:{node:{}},emits:["update:node"],setup(s,{emit:r}){const t=s,{node:o}=te(t,r),{fields:l}=G("nodeHooks");return(u,d)=>(y(),E(Gt,{modelValue:i(o).conditions,"onUpdate:modelValue":d[0]||(d[0]=b=>i(o).conditions=b),"filter-fields":i(l)},null,8,["modelValue","filter-fields"]))}}),Jt=["id"],Xt=I({__name:"index",setup(s,{expose:r}){const t={start:It,approval:Pt,cc:Rt,condition:Kt};let o=P({id:"",pid:"",type:"",name:"",child:null});const l=P(!1),u=P(!1),d=()=>{u.value&&(u.value=!1)};return r({open:h=>{o.value=h,l.value=!0}}),(h,v)=>{const w=ye,x=Al,U=Nl;return y(),E(U,{modelValue:l.value,"onUpdate:modelValue":v[2]||(v[2]=R=>l.value=R),"destroy-on-close":"",size:"35%"},{header:n(({titleId:R,titleClass:p})=>[k("span",{id:R,class:ee(p)},[Q(e(w,{onBlur:d,maxlength:"30",modelValue:i(o).name,"onUpdate:modelValue":v[0]||(v[0]=a=>i(o).name=a)},null,8,["modelValue"]),[[i(ll),d],[oe,u.value]]),Q(e(x,{icon:"EditPen",onClick:v[1]||(v[1]=a=>u.value=!0)},{default:n(()=>[$(D(i(o).name),1)]),_:1},512),[[oe,!u.value]])],10,Jt)]),default:n(()=>[(y(),E(Re(t[i(o).type]),{node:i(o)},null,8,["node"]))]),_:1},8,["modelValue"])}}});const Yt=A(Xt,[["__scopeId","data-v-019eaad5"]]),Zt=(s,r)=>{const t=P(new Map),o=P(new Map),l=()=>(t.value.clear(),o.value.forEach((a,_)=>{const f=a==null?void 0:a.validate;if(f){const c=f();c&&c.showError&&t.value.set(_,c.message)}}),t),u=(a,_)=>{o.value.set(a,_)},d=()=>{let a=`node-${Math.random().toString(36).substring(2,7)}`;const _=(f,c)=>{if(f.id===c)return!0;if(f.child)return _(f.child,c);if("children"in f){const m=f;if(m.children&&m.children.length>0)return m.children.some(g=>_(g,c))}return!1};return _(s.value,a)?d():a},b=a=>{const _=a;_.children.unshift({id:d(),pid:a.id,type:"condition",def:!1,name:`条件${_.children.length+1}`,conditions:{logicalOperator:"and",conditions:[],groups:[]},child:null})},x={condition:b,approval:a=>{const _=a.child,f=d();a.child={id:f,pid:a.id,type:"approval",name:"审批人",child:_,assigneeType:"user",formUser:"",formRole:"",users:[],roles:[],leader:1,choice:!1,self:!1,multi:"sequential",nobody:"pass",formProperties:r.value.map(c=>({id:c.id,name:c.title,readable:!0,writeable:!1,hidden:!1,required:!1})),operations:{complete:!0,refuse:!0,save:!0,transfer:!1,addMulti:!1,minusMulti:!1}},_&&(_.pid=f)},cc:a=>{const _=a.child,f=d();a.child={id:f,pid:a.id,type:"cc",name:"抄送人",child:_,users:[],formProperties:r.value.map(c=>({id:c.id,name:c.title,readable:!0,writeable:!1,hidden:!1,required:!1}))},_&&(_.pid=f)},exclusive:a=>{const _=a.child,f=d(),c={id:f,pid:a.id,type:"exclusive",name:"独占网关",child:_,children:[]};if(a.child=c,_&&(_.pid=f),b(a.child),b(a.child),c.children.length>0){const m=c.children[c.children.length-1];m.def=!0,m.name="默认条件"}}},U=(a,_)=>{const f=x[a];f&&f(_)},R=a=>{p(s.value,a)},p=(a,_)=>{var f;if(a.id===_.pid)if("children"in a&&((f=a.child)==null?void 0:f.id)!==_.id){const c=a,m=c.children.findIndex(g=>g.id===_.id);m!==-1&&(c.children.length<=2?R(c):c.children.splice(m,1))}else _.child&&_.child.pid&&(_.child.pid=a.id),a.child=_.child;else if(a.child&&p(a.child,_),"children"in a){const c=a;c.children&&c.children.length>0&&c.children.forEach(m=>{p(m,_)})}};return{addNode:U,delNode:R,addNodeRef:u,validateNodes:l,nodeErrors:t}},Qt=async s=>{const r=await ue.download("https://www.666cxf.com/stage-api/workflow/model/download",s);eo.saveAs(new Blob([r],{type:"application/octet-stream;charset=utf-8"}),"测试流程.bpmn20.xml")},ea={class:"designer-container"},la={class:"tool"},oa={class:"zoom"},ta={class:"node-container"},aa=I({name:"flowDesign"}),na=I({...aa,props:{process:{},fields:{}},emits:["update:process","update:fields"],setup(s,{emit:r}){const t=s;Qe(N=>({"53febc78":x.value}));const{fields:o}=te(t,r),l=P(t.process),{undo:u,redo:d,canUndo:b,canRedo:h}=Zl(l,{deep:!0,clone:vl}),v=P(),w=P(100),x=q(()=>w.value/100),U=P(!1),R=()=>{U.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},p=N=>{var S;(S=v.value)==null||S.open(N)},{addNode:a,delNode:_,validateNodes:f,addNodeRef:c}=Zt(l,o);kl("nodeHooks",{readOnly:!1,fields:o,addNode:a,delNode:_,addNodeRef:c,openPenal:p});const m=N=>{N.shiftKey&&(N.deltaY>0?w.value>50&&(w.value-=10):w.value<170&&(w.value+=10))},g=()=>{f()},C=()=>{const N={code:"test",name:"测试",icon:{name:"el:HomeFilled",color:"#409EFF"},process:l.value,form:{fields:o.value},version:1,sort:0,groupId:"",remark:""};Qt(N)},M=()=>{const N={code:"test",name:"测试",icon:{name:"el:HomeFilled",color:"#409EFF"},process:l.value,form:{fields:o.value},version:1,sort:0,groupId:"",remark:""},S=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),F=document.createElement("a");F.download="process.json",F.href=URL.createObjectURL(S),F.click(),URL.revokeObjectURL(F.href)};return window.addEventListener("wheel",m),wl(()=>{window.removeEventListener("wheel",m)}),(N,S)=>{const F=Be,O=K;return y(),T("div",ea,[k("div",la,[e(F,{"inline-prompt":"","active-icon":i(Kl),"inactive-icon":i(Jl),onChange:R,modelValue:U.value,"onUpdate:modelValue":S[0]||(S[0]=B=>U.value=B)},null,8,["active-icon","inactive-icon","modelValue"])]),k("div",oa,[e(O,{icon:i(ze),onClick:S[1]||(S[1]=B=>w.value+=10),disabled:w.value>=170,circle:""},null,8,["icon","disabled"]),k("span",null,D(w.value)+"%",1),e(O,{icon:i(ml),onClick:S[2]||(S[2]=B=>w.value-=10),circle:"",disabled:w.value<=50},null,8,["icon","disabled"]),e(O,{onClick:S[3]||(S[3]=B=>i(u)()),disabled:!i(b),icon:i(Xl)},{default:n(()=>[$("撤销")]),_:1},8,["disabled","icon"]),e(O,{onClick:S[4]||(S[4]=B=>i(d)()),disabled:!i(h),icon:i(Yl)},{default:n(()=>[$("重做")]),_:1},8,["disabled","icon"]),e(O,{onClick:g},{default:n(()=>[$("校验")]),_:1}),e(O,{onClick:M,type:"primary",icon:i(Ye)},{default:n(()=>[$("导出json")]),_:1},8,["icon"]),e(O,{onClick:C,type:"primary",icon:i(Ye)},{default:n(()=>[$("转bpmn")]),_:1},8,["icon"])]),k("div",ta,[e(bl,{node:l.value},null,8,["node"])]),e(Yt,{ref_key:"nodePenalRef",ref:v},null,512)])}}});const sa=A(na,[["__scopeId","data-v-f691c8d5"]]),ra=I({__name:"App",setup(s){const r=P({id:"root",pid:null,type:"start",name:"发起人",formProperties:[],child:{id:"end",pid:"root",type:"end",name:"结束",child:null}}),t=P([{id:"field_da2w55",title:"请假人",name:"UserSelection",value:null,props:{multiple:!1,disabled:!1,placeholder:"请选择用户",style:{width:"100%"}}},{id:"field_fa2w40",title:"请假天数",name:"Number",value:null,props:{disabled:!1,placeholder:"请假天数",style:{width:"100%"},min:0,max:100,step:1,precision:0}},{id:"field_d42t45",title:"请假事由",name:"Select",value:null,props:{disabled:!1,multiple:!1,placeholder:"请选择请假事由",options:[{label:"事假",value:"事假"},{label:"病假",value:"病假"},{label:"婚假",value:"婚假"},{label:"产假",value:"产假"},{label:"丧假",value:"丧假"},{label:"其他",value:"其他"}],style:{width:"100%"}}},{id:"field_522g58",title:"请假原因",name:"Input",value:null,props:{type:"textarea",placeholder:"请输入请假原因",autosize:{minRows:3,maxRows:3},disabled:!1,style:{width:"100%"}}}]);return(o,l)=>{const u=Bl;return y(),E(u,{namespace:"el",locale:i(Fl)},{default:n(()=>[e(sa,{process:r.value,fields:t.value},null,8,["process","fields"])]),_:1},8,["locale"])}}});const Ee=[{id:1,name:"张三",username:"admin",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:2,name:"李四",username:"lisi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:3,name:"王五",username:"wangwu",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:4,name:"赵六",username:"zhaoliu",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:5,name:"孙七",username:"sunqi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:6,name:"周八",username:"zhouba",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:7,name:"吴九",username:"wujui",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"},{id:8,name:"郑十",username:"zhengshi",avatar:"https://avatars.githubusercontent.com/u/44080404?v=4"}],da=[{url:"/api/user/info",method:"get",response:s=>{const r=s.query.username;return{code:200,success:!0,message:"操作成功",data:Ee.find(t=>t.username===r)}}},{url:"/api/user/list",method:"post",response:s=>{const r=s.body.userIds;return{code:200,success:!0,message:"操作成功",data:Array.isArray(r)?Ee.filter(t=>r.includes(t.username)):Ee}}}],Ce=[{id:"1",name:"项目经理"},{id:"2",name:"产品经理"},{id:"3",name:"高级开发工程师"},{id:"4",name:"中级开发工程师"},{id:"5",name:"项目总监"},{id:"6",name:"产品策划"},{id:"7",name:"客服"},{id:"8",name:"销售经理"}],ia=[{url:"/api/role/info",method:"get",response:s=>{const r=s.query.id;return{code:200,success:!0,message:"操作成功",data:Ce.find(t=>t.id===r)}}},{url:"/api/role/list",method:"post",response:s=>{const r=s.body.roleIds;return{code:200,success:!0,message:"操作成功",data:Array.isArray(r)?Ce.filter(t=>r.includes(t.id)):Ce}}}],ua=[...da,...ia],ca=[...ua];function pa(){lo(ca)}const _a=xl(ra);_a.mount("#app");pa();
